<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-US" lang="en-US">

<head>
    <!-- Basic Page Needs -->
    <meta charset="utf-8">
    <title>Blushelys - Freelance Management</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

    <!-- Theme Style -->
    <link rel="stylesheet" type="text/css" href="/admin-css/animate.min.css">
    <link rel="stylesheet" type="text/css" href="/admin-css/animation.css">
    <link rel="stylesheet" type="text/css" href="/admin-css/bootstrap.css">
    <link rel="stylesheet" type="text/css" href="/admin-css/bootstrap-select.min.css">
    <link rel="stylesheet" type="text/css" href="/admin-css/styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

    <!-- Font -->
    <link rel="stylesheet" href="/admin-font/fonts.css">

    <!-- Icon -->
    <link rel="stylesheet" href="/admin-icon/style.css">

    <!-- Favicon and Touch Icons  -->
    <link rel="shortcut icon" href="/images/logo/blushley-png-without-shade.png">
    <link rel="apple-touch-icon-precomposed" href="/images/logo/blushley-png-without-shade.png">
    
    <style>
        /* Status badges */
        .status-badge {
            padding: 4px 8px;
            border-radius: 12px;
            font-size: 12px;
            font-weight: 500;
        }

        .status-badge.active {
            background-color: #e6f7ee;
            color: #10b759;
        }

        .status-badge.inactive {
            background-color: #ffebeb;
            color: #ff4d4f;
        }

        .status-badge.pending {
            background-color: #fff4e6;
            color: #fa8c16;
        }

        .status-badge.verified {
            background-color: #e6f7ff;
            color: #5c4d3b;
        }

        /* Modern Modal Styles */
        .modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.6);
            backdrop-filter: blur(5px);
            animation: fadeIn 0.3s ease;
        }

        .modal-content {
            background-color: #fff;
            margin: 2% auto;
            border-radius: 16px;
            width: 90%;
            max-width: 900px;
            max-height: 90vh;
            overflow-y: auto;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
            animation: slideIn 0.3s ease;
        }

        .modern-modal {
            border: none;
            box-shadow: 0 25px 80px rgba(0, 0, 0, 0.15);
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 24px 32px;
            border-bottom: 1px solid #e5e7eb;
            background: linear-gradient(135deg, #5c4d3b 0%, #5c4d3b 100%);
            border-radius: 16px 16px 0 0;
            color: white;
        }

        .modal-title {
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .modal-title i {
            font-size: 24px;
            color: #fff;
        }

        .modal-title h3 {
            margin: 0;
            font-size: 24px;
            font-weight: 600;
            color: white;
        }

        .close-btn {
            background: rgba(255, 255, 255, 0.2);
            border: none;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s ease;
            color: white;
        }

        .close-btn:hover {
            background: rgba(255, 255, 255, 0.3);
            transform: scale(1.1);
        }

        .modal-body {
            padding: 32px;
        }

        .form-section {
            margin-bottom: 32px;
            background: #f8fafc;
            border-radius: 12px;
            padding: 24px;
            border: 1px solid #e2e8f0;
        }

        .section-header {
            margin-bottom: 20px;
            padding-bottom: 12px;
            border-bottom: 2px solid #e2e8f0;
        }

        .section-header h4 {
            margin: 0;
            font-size: 18px;
            font-weight: 600;
            color: #1e293b;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .section-header i {
            color: #667eea;
            font-size: 20px;
        }

        .form-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 20px;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: #374151;
            font-size: 14px;
        }

        .form-group input,
        .form-group select,
        .form-group textarea {
            width: 100%;
            padding: 12px 16px;
            border: 2px solid #e2e8f0;
            border-radius: 8px;
            font-size: 14px;
            transition: all 0.3s ease;
            background: white;
        }

        .form-group input:focus,
        .form-group select:focus,
        .form-group textarea:focus {
            outline: none;
            border-color: #5c4d3b;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }

        .file-upload-area {
            border: 2px dashed #cbd5e1;
            border-radius: 12px;
            padding: 40px 20px;
            text-align: center;
            background: #f8fafc;
            transition: all 0.3s ease;
            cursor: pointer;
            position: relative;
        }

        .file-upload-area:hover {
            border-color: #5c4d3b;
            background: #f1f5f9;
        }

        .file-upload-area input[type="file"] {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            opacity: 0;
            cursor: pointer;
        }

        .upload-content i {
            font-size: 48px;
            color: #94a3b8;
            margin-bottom: 16px;
        }

        .upload-content p {
            margin: 0 0 8px 0;
            font-weight: 600;
            color: #374151;
        }

        .upload-content small {
            color: #64748b;
        }

        .image-preview-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));
            gap: 12px;
            margin-top: 16px;
        }

        .image-preview-grid img {
            width: 100%;
            height: 120px;
            object-fit: cover;
            border-radius: 8px;
            border: 2px solid #e2e8f0;
        }

        .status-toggle {
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .toggle-label {
            display: flex;
            align-items: center;
            gap: 8px;
            cursor: pointer;
        }

        .toggle-slider {
            position: relative;
            width: 50px;
            height: 24px;
            background: #cbd5e1;
            border-radius: 12px;
            transition: all 0.3s ease;
        }

        .toggle-slider::before {
            content: '';
            position: absolute;
            top: 2px;
            left: 2px;
            width: 20px;
            height: 20px;
            background: white;
            border-radius: 50%;
            transition: all 0.3s ease;
        }

        input[type="checkbox"]:checked + .toggle-label .toggle-slider {
            background: #10b981;
        }

        input[type="checkbox"]:checked + .toggle-label .toggle-slider::before {
            transform: translateX(26px);
        }

        .form-actions {
            display: flex;
            justify-content: flex-end;
            gap: 16px;
            padding-top: 24px;
            border-top: 1px solid #e2e8f0;
            margin-top: 32px;
        }

        .btn {
            padding: 12px 24px;
            border-radius: 8px;
            font-weight: 600;
            font-size: 14px;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 8px;
            border: none;
        }

        .btn-secondary {
            background: #f1f5f9;
            color: #64748b;
            border: 2px solid #e2e8f0;
        }

        .btn-secondary:hover {
            background: #e2e8f0;
            color: #475569;
        }

        .btn-primary {
            background: linear-gradient(135deg, #5c4d3b 0%, #5c4d3b 100%);
            color: white;
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(102, 126, 234, 0.3);
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        @keyframes slideIn {
            from { 
                opacity: 0;
                transform: translateY(-50px);
            }
            to { 
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* Freelancer Cards */
        .freelancers-container {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
            gap: 20px;
            padding: 20px;
        }

        .freelancer-card {
            border: 1px solid #e0e0e0;
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
            transition: all 0.3s ease;
            background: white;
        }

        .freelancer-card:hover {
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
            transform: translateY(-4px);
        }

        .card-header {
            padding: 16px;
            background: #f8f9fa;
            border-bottom: 1px solid #e0e0e0;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .card-header h3 {
            margin: 0;
            font-size: 18px;
            font-weight: 600;
            color: #333;
            display: -webkit-box;
            -webkit-line-clamp: 1;
            -webkit-box-orient: vertical;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .card-image {
            height: 200px;
            overflow: hidden;
        }

        .card-image img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.3s ease;
        }

        .freelancer-card:hover .card-image img {
            transform: scale(1.05);
        }

        .card-body {
            padding: 16px;
        }

        .detail-row {
            display: flex;
            margin-bottom: 8px;
        }

        .detail-label {
            font-weight: 600;
            min-width: 100px;
            color: #666;
        }

        .detail-value {
            flex: 1;
            color: #333;
        }

        .skills-container {
            display: flex;
            flex-wrap: wrap;
            gap: 6px;
            margin-top: 8px;
        }

        .skill-tag {
            background: #e3f2fd;
            color: #1976d2;
            padding: 4px 8px;
            border-radius: 12px;
            font-size: 11px;
            font-weight: 500;
        }

        .card-footer {
            padding: 12px 16px;
            border-top: 1px solid #e0e0e0;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .card-actions {
            display: flex;
            gap: 8px;
        }

        .card-actions .item {
            width: 36px;
            height: 36px;
            border-radius: 6px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s ease;
            border: none;
        }

        .card-actions .item.edit {
            background-color: #e3f2fd;
            color: #5c4d3b;
        }

        .card-actions .item.edit:hover {
            background-color: #bbdefb;
        }

        .card-actions .item.toggle {
            background-color: #e8f5e9;
            color: #388e3c;
        }

        .card-actions .item.toggle:hover {
            background-color: #c8e6c9;
        }

        .card-actions .item.trash {
            background-color: #ffebee;
            color: #d32f2f;
        }

        .card-actions .item.trash:hover {
            background-color: #ffcdd2;
        }

        .badges-1{
            display: flex;
            gap: 10px;
        }

        .verified-badge {
            background-color: #e8f5e9;
            color: #388e3c;
            padding: 4px 8px;
            border-radius: 12px;
            font-size: 12px;
            font-weight: 500;
        }

        /* Filter and Search */
        .wg-filter {
            display: flex;
            align-items: center;
            gap: 20px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }

        .form-search {
            position: relative;
            flex-grow: 1;
            max-width: 400px;
        }

        .form-search input {
            width: 100%;
            padding: 10px 40px 10px 16px;
            border: 1px solid #ddd;
            border-radius: 6px;
        }

        .form-search button {
            position: absolute;
            right: 10px;
            top: 50%;
            transform: translateY(-50%);
            background: none;
            border: none;
            cursor: pointer;
            color: #666;
        }

        .show {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .show select {
            padding: 6px 10px;
            border: 1px solid #ddd;
            border-radius: 4px;
        }

        /* Pagination */
        .wg-pagination {
            display: flex;
            gap: 8px;
            list-style: none;
            padding: 0;
        }

        .wg-pagination li {
            width: 32px;
            height: 32px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 4px;
            background-color: #f5f5f5;
        }

        .wg-pagination li.active {
            background: linear-gradient(135deg, #5c4d3b 0%, #5c4d3b 100%);
        }

        .wg-pagination li.active a {
            color: white;
        }

        .wg-pagination li a {
            text-decoration: none;
            color: #333;
            width: 100%;
            height: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .wg-pagination li:hover:not(.active) {
            background-color: #e0e0e0;
        }

        /* Add Freelancer Button */
        .add-freelancer-btn {
            background: linear-gradient(135deg, #5c4d3b 0%, #5c4d3b 100%);
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 8px;
            transition: all 0.3s ease;
        }

        .add-freelancer-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(102, 126, 234, 0.3);
        }

        /* Service Locations */
        .service-locations {
            display: flex;
            flex-wrap: wrap;
            gap: 6px;
            margin-top: 8px;
        }

        .location-tag {
            background: #fff3e0;
            color: #f57c00;
            padding: 4px 8px;
            border-radius: 12px;
            font-size: 11px;
            font-weight: 500;
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .modal-content {
                width: 95%;
                margin: 5% auto;
                max-height: 95vh;
            }

            .modal-header {
                padding: 20px;
            }

            .modal-body {
                padding: 20px;
            }

            .form-grid {
                grid-template-columns: 1fr;
            }

            .form-actions {
                flex-direction: column;
            }

            .btn {
                width: 100%;
                justify-content: center;
            }

            .freelancers-container {
                grid-template-columns: 1fr;
            }

            .wg-filter {
                flex-direction: column;
                align-items: flex-start;
            }

            .form-search {
                max-width: 100%;
            }
        }

        @media (max-width: 480px) {
            .modal-content {
                width: 100%;
                margin: 0;
                border-radius: 0;
                max-height: 100vh;
            }

            .modal-header {
                border-radius: 0;
            }

            .card-header {
                flex-direction: column;
                align-items: flex-start;
                gap: 10px;
            }

            .card-actions {
                width: 100%;
                justify-content: space-between;
            }
        }
    </style>
</head>

<body class="body">

    <!-- #wrapper -->
    <div id="wrapper">
        <!-- #page -->
        <div id="page" class="">
            <!-- layout-wrap -->
            <div class="layout-wrap loader-off">
                <!-- preload -->
                <div id="preload" class="preload-container">
                    <div class="preloading">
                        <span></span>
                    </div>
                </div>
                <!-- /preload -->
                
                <!-- section-menu-left -->
                <div class="section-menu-left">
                    <div class="box-logo">
                        <a href="/dashboard" id="site-logo-inner">
                            <img style="width:60px;" id="logo_header" alt="logo" src="/images/logo/blushley-png-without-shade.png"
                                data-light="/images/surya-logo.png" data-dark="/images/surya-logo.png">
                        </a>
                        <div class="button-show-hide">
                            <i class="icon-chevron-left"></i>
                        </div>
                    </div>
                    <div class="section-menu-left-wrap">
                        <div class="center">
                            <div class="center-item">
                                <ul>
                                    <li class="menu-item">
                                        <a href="admin-dashboard.html">
                                            <div class="icon">
                                                <svg width="24" height="24" viewBox="0 0 24 24" fill="none"
                                                    xmlns="http://www.w3.org/2000/svg">
                                                    <path fill-rule="evenodd" clip-rule="evenodd"
                                                        d="M12.2652 3.57566C12.1187 3.42921 11.8813 3.42921 11.7348 3.57566L5.25 10.0605V19.8748C5.25 20.0819 5.41789 20.2498 5.625 20.2498H9V16.1248C9 15.0893 9.83947 14.2498 10.875 14.2498H13.125C14.1605 14.2498 15 15.0893 15 16.1248V20.2498H18.375C18.5821 20.2498 18.75 20.0819 18.75 19.8748V10.0605L12.2652 3.57566ZM20.25 11.5605L21.2197 12.5302C21.5126 12.8231 21.9874 12.8231 22.2803 12.5302C22.5732 12.2373 22.5732 11.7624 22.2803 11.4695L13.3258 2.51499C12.5936 1.78276 11.4064 1.78276 10.6742 2.515L1.71967 11.4695C1.42678 11.7624 1.42678 12.2373 1.71967 12.5302C2.01256 12.8231 2.48744 12.8231 2.78033 12.5302L3.75 11.5605V19.8748C3.75 20.9104 4.58947 21.7498 5.625 21.7498H18.375C19.4105 21.7498 20.25 20.9104 20.25 19.8748V11.5605ZM13.5 20.2498H10.5V16.1248C10.5 15.9177 10.6679 15.7498 10.875 15.7498H13.125C13.3321 15.7498 13.5 15.9177 13.5 16.1248V20.2498Z"
                                                        fill="#111111" />
                                                </svg>
                                            </div>
                                            <div class="text">Admin Dashboard</div>
                                        </a>
                                    </li>
                                    
                                    <li class="menu-item">
                                        <a href="admin-categories.html" class="menu-item-button">
                                            <div class="icon"><i class="icon-folder"></i></div>
                                            <div class="text">Category Management</div>
                                        </a>
                                    </li>

                                    <li class="menu-item">
                                        <a href="admin-products.html" class="menu-item-button">
                                            <div class="icon"><i class="icon-shopping-bag"></i></div>
                                            <div class="text">Product Management</div>
                                        </a>
                                    </li>

                                    <li class="menu-item">
                                        <a href="admin-shop.html" class="menu-item-button">
                                            <div class="icon"><i class="icon-heart"></i></div>
                                            <div class="text">Shop Management</div>
                                        </a>
                                    </li>
<li class="menu-item">
                                        <a href="admin-orders.html" class="menu-item-button">
                                            <div class="icon"><i class="icon-shopping-cart"></i></div>
                                            <div class="text">Order Management</div>
                                        </a>
                                    </li>

                                    <li class="menu-item ">
                                        <a href="admin-bookings.html" class="menu-item-button">
                                            <div class="icon"><i class="icon-calendar"></i></div>
                                            <div class="text">Booking Management</div>
                                        </a>
                                    </li>
                                    <li class="menu-item">
                                        <a href="admin-salons.html" class="menu-item-button">
                                            <div class="icon"><i class="icon-scissors"></i></div>
                                            <div class="text">Salons Management</div>
                                        </a>
                                    </li>

                                    <li class="menu-item active">
                                        <a href="admin-freelance.html" class="menu-item-button">
                                            <div class="icon"><i class="icon-users"></i></div>
                                            <div class="text">Freelance Management</div>
                                        </a>
                                    </li>
    <li class="menu-item ">
                                        <a href="admin-users.html" class="menu-item-button">
                                            <div class="icon"><i class="icon-users"></i></div>
                                            <div class="text">User Management</div>
                                        </a>
                                    </li>
                                    <li class="menu-item">
                                        <a href="admin-banners.html" class="menu-item-button">
                                            <div class="icon"><i class="icon-image"></i></div>
                                            <div class="text">Banner Management</div>
                                        </a>
                                    </li>

                                    <li class="menu-item">
                                        <a href="admin-testimonials.html" class="menu-item-button">
                                            <div class="icon"><i class="fa fa-star-o"></i></div>
                                            <div class="text">Testimonials Management</div>
                                        </a>
                                    </li>

                                    <li class="menu-item">
                                        <a href="admin-blogs.html" class="menu-item-button">
                                            <div class="icon"><i class="icon-book-open"></i></div>
                                            <div class="text">Blogs Management</div>
                                        </a>
                                    </li>

                                    <li class="menu-item">
                                        <a href="/logout">
                                            <div class="icon">
                                                <svg width="24" height="22" viewBox="0 0 20 20" fill="none"
                                                    xmlns="http://www.w3.org/2000/svg">
                                                    <path
                                                        d="M8.125 18.6875C8.125 18.903 8.0394 19.1097 7.88702 19.262C7.73465 19.4144 7.52799 19.5 7.3125 19.5H1.625C1.19402 19.5 0.780698 19.3288 0.475951 19.024C0.171205 18.7193 0 18.306 0 17.875V1.625C0 1.19402 0.171205 0.780698 0.475951 0.475951C0.780698 0.171205 1.19402 0 1.625 0H7.3125C7.52799 0 7.73465 0.0856026 7.88702 0.237976C8.0394 0.390349 8.125 0.597012 8.125 0.8125C8.125 1.02799 8.0394 1.23465 7.88702 1.38702C7.73465 1.5394 7.52799 1.625 7.3125 1.625H1.625V17.875H7.3125C7.52799 17.875 7.73465 17.9606 7.88702 18.113C8.0394 18.2653 8.125 18.472 8.125 18.6875ZM19.2623 9.17516L15.1998 5.11266C15.0474 4.9602 14.8406 4.87455 14.625 4.87455C14.4094 4.87455 14.2026 4.9602 14.0502 5.11266C13.8977 5.26511 13.812 5.47189 13.812 5.6875C13.812 5.90311 13.8977 6.10989 14.0502 6.26234L16.7263 8.9375H7.3125C7.09701 8.9375 6.89035 9.0231 6.73798 9.17548C6.5856 9.32785 6.5 9.53451 6.5 9.75C6.5 9.96549 6.5856 10.1722 6.73798 10.3245C6.89035 10.4769 7.09701 10.5625 7.3125 10.5625H16.7263L14.0502 13.2377C13.8977 13.3901 13.812 13.5969 13.812 13.8125C13.812 14.0281 13.8977 14.2349 14.0502 14.3873C14.2026 14.5398 14.4094 14.6255 14.625 14.6255C14.8406 14.6255 15.0474 14.5398 15.1998 14.3873L19.2623 10.3248C19.3379 10.2494 19.3978 10.1598 19.4387 10.0611C19.4796 9.9625 19.5006 9.85678 19.5006 9.75C19.5006 9.64322 19.4796 9.5375 19.4387 9.43886C19.3978 9.34023 19.3379 9.25062 19.2623 9.17516Z"
                                                        fill="#111111" />
                                                </svg>
                                            </div>
                                            <div class="text">Log out</div>
                                        </a>
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- /section-menu-left -->
                
                <!-- section-content-right -->
                <div class="section-content-right">
                    <!-- header-dashboard -->
                    <div class="header-dashboard">
                        <div class="wrap">
                            <div class="header-left">
                                <a href="/dashboard">
                                    <img style="width: 50px;" id="logo_header_mobile" alt="" src="/images/surya-logo.png"
                                        data-light="/images/surya-logo.png" data-dark="/images/surya-logo.png">
                                </a>
                                <div class="button-show-hide">
                                    <i class="icon-chevron-left"></i>
                                </div>

                            </div>
                            <div class="header-grid">
                                <div class="header-item button-dark-light">
                                    <i class="icon-moon"></i>
                                </div>

                                <div class="header-item button-zoom-maximize">
                                    <div class="">
                                        <i class="icon-maximize"></i>
                                    </div>
                                </div>
                                <div class="popup-wrap user type-header">
                                    <div class="dropdown">
                                        <button class="btn btn-secondary dropdown-toggle" type="button"
                                            id="dropdownMenuButton3" data-bs-toggle="dropdown" aria-expanded="false">
                                            <span class="header-user wg-user">
                                                <span class="image">
                                                    <img src="admin-/images/avatar/user-1.png" alt="">
                                                </span>
                                                <span class="flex flex-column">
                                                    <span class="body-text text-main-dark">Blushelys</span>
                                                    <span class="text-tiny">Admin</span>
                                                </span>
                                            </span>
                                        </button>
                                        <ul class="dropdown-menu dropdown-menu-end has-content"
                                            aria-labelledby="dropdownMenuButton3">

                                            <li>
                                                <a href="#" class="user-item">
                                                    <div class="icon">
                                                        <i class="icon-headphones"></i>
                                                    </div>
                                                    <div class="body-title-2">Support</div>
                                                </a>
                                            </li>
                                            <li>
                                                <a href="/logout" class="user-item">
                                                    <div class="icon">
                                                        <i class="icon-log-out"></i>
                                                    </div>
                                                    <div class="body-title-2">Log out</div>
                                                </a>
                                            </li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- /header-dashboard -->
                    
                    <!-- main-content -->
                    <div class="main-content">
                        <!-- main-content-wrap -->
                        <div class="main-content-inner">
                            <!-- main-content-wrap -->
                            <div class="main-content-wrap">
                                <div class="flex items-center flex-wrap justify-between gap20 mb-30">
                                    <h3>Freelance Management</h3>
                                    <ul class="breadcrumbs flex items-center flex-wrap justify-start gap10">
                                        <li>
                                            <a href="/dashboard">
                                                <div class="text-tiny">Dashboard</div>
                                            </a>
                                        </li>
                                        <li>
                                            <i class="icon-chevron-right"></i>
                                        </li>
                                        <li>
                                            <a href="#">
                                                <div class="text-tiny">Freelance</div>
                                            </a>
                                        </li>
                                        <li>
                                            <i class="icon-chevron-right"></i>
                                        </li>
                                        <li>
                                            <div class="text-tiny">Freelance Management</div>
                                        </li>
                                    </ul>
                                </div>
                                
                                <!-- freelancer-list -->
                                <div class="wg-box">
                                    <div class="title-box">
                                        <i class="icon-users"></i>
                                        <div class="body-text">
                                            Tip: Manage freelance beauticians. You can verify freelancers, toggle their status, and edit their details.
                                        </div>
                                    </div>

                                    <div class="flex items-center justify-between gap-4 flex-nowrap" style="margin-bottom: 10px;">
                                        <form id="list-filters" class="flex items-center gap-3 flex-nowrap" method="get" action="" style="flex-grow:1; min-width:0;">
                                            <div class="flex items-center gap-2" style="white-space: nowrap;">
                                                <div class="text-tiny">Showing</div>
                                                <div class="select" style="min-width:70px;">
                                                    <select id="limit-select" name="limit" style="width:100px;">
                                                        <option value="10" <%= (query && query.limit == 10) || (!query.limit) ? 'selected' : '' %>>10</option>
                                                        <option value="20" <%= (query && query.limit == 20) ? 'selected' : '' %>>20</option>
                                                        <option value="30" <%= (query && query.limit == 30) ? 'selected' : '' %>>30</option>
                                                    </select>
                                                </div>
                                                <div class="text-tiny">entries</div>
                                            </div>
                                            <div class="form-search" style="min-width:200px; max-width:280px; margin-left: 14px;">
                                                <input type="text" id="search-input" name="q"
                                                    placeholder="Search by name, phone, or email..."
                                                    value="<%= (query && query.q) ? query.q : '' %>"
                                                    style="width:100%;">
                                                <button id="search-btn" type="submit"><i class="icon-search"></i></button>
                                            </div>
                                            <div class="form-group ml-2" style="min-width:150px; margin-left: 14px;">
                                                <select id="status-select" name="status" class="form-control" style="width:100%;" onchange="this.form.submit()">
                                                    <option value="">All Statuses</option>
                                                    <option value="pending" <%= query.status === 'pending' ? 'selected' : '' %>>Pending</option>
                                                    <option value="approved" <%= query.status === 'approved' ? 'selected' : '' %>>Approved</option>
                                                    <option value="rejected" <%= query.status === 'rejected' ? 'selected' : '' %>>Rejected</option>
                                                    <option value="inactive" <%= query.status === 'inactive' ? 'selected' : '' %>>Inactive</option>
                                                </select>
                                            </div>
                                            <input type="hidden" name="page" value="<%= page %>">
                                        </form>
                                        <button class="add-freelancer-btn" style="min-width:180px; margin-left:14px; white-space:nowrap;" onclick="showAddFreelancerModal()">
                                            <i class="icon-plus"></i> Add Freelancer
                                        </button>
                                    </div>

                                    <div class="freelancers-container" id="freelancers-list">
                                        <% if (typeof error !== 'undefined' && error) { %>
                                            <div class="error-message"><%= error %></div>
                                        <% } else if (!freelancers || freelancers.length === 0) { %>
                                            <div class="no-freelancers">No freelancers found matching your criteria.</div>
                                        <% } else { %>
                                            <% freelancers.forEach(function(freelancer) { %>
                                                <div class="freelancer-card" id="freelancer-<%= freelancer._id %>">
                                                    <div class="card-header">
                                                        <h3><%= freelancer.fullName %></h3>
                                                        <div class='badges-1'>
                                                            <% if (freelancer.status === 'approved') { %>
                                                                <span class="verified-badge">Verified</span>
                                                            <% } else { %>
                                                                <span class="status-badge <%= freelancer.status %>">
                                                                    <%= freelancer.status.charAt(0).toUpperCase() + freelancer.status.slice(1) %>
                                                                </span>
                                                            <% } %>
                                                        </div>
                                                    </div>
                                                    <div class="card-body">
                                                        <div class="detail-row">
                                                            <span class="detail-label">ID:</span>
                                                            <span class="detail-value"><%= freelancer._id %></span>
                                                        </div>
                                                        <div class="detail-row">
                                                            <span class="detail-label">User ID:</span>
                                                            <span class="detail-value"><%= freelancer.userId %></span>
                                                        </div>
                                                        <div class="detail-row">
                                                            <span class="detail-label">Full Name:</span>
                                                            <span class="detail-value"><%= freelancer.fullName %></span>
                                                        </div>
                                                        <div class="detail-row">
                                                            <span class="detail-label">Email:</span>
                                                            <span class="detail-value"><%= freelancer.email %></span>
                                                        </div>
                                                        <div class="detail-row">
                                                            <span class="detail-label">Phone:</span>
                                                            <span class="detail-value"><%= freelancer.phone %></span>
                                                        </div>
                                                        <div class="detail-row">
                                                            <span class="detail-label">Profile Image:</span>
                                                            <span class="detail-value">
                                                                <% if (freelancer.profileImage) { %>
                                                                    <img src="<%= freelancer.profileImage %>" alt="Profile" class="small-img" style="max-height:40px;">
                                                                <% } else { %>
                                                                    <span>-</span>
                                                                <% } %>
                                                            </span>
                                                        </div>
                                                        <div class="detail-row">
                                                            <span class="detail-label">Portfolio Images:</span>
                                                            <span class="detail-value">
                                                                <% if (freelancer.portfolioImages && freelancer.portfolioImages.length) { %>
                                                                    <% freelancer.portfolioImages.forEach(function(pic) { %>
                                                                        <img src="<%= pic %>" alt="Portfolio" class="small-img" style="max-height:30px;">
                                                                    <% }) %>
                                                                <% } else { %>
                                                                    <span>-</span>
                                                                <% } %>
                                                            </span>
                                                        </div>
                                                        <div class="detail-row">
                                                            <span class="detail-label">Documents:</span>
                                                            <span class="detail-value">
                                                                <% if (freelancer.documents && freelancer.documents.length) { %>
                                                                    <ul class="file-list tiny-list">
                                                                        <% freelancer.documents.forEach(function(doc) { %>
                                                                            <li><a href="<%= doc %>" target="_blank"><%= doc.split('/').pop() %></a></li>
                                                                        <% }) %>
                                                                    </ul>
                                                                <% } else { %>
                                                                    <span>-</span>
                                                                <% } %>
                                                            </span>
                                                        </div>
                                                        <% if (freelancer.proof && (freelancer.proof.type || freelancer.proof.number)) { %>
                                                            <div class="detail-row">
                                                                <span class="detail-label">Proof:</span>
                                                                <span class="detail-value">
                                                                    Type: <%= freelancer.proof.type || '-' %><br>
                                                                    Number: <%= freelancer.proof.number || '-' %>
                                                                </span>
                                                            </div>
                                                        <% } %>
                                                        <div class="detail-row">
                                                            <span class="detail-label">Bio:</span>
                                                            <span class="detail-value"><%= freelancer.bio || '-' %></span>
                                                        </div>
                                                        <div class="detail-row">
                                                            <span class="detail-label">Skills:</span>
                                                            <span class="detail-value">
                                                                <div class="skills-container">
                                                                    <% (freelancer.skills || []).forEach(function(skill) { %>
                                                                        <span class="skill-tag"><%= skill %></span>
                                                                    <% }) %>
                                                                    <% if (!freelancer.skills || freelancer.skills.length === 0) { %>
                                                                        <span>-</span>
                                                                    <% } %>
                                                                </div>
                                                            </span>
                                                        </div>
                                                        <% if (freelancer.locations && freelancer.locations.length > 0) { %>
                                                            <div class="detail-row">
                                                                <span class="detail-label">Locations:</span>
                                                                <span class="detail-value">
                                                                    <ul class="location-list tiny-list">
                                                                        <% freelancer.locations.forEach(function(loc) { %>
                                                                            <li>
                                                                                <%= (loc.city || '') + (loc.state ? ', ' + loc.state : '') %>
                                                                                <% if (loc.pincode) { %> | Pincode: <%= loc.pincode %><% } %>
                                                                                <% if (typeof loc.radius !== 'undefined') { %> | Radius: <%= loc.radius %>km<% } %>
                                                                            </li>
                                                                        <% }) %>
                                                                    </ul>
                                                                </span>
                                                            </div>
                                                        <% } else { %>
                                                            <div class="detail-row">
                                                                <span class="detail-label">Locations:</span>
                                                                <span class="detail-value">-</span>
                                                            </div>
                                                        <% } %>
                                                        <% if (typeof freelancer.experience !== 'undefined') { %>
                                                            <div class="detail-row">
                                                                <span class="detail-label">Experience:</span>
                                                                <span class="detail-value"><%= freelancer.experience %> years</span>
                                                            </div>
                                                        <% } %>
                                                        <div class="detail-row">
                                                            <span class="detail-label">Status:</span>
                                                            <span class="detail-value"><%= freelancer.status.charAt(0).toUpperCase() + freelancer.status.slice(1) %></span>
                                                        </div>
                                                        <div class="detail-row">
                                                            <span class="detail-label">Rating:</span>
                                                            <span class="detail-value">
                                                                <%= typeof freelancer.rating !== 'undefined' ? (freelancer.rating + ' / 5 (' + (freelancer.totalReviews || 0) + ' reviews)') : '-' %>
                                                            </span>
                                                        </div>
                                                        <div class="detail-row">
                                                            <span class="detail-label">Created At:</span>
                                                            <span class="detail-value"><%= freelancer.createdAt ? freelancer.createdAt.toLocaleString() : '-' %></span>
                                                        </div>
                                                        <div class="detail-row">
                                                            <span class="detail-label">Updated At:</span>
                                                            <span class="detail-value"><%= freelancer.updatedAt ? freelancer.updatedAt.toLocaleString() : '-' %></span>
                                                        </div>
                                                        <% if (freelancer.availability && freelancer.availability.length) { %>
                                                            <div class="detail-row">
                                                                <span class="detail-label">Availability:</span>
                                                                <span class="detail-value">
                                                                    <ul class="tiny-list">
                                                                        <% const days = ['Sunday','Monday','Tuesday','Wednesday','Thursday','Friday','Saturday']; %>
                                                                        <% freelancer.availability.forEach(function(a) { %>
                                                                            <li>
                                                                                <b><%= typeof a.dayOfWeek === "number" ? days[a.dayOfWeek] : '' %>:</b>
                                                                                <% if (a.slots && a.slots.length) { %>
                                                                                    <% a.slots.forEach(function(s,si) { %>
                                                                                        <span>
                                                                                            <%= s.start %> - <%= s.end %><%= (si < a.slots.length-1) ? ',' : '' %>
                                                                                        </span>
                                                                                    <% }) %>
                                                                                <% } else { %>
                                                                                    <span>No slots</span>
                                                                                <% } %>
                                                                            </li>
                                                                        <% }) %>
                                                                    </ul>
                                                                </span>
                                                            </div>
                                                        <% } %>
                                                        <% if (freelancer.freelancerServices && freelancer.freelancerServices.length) { %>
                                                            <div class="detail-row">
                                                                <span class="detail-label">Services:</span>
                                                                <span class="detail-value">
                                                                    <div class="services-table-container" style="overflow-x:auto; max-width: 100%;">
                                                                        <table class="services-table text-tiny">
                                                                            <thead>
                                                                                <tr>
                                                                                    <th>Service ID</th>
                                                                                    <th>Base Price</th>
                                                                                    <th>Admin Price</th>
                                                                                    <th>Commission %</th>
                                                                                    <th>Final Price</th>
                                                                                    <th>Duration (min)</th>
                                                                                    <th>Status</th>
                                                                                    <th>Approved By</th>
                                                                                    <th>Approved At</th>
                                                                                    <th>Images</th>
                                                                                </tr>
                                                                            </thead>
                                                                            <tbody>
                                                                                <% freelancer.freelancerServices.forEach(function(svc) { %>
                                                                                    <tr>
                                                                                        <td><%= svc.serviceId %></td>
                                                                                        <td><%= typeof svc.freelancerBasePrice !== "undefined" ? svc.freelancerBasePrice : '-' %></td>
                                                                                        <td><%= typeof svc.adminPrice !== "undefined" ? svc.adminPrice : '-' %></td>
                                                                                        <td><%= typeof svc.adminCommissionPercent !== "undefined" ? svc.adminCommissionPercent : '-' %></td>
                                                                                        <td><%= typeof svc.finalPrice !== "undefined" ? svc.finalPrice : '-' %></td>
                                                                                        <td><%= typeof svc.durationMinutes !== "undefined" ? svc.durationMinutes : '-' %></td>
                                                                                        <td><%= svc.status ? svc.status.charAt(0).toUpperCase() + svc.status.slice(1) : '-' %></td>
                                                                                        <td><%= svc.approvedBy || '-' %></td>
                                                                                        <td><%= svc.approvedAt ? svc.approvedAt.toLocaleString() : '-' %></td>
                                                                                        <td>
                                                                                            <% if (svc.images && svc.images.length) { %>
                                                                                                <% svc.images.forEach(function(img) { %>
                                                                                                    <img src="<%= img %>" alt="Service Img" style="max-height:20px;">
                                                                                                <% }) %>
                                                                                            <% } else { %>
                                                                                                -
                                                                                            <% } %>
                                                                                        </td>
                                                                                    </tr>
                                                                                <% }) %>
                                                                            </tbody>
                                                                        </table>
                                                                    </div>
                                                                </span>
                                                            </div>
                                                        <% } %>
                                                    </div>
                                                    <div class="card-footer">
                                                        <div class="card-actions">
                                                            <button class="item edit" onclick="showEditFreelancerModal('<%= freelancer._id %>')">
                                                                <i class="icon-edit-3"></i>
                                                            </button>
                                                            <button class="item toggle" onclick="toggleFreelancerStatus('<%= freelancer._id %>','<%= freelancer.status %>')">
                                                                <i class="fa fa-toggle-<%= freelancer.status === 'approved' ? 'on' : 'off' %>"></i>
                                                            </button>
                                                            <button class="item trash" onclick="confirmDeleteFreelancer('<%= freelancer._id %>')">
                                                                <i class="icon-trash-2"></i>
                                                            </button>
                                                        </div>
                                                    </div>
                                                </div>
                                            <% }) %>
                                        <% } %>
                                    </div>

                                    <div class="divider"></div>
                                    <div class="flex items-center justify-between flex-wrap gap10">
                                        <div class="text-tiny" id="showing-entries">
                                            <% if (total > 0) { %>
                                                Showing <%= ((page-1)*((query && query.limit) ? parseInt(query.limit) : 10)+1) %> to <%= Math.min(page*((query && query.limit) ? parseInt(query.limit) : 10), total) %> of <%= total %> entries
                                            <% } else { %>
                                                Showing 0 entries
                                            <% } %>
                                        </div>
                                        <ul class="wg-pagination" id="pagination">
                                            <% 
                                                function pageQueryString(p) {
                                                    let params = [];
                                                    if (query && query.q) params.push('q=' + encodeURIComponent(query.q));
                                                    if (query && query.status) params.push('status=' + encodeURIComponent(query.status));
                                                    if (query && query.limit) params.push('limit=' + encodeURIComponent(query.limit));
                                                    params.push('page=' + p);
                                                    return '?' + params.join('&');
                                                }
                                                if (typeof totalPages !== 'undefined' && totalPages > 1 && typeof page !== 'undefined') {
                                                    let showLimit = 2; // pages to show either side
                                                    let firstPage = 1;
                                                    let lastPage = totalPages;
                                                    let start = Math.max(page - showLimit, firstPage + 1);
                                                    let end = Math.min(page + showLimit, lastPage - 1);

                                                    // First page/back shortcut
                                                    if (page > (firstPage)) {
                                                        %>
                                                        <li>
                                                            <a href="<%= pageQueryString(page - 1) %>">&laquo;</a>
                                                        </li>
                                                        <%
                                                    }
                                                    // Always show the first page number
                                                    %>
                                                    <li class="<%= page === firstPage ? 'active' : '' %>">
                                                        <a href="<%= pageQueryString(firstPage) %>"><%= firstPage %></a>
                                                    </li>
                                                    <%

                                                    if (start > firstPage + 1) {
                                                        %>
                                                        <li><span>...</span></li>
                                                        <%
                                                    }

                                                    for (let i = start; i <= end; i++) {
                                                        if (i > firstPage && i < lastPage) {
                                                            %>
                                                            <li class="<%= page === i ? 'active' : '' %>">
                                                                <a href="<%= pageQueryString(i) %>"><%= i %></a>
                                                            </li>
                                                            <%
                                                        }
                                                    }

                                                    if (end < lastPage - 1) {
                                                        %>
                                                        <li><span>...</span></li>
                                                        <%
                                                    }

                                                    // Always show the last page number
                                                    if (lastPage !== firstPage) {
                                                        %>
                                                        <li class="<%= page === lastPage ? 'active' : '' %>">
                                                            <a href="<%= pageQueryString(lastPage) %>"><%= lastPage %></a>
                                                        </li>
                                                        <%
                                                    }
                                                    // Next page/forward shortcut
                                                    if (page < lastPage) {
                                                        %>
                                                        <li>
                                                            <a href="<%= pageQueryString(page + 1) %>">&raquo;</a>
                                                        </li>
                                                        <%
                                                    }
                                                }
                                            %>
                                        </ul>
                                    </div>
                                </div>
                                <!-- /freelancer-list -->

                                <!-- Add Freelancer Modal -->
                                <div id="add-freelancer-modal" class="modal" style="display:none">
                                    <div class="modal-content modern-modal">
                                        <div class="modal-header">
                                            <div class="modal-title">
                                                <i class="icon-user-plus"></i>
                                                <h3>Add New Freelancer</h3>
                                            </div>
                                            <button class="close-btn" type="button" onclick="closeModal('add-freelancer-modal')">
                                                <i class="icon-x"></i>
                                            </button>
                                        </div>
                                        
                                        <div class="modal-body">
                                            <form id="add-freelancer-form" enctype="multipart/form-data" method="POST" action="/freelance/add">
                                                <div class="form-section">
                                                    <div class="section-header">
                                                        <h4><i class="icon-user"></i> Personal Information</h4>
                                                    </div>
                                                    <div class="form-grid">
                                                        <div class="form-group">
                                                            <label for="add-freelancer-name">Full Name*</label>
                                                            <input type="text" id="add-freelancer-name" name="fullName" required>
                                                        </div>
                                                        <div class="form-group">
                                                            <label for="add-freelancer-email">Email*</label>
                                                            <input type="email" id="add-freelancer-email" name="email" required>
                                                        </div>
                                                    </div>
                                                    <div class="form-grid">
                                                        <div class="form-group">
                                                            <label for="add-freelancer-phone">Phone Number*</label>
                                                            <input type="tel" id="add-freelancer-phone" name="phone" required>
                                                        </div>
                                                        <div class="form-group">
                                                            <label for="add-freelancer-location">Location*</label>
                                                            <input type="text" id="add-freelancer-location" name="location" required>
                                                        </div>
                                                    </div>
                                                    <div class="form-group">
                                                        <label for="add-freelancer-bio">Bio/Description*</label>
                                                        <textarea id="add-freelancer-bio" name="bio" rows="4" required></textarea>
                                                    </div>
                                                </div>
                                                <div class="form-section">
                                                    <div class="section-header">
                                                        <h4><i class="icon-briefcase"></i> Professional Information</h4>
                                                    </div>
                                                    <div class="form-group">
                                                        <label for="add-freelancer-skills">Skills*</label>
                                                        <input type="text" id="add-freelancer-skills" name="skills" 
                                                            placeholder="Enter skills separated by commas (e.g., Makeup, Hair Styling, Nail Art)" required>
                                                        <small class="text-tiny">Separate multiple skills with commas</small>
                                                    </div>
                                                    <div class="form-group">
                                                        <label for="add-freelancer-experience">Experience (Years)*</label>
                                                        <input type="number" id="add-freelancer-experience" name="experience" 
                                                            min="0" max="50" required>
                                                    </div>
                                                    <div class="form-group">
                                                        <label for="add-freelancer-service-locations">Service Locations*</label>
                                                        <input type="text" id="add-freelancer-service-locations" name="serviceLocations" 
                                                            placeholder="Enter service locations separated by commas" required>
                                                        <small class="text-tiny">Separate multiple locations with commas</small>
                                                    </div>
                                                </div>
                                                <div class="form-section">
                                                    <div class="section-header">
                                                        <h4><i class="icon-image"></i> Profile Image</h4>
                                                    </div>
                                                    <div class="form-group">
                                                        <div class="file-upload-area" id="add-file-upload-area">
                                                            <div class="upload-content">
                                                                <i class="icon-upload"></i>
                                                                <p>Drag & drop profile image here or click to browse</p>
                                                                <small>Recommended: Square image, at least 300x300 pixels</small>
                                                            </div>
                                                            <input type="file" id="add-freelancer-image" name="profileImage" 
                                                                accept="image/*">
                                                        </div>
                                                        <div class="image-preview-grid" id="add-image-preview-grid"></div>
                                                    </div>
                                                </div>
                                                <div class="form-section">
                                                    <div class="section-header">
                                                        <h4><i class="icon-toggle-right"></i> Status</h4>
                                                    </div>
                                                    <div class="form-grid">
                                                        <div class="form-group">
                                                            <label for="add-freelancer-status">Status</label>
                                                            <div class="status-toggle">
                                                                <select id="add-freelancer-status" name="status" required>
                                                                    <option value="pending">Pending</option>
                                                                    <option value="approved">Approved</option>
                                                                    <option value="rejected">Rejected</option>
                                                                    <option value="inactive">Inactive</option>
                                                                </select>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="form-actions">
                                                    <button type="button" class="btn btn-secondary" onclick="closeModal('add-freelancer-modal')">
                                                        <i class="icon-x"></i> Cancel
                                                    </button>
                                                    <button type="submit" class="btn btn-primary">
                                                        <i class="icon-save"></i> Add Freelancer
                                                    </button>
                                                </div>
                                            </form>
                                        </div>
                                    </div>
                                </div>

                                <!-- Edit Freelancer Modal -->
                                <div id="edit-freelancer-modal" class="modal" style="display:none">
                                    <div class="modal-content modern-modal">
                                        <div class="modal-header">
                                            <div class="modal-title">
                                                <i class="icon-edit-3"></i>
                                                <h3>Edit Freelancer</h3>
                                            </div>
                                            <button class="close-btn" type="button" onclick="closeModal('edit-freelancer-modal')">
                                                <i class="icon-x"></i>
                                            </button>
                                        </div>
                                        <div class="modal-body">
                                            <form id="edit-freelancer-form" enctype="multipart/form-data" method="POST" action="/freelance/edit">
                                                <input type="hidden" id="edit-freelancer-id" name="id">
                                                <div id="edit-freelancer-fields"><!-- Populated by JS --></div>
                                                <div class="form-actions">
                                                    <button type="button" class="btn btn-secondary" onclick="closeModal('edit-freelancer-modal')">
                                                        <i class="icon-x"></i> Cancel
                                                    </button>
                                                    <button type="submit" class="btn btn-primary">
                                                        <i class="icon-save"></i> Update Freelancer
                                                    </button>
                                                </div>
                                            </form>
                                        </div>
                                    </div>
                                </div>

                                <!-- Delete Confirmation Modal -->
                                <div id="delete-confirm-modal" class="modal" style="display:none">
                                    <div class="modal-content">
                                        <div class="modal-header">
                                            <div class="modal-title">
                                                <i class="icon-alert-triangle"></i>
                                                <h3>Confirm Deletion</h3>
                                            </div>
                                            <button class="close-btn" type="button" onclick="closeModal('delete-confirm-modal')">
                                                <i class="icon-x"></i>
                                            </button>
                                        </div>
                                        <div class="modal-body">
                                            <p>Are you sure you want to delete this freelancer? This action cannot be undone.</p>
                                            <div class="form-actions">
                                                <button type="button" class="btn btn-secondary"
                                                    onclick="closeModal('delete-confirm-modal')">Cancel</button>
                                                <form method="POST" id="delete-freelancer-form" action="/freelance/delete" style="display:inline">
                                                    <input type="hidden" id="delete-freelancer-id" name="id">
                                                    <button type="submit" class="btn btn-primary" id="confirm-delete-btn">Delete</button>
                                                </form>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <script>
                                // On filter change
                                document.getElementById('limit-select').addEventListener('change', function() {
                                    document.getElementById('list-filters').submit();
                                });
                                document.getElementById('search-input').addEventListener('keydown', function(e) {
                                    if (e.key === 'Enter') {
                                        document.getElementById('list-filters').submit();
                                    }
                                });

                                function closeModal(modalId) {
                                    document.getElementById(modalId).style.display = 'none';
                                }

                                function showAddFreelancerModal() {
                                    document.getElementById('add-freelancer-form').reset();
                                    document.getElementById('add-freelancer-modal').style.display = 'block';
                                }
                                // Create (POST) /freelance/add
                                document.getElementById('add-freelancer-form').onsubmit = function(e) {
                                    e.preventDefault();
                                    let form = this;
                                    let data = new FormData(form);
                                    fetch("/freelance/add", { method: 'POST', body: data })
                                        .then(res => res.json())
                                        .then(resp => {
                                            if (resp.success) {
                                                window.location.reload();
                                            } else {
                                                alert(resp.error || "Failed to add freelancer.");
                                            }
                                        })
                                        .catch(() => alert("Server error while adding freelancer."));
                                };

                                // Edit (fetch by ID) - GET /freelance/:id
                                function showEditFreelancerModal(freelancerId) {
                                    fetch('/freelance/freelancer/' + freelancerId)
                                        .then(res => res.json())
                                        .then(data => {
                                            // Fix: Try showing data in the form even if "success" is missing but structure is valid
                                            let f = data.freelancer || (data._id && data); // fallback if not wrapped in .freelancer
                                            if (f && f._id) {
                                                let html = '';
                                                // Personal Info
                                                html += '<div class="form-section"><div class="section-header"><h4><i class="icon-user"></i> Personal Info</h4></div><div class="form-grid">';
                                                html += `<div class="form-group"><label>Full Name*</label><input type="text" name="fullName" value="` + (f.fullName|| (f.userId && f.userId.name) || '') + `" required></div>`;
                                                html += `<div class="form-group"><label>Email*</label><input type="email" name="email" value="` + (f.email|| (f.userId && f.userId.email) || '') + `" required></div>`;
                                                html += '</div><div class="form-grid">';
                                                html += `<div class="form-group"><label>Phone Number*</label><input type="tel" name="phone" value="`+ (f.phone || (f.userId && f.userId.phone) || '') +`" required></div>`;
                                                // Location - support f.location or f.locations
                                                let loc = '';
                                                if (f.location) loc = f.location;
                                                else if (Array.isArray(f.locations) && f.locations.length)
                                                    loc = f.locations.map(l => l.city).join(', ');
                                                html += `<div class="form-group"><label>Location*</label><input type="text" name="location" value="`+ (loc || '') +`" required></div>`;
                                                html += '</div>';
                                                html += `<div class="form-group"><label>Bio*</label><textarea name="bio" rows="4" required>`+(f.bio||'')+`</textarea></div>`;
                                                html += '</div>';
                                                // Professional Info
                                                html += '<div class="form-section"><div class="section-header"><h4><i class="icon-briefcase"></i> Professional Info</h4></div>';
                                                html += `<div class="form-group"><label>Skills*</label><input type="text" name="skills" value="`+((Array.isArray(f.skills) ? f.skills.join(', ') : (f.skills || '')))+`" required><small>Separate with commas</small></div>`;
                                                html += `<div class="form-group"><label>Experience (Years)*</label><input type="number" name="experience" min="0" max="50" value="`+(f.experience||'')+`" required></div>`;
                                                // For service locations - if f.locations exists, join cities, else use field
                                                let svcLocs = '';
                                                if (Array.isArray(f.locations) && f.locations.length)
                                                    svcLocs = f.locations.map(l => l.city).join(', ');
                                                else if (f.serviceLocations) svcLocs = f.serviceLocations;
                                                html += `<div class="form-group"><label>Service Locations*</label><input type="text" name="serviceLocations" value="`+(svcLocs||'')+`" required><small>Separate with commas</small></div>`;
                                                html += '</div>';
                                                // Profile Image
                                                html += '<div class="form-section"><div class="section-header"><h4><i class="icon-image"></i> Profile Image</h4></div>';
                                                html += `<div class="form-group"><input type="file" name="profileImage" accept="image/*">`;
                                                if(f.profileImage){html+=`<br><img src="${f.profileImage}" style="max-width:80px">`;}
                                                html+=`</div></div>`;
                                                // Status
                                                html += '<div class="form-section"><div class="section-header"><h4><i class="icon-toggle-right"></i> Status</h4></div>';
                                                html += `<div class="form-group"><select name="status" required>`;
                                                ['pending','approved','rejected','inactive'].forEach(function(s){
                                                    html+=`<option value="${s}"`+((f.status===s)?' selected':'')+`>${s.charAt(0).toUpperCase()+s.slice(1)}</option>`;
                                                });
                                                html+='</select></div></div></div>';
                                                // Proof (if available)
                                                if (f.proof && (f.proof.type || f.proof.number)) {
                                                    html += '<div class="form-section"><div class="section-header"><h4><i class="icon-id"></i> Proof</h4></div>';
                                                    html += `<div class="form-group"><label>Proof Type</label><input type="text" name="proofType" value="${f.proof.type||''}" readonly></div>`;
                                                    html += `<div class="form-group"><label>Proof Number</label><input type="text" name="proofNumber" value="${f.proof.number||''}" readonly></div>`;
                                                    html += '</div>';
                                                }
                                                // Portfolio Images (if any)
                                                if(Array.isArray(f.portfolioImages) && f.portfolioImages.length){
                                                    html += '<div class="form-section"><div class="section-header"><h4><i class="icon-images"></i> Portfolio Images</h4></div>';
                                                    html += '<div class="image-preview-grid">';
                                                    f.portfolioImages.forEach(function(img){
                                                        html += `<img src="${img}" style="max-width:70px;max-height:70px;margin:4px;border-radius:4px;">`;
                                                    });
                                                    html += '</div></div>';
                                                }
                                                // Availability (if any)
                                                if(Array.isArray(f.availability) && f.availability.length){
                                                    html += '<div class="form-section"><div class="section-header"><h4><i class="icon-clock"></i> Availability</h4></div>';
                                                    html += '<table class="table table-bordered table-small" style="margin-bottom:0;background:#f8f8f8"><thead><tr><th>Day</th><th>Slots</th></tr></thead><tbody>';
                                                    const days = ['Sunday','Monday','Tuesday','Wednesday','Thursday','Friday','Saturday'];
                                                    f.availability.forEach(function(a){
                                                        html += `<tr><td>${days[a.dayOfWeek%7]||a.dayOfWeek}</td><td>`;
                                                        if(a.slots && a.slots.length) {
                                                            html += a.slots.map(s=>`${s.start} - ${s.end}`).join(', ');
                                                        } else {
                                                            html += 'No Slots';
                                                        }
                                                        html += '</td></tr>';
                                                    });
                                                    html += '</tbody></table></div>';
                                                }
                                                document.getElementById('edit-freelancer-fields').innerHTML = html;
                                                document.getElementById('edit-freelancer-id').value = f._id;
                                                document.getElementById('edit-freelancer-modal').style.display = 'block';
                                            } else {
                                                // If server sent a proper object, show as fallback
                                                console.error("Edit fetch response:", data);
                                                alert((data && data.error) ? data.error : "Failed to load freelancer details.");
                                            }
                                        })
                                        .catch((err)=>{
                                            alert("Server error loading freelancer details.");
                                            console.error("Fetch freelancer error:", err);
                                        });
                                }
                                // Edit (POST) /freelance/edit
                                document.getElementById('edit-freelancer-form').onsubmit = function(e){
                                    e.preventDefault();
                                    let form = this;
                                    let data = new FormData(form);
                                    fetch("/freelance/edit", { method: 'POST', body: data })
                                    .then(res=>res.json())
                                    .then(resp=>{
                                        if(resp.success){ window.location.reload();}
                                        else{alert(resp.error||"Failed to update freelancer.");}
                                    }).catch(()=>alert("Server error while updating freelancer."));
                                };

                                // Delete /freelance/delete
                                function confirmDeleteFreelancer(freelancerId) {
                                    document.getElementById('delete-freelancer-id').value = freelancerId;
                                    document.getElementById('delete-confirm-modal').style.display = 'block';
                                }
                                document.getElementById('delete-freelancer-form').onsubmit = function(e){
                                    e.preventDefault();
                                    let form = this;
                                    let data = new FormData(form);
                                    fetch("/freelance/delete", { method: 'POST', body: data })
                                        .then(res=>res.json())
                                        .then(resp=>{
                                            if(resp.success){
                                                window.location.reload();
                                            } else {
                                                alert(resp.error||"Failed to delete freelancer.");
                                            }
                                        })
                                        .catch(()=>alert("Server error while deleting freelancer."));
                                };

                                // Update status /freelance/update-status
                                function toggleFreelancerStatus(freelancerId, currentStatus){
                                    let newStatus = (currentStatus === 'approved') ? 'inactive' : 'approved';
                                    if(!confirm("Are you sure you want to set status to "+newStatus+"?")) return;
                                    fetch(`/freelance/${freelancerId}/status`, {
                                        method: 'PATCH',
                                        headers: { 'Content-Type': 'application/json' },
                                        body: JSON.stringify({ status: newStatus })
                                    })
                                    .then(res => res.json())
                                    .then(resp => {
                                        if(resp.success){ window.location.reload();}
                                        else{ alert(resp.error || "Failed to update status."); }
                                    })
                                    .catch(() => alert("Server error while updating status."));
                                }
                                </script>

                                <!-- /main-content-wrap -->
                            </div>
                            <!-- /main-content-wrap -->
                        </div>
                        <!-- /main-content-wrap -->
                        
                        <!-- bottom-page -->
                        <div class="bottom-page">
                            <div class="body-text">Copyright  2025 <a href="">Blushelys</a>.
                                Design by Trivlogic Private Limited All rights reserved</div>
                        </div>
                        <!-- /bottom-page -->
                    </div>
                    <!-- /main-content -->
                </div>
                <!-- /section-content-right -->
            </div>
            <!-- /layout-wrap -->
        </div>
        <!-- /#page -->
    </div>
    <!-- /#wrapper -->

    <!-- Javascript -->
    <script src="/admin-js/jquery.min.js"></script>
    <script src="/admin-js/bootstrap.min.js"></script>
    <script src="/admin-js/bootstrap-select.min.js"></script>
    <script src="/admin-js/zoom.js"></script>
    <script src="/admin-js/switcher.js"></script>
    <script defer src="/admin-js/theme-settings.js"></script>
    <script defer src="/admin-js/main.js"></script>

</body>

</html>