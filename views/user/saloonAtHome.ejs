<!DOCTYPE html>
<html lang="en-US">

<head>
    <!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-E1XD6E8W6H"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-E1XD6E8W6H');
</script>
<!-- Google Tag Manager -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
    'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-W4GZFHCG');</script>
    <!-- End Google Tag Manager -->
    <meta charset="utf-8">
    <title>Blushley</title>

    <meta name="author" content="trivlogic.com">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <meta name="description" content="Blushley - Beauty Marketplace & Beautician Booking Platform ">

    <!-- font -->
    <link rel="stylesheet" href="/fonts/fonts.css">
    <link rel="stylesheet" href="/fonts/font-icons.css">
    <!-- css -->
    <link rel="stylesheet" href="/css/bootstrap.min.css">
    <link rel="stylesheet" href="/css/swiper-bundle.min.css">
    <link rel="stylesheet" href="/css/animate.css">
    <link rel="stylesheet" href="https://sibforms.com/forms/end-form/build/sib-styles.css">
    <link rel="stylesheet" type="text/css" href="/css/styles.css" />


    <!-- Favicon and Touch Icons  -->


    <link rel="shortcut" type="image/x-icon" href="/images/logo/favicon.ico">
    <link rel="icon" type="image/png" sizes="32x32" href="/images/logo/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/images/logo/favicon-16x16.png">
    <link rel="apple-touch-icon-precomposed" sizes="180x180" href="/images/logo/apple-touch-icon.png">

    <style>
        #filterShop .icon-close {
            display: none !important;
        }

        @media (max-width: 991px) {
            #filterShop .icon-close {
                display: block !important;
            }
        }

        /* Disable black filter overlay globally */
        .filter-overlay {
            display: none !important;
            visibility: hidden !important;
            opacity: 0 !important;
            pointer-events: none !important;
        }
    </style>

</head>

<body class="preload-wrapper">

    <!-- Google Tag Manager (noscript) -->
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-W4GZFHCG"
height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <!-- End Google Tag Manager (noscript) -->
    <!-- Scroll Top -->
    <button id="scroll-top">
        <svg width="24" height="25" viewBox="0 0 24 25" fill="none" xmlns="http://www.w3.org/2000/svg">
            <g clip-path="url(#clip0_15741_24194)">
                <path
                    d="M3 11.9175L12 2.91748L21 11.9175H16.5V20.1675C16.5 20.3664 16.421 20.5572 16.2803 20.6978C16.1397 20.8385 15.9489 20.9175 15.75 20.9175H8.25C8.05109 20.9175 7.86032 20.8385 7.71967 20.6978C7.57902 20.5572 7.5 20.3664 7.5 20.1675V11.9175H3Z"
                    stroke="white" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" />
            </g>
            <defs>
                <clipPath id="clip0_15741_24194">
                    <rect width="24" height="24" fill="white" transform="translate(0 0.66748)" />
                </clipPath>
            </defs>
        </svg>
    </button>



    <div id="wrapper">
        <!-- Top Bar-->
        <div class="tf-topbar bg-main">
            <div class="container">
                <div class="tf-topbar_wrap d-flex align-items-center justify-content-center justify-content-xl-between">
                    <ul class="topbar-left">
                        <li><a class="text-caption-1 text-white" href="tel:+917994145723">+91 7994 145 723</a></li>
                         <li><a class="text-caption-1 text-white" href="mailto:blushleyoffice@gmail.com">blushleyoffice@gmail.com</a></li>

                    </ul>
                    <div class="topbar-right d-none d-xl-block">
                        <div class="tf-cur justify-content-end">

                            <a class="text-caption-1 text-white text-decoration-none" href="/shop">Our
                                Store</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- /Top Bar -->

        <!-- Header -->
        <header id="header" class="header-default">
            <div class="container">
                <div class="row wrapper-header align-items-center">
                    <div class="col-md-4 col-3 d-xl-none">
                        <a href="#mobileMenu" class="mobile-menu" data-bs-toggle="offcanvas" aria-controls="mobileMenu">
                            <i class="icon icon-categories"></i>
                        </a>
                    </div>
                    <div class="col-xl-3 col-md-4 col-6">
                        <a href="/" class="logo-header">
                            <img src="/images/logo/logoggg.png" alt="logo" class="logo">
                        </a>
                    </div>
                    <div class="col-xl-6 d-none d-xl-block">
                        <nav class="box-navigation text-center">
                            <ul class="box-nav-ul d-flex align-items-center justify-content-center">
                                <li class="menu-item active">
                                    <a href="/" class="item-link">Home</a>
                              
                                </li>

                                <li class="menu-item"><a href="/about" class="item-link">About</a></li>
                                <li class="menu-item">
                                    <a href="/shop" class="item-link">Shop</a>



                                </li>
                                <li class="menu-item salon-at-home-link"><a href="/saloon-at-home"
                                        class="item-link">Salon at Home</a>
                                </li>

                                </li>
                                <li class="menu-item book-salon-link"><a href="/book-a-saloon"
                                        class="item-link">Book a Salon</a>
                                </li>
                                <li class="menu-item position-relative">
                                    <a href="/userblogs" class="item-link">Blogs</a>

                                </li>

                                <li class="menu-item"><a href="/contact" class="item-link">Contact</a></li>



                            </ul>
                        </nav>
                    </div>
                    <div class="col-xl-3 col-md-4 col-3">
                        <ul class="nav-icon d-flex justify-content-end align-items-center">
                            <li class="nav-search"><a href="#search" data-bs-toggle="modal" class="nav-icon-item">

                                    <img src="/images/icons/search.svg" alt="search icon">
                                </a></li>
                                <li class="nav-account">
                                    <a href="#" class="nav-icon-item">
                                        <img src="/images/icons/user.svg" alt="user">
                                    </a>
                                
                                    <div class="dropdown-account dropdown-login">
                                        <div class="sub-top">
                                            <% if (!user || user.role !== "user") { %>
                                                <!-- NOT LOGGED IN or Not a normal user -->
                                                <a href="/userLogin" class="nav-acc-link">Login</a>
                                            <% } else { %>
                                                <!-- NORMAL USER -->
                                                <a href="/user-account" class="nav-acc-link">My Account</a>
                                                <a href="/user-orders" class="nav-acc-link">Orders</a>
                                                <a href="/user-addresses" class="nav-acc-link">Addresses</a>
                                                <a href="/userBookings" class="nav-acc-link">My Bookings</a>
                                                <a href="/logout" class="nav-acc-link">Logout</a>
                                            <% } %>
                                        </div>
                                    </div>
                                </li>
                            <li class="nav-wishlist"><a href="/wishlist" class="nav-icon-item">
                                    <img src="/images/icons/heart.svg" alt="wish list">


                                </a>
                            </li>
                            <li class="nav-cart"><a href="#shoppingCart" data-bs-toggle="modal" class="nav-icon-item">

                                    <img src="/images/icons/shopping-bag.svg" alt="cart icon">
                                    <span class="count-box">0</span></a>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </header>

        <!-- /Header -->

        <!-- page-title -->
        <div class="page-title" style="background-image: url('/images/banners/beautician-services.png');">
            <div class="container-full">
                <div class="row">
                    <div class="col-12">
                        <h3 class="heading text-center">Salon at Home</h3>
                        <ul class="breadcrumbs d-flex align-items-center justify-content-center">
                            <li>
                                <a class="link" href="/">Home</a>
                            </li>
                            <li>
                                <i class="icon-arrRight"></i>
                            </li>
                            <li>
                                Beautician services
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
        <!-- /page-title -->


        <div>
            <div class="layout-wrapper mt-5" style="display: flex; gap: 30px;">

                <aside style="flex: 0 0 280px;">
                    <!-- Filter -->
                    <div class="canvas-filter mb-5" id="filterShop">
                        <div class="canvas-wrapper">
                            <div class="canvas-header">
                                <h5>Filters</h5>
                            </div>
                            <div class="canvas-body">

                                <!-- Service Categories (Dynamic) -->
                                <div class="widget-facet facet-categories">
                                    <h6 class="facet-title">Services</h6>
                                    <ul class="facet-content">
                                        <% 
                                            let flatServices = [];
                                            if (typeof freelancers !== 'undefined' && freelancers.length) {
                                                freelancers.forEach(function(f) {
                                                    if (Array.isArray(f.freelancerServices)) {
                                                        f.freelancerServices.forEach(function(svc) {
                                                     
                                                            if (svc && svc.serviceId) {
                                                                flatServices.push(svc.serviceId);
                                                            }
                                                        });
                                                    }
                                                });
                                            }
                                       
                                            let uniqueServices = Array.from(new Set(flatServices));
                                        %>
                                        <% if (uniqueServices.length) { %>
                                            <% uniqueServices.forEach(function(serviceId) { %>
                                                <li>
                                                    <a href="#" class="categories-item"
                                                        data-service-id="<%= serviceId %>">
                                                        <%= serviceId %>
                                                    </a>
                                                </li>
                                            <% }) %>
                                        <% } else { %>
                                            <li><em>No services found</em></li>
                                        <% } %>
                                    </ul>
                                </div>

                                <!-- Price Range -->
                                <div class="widget-facet facet-price">
                                    <h6 class="facet-title">Price Range</h6>
                                    <div class="price-val-range" id="price-value-range" data-min="100" data-max="5000">
                                    </div>
                                    <div class="box-price-product">
                                        <div class="box-price-item">
                                            <span class="title-price">Price</span>
                                            <select id="price-select" name="price-select" class="form-select">
                                                <% 
                                                    for (let p = 100; p <= 20000; p += 100) { 
                                                %>
                                                    <option value="<%= p %>">‚Çπ<%= p %></option>
                                                <% } %>
                                            </select>
                                        </div>
                                    </div>
                                </div>

                                <!-- Gender Preference -->
                                <div class="widget-facet facet-fieldset">
                                    <h6 class="facet-title">For Whom</h6>
                                    <div class="box-fieldset-item">
                                        <fieldset class="fieldset-item">
                                            <input type="checkbox" name="gender" class="tf-check" id="forWomen" value="female">
                                            <label for="forWomen">Women</label>
                                        </fieldset>
                                        <fieldset class="fieldset-item">
                                            <input type="checkbox" name="gender" class="tf-check" id="forMen" value="male">
                                            <label for="forMen">Men</label>
                                        </fieldset>
                                        <fieldset class="fieldset-item">
                                            <input type="checkbox" name="gender" class="tf-check" id="forUnisex" value="unisex">
                                            <label for="forUnisex">Unisex</label>
                                        </fieldset>
                                    </div>
                                </div>

                                <!-- Location (Dynamic) -->
                                <div class="widget-facet facet-location">
                                    <h6 class="facet-title">Location</h6>
                                    <% 
                                     
                                        let locSet = new Set();
                                        if (typeof freelancers !== 'undefined' && freelancers.length) {
                                            freelancers.forEach(function(f) {
                                                if (Array.isArray(f.locations)) {
                                                    f.locations.forEach(function(loc) {
                                       
                                                        if (loc && loc.city) {
                                                            locSet.add(loc.city);
                                                        }
                                                    });
                                                }
                                            });
                                        }
                                        let uniqueLocations = Array.from(locSet);
                                    %>
                                    <div class="box-fieldset-item">
                                        <% if (uniqueLocations.length) { %>
                                            <% uniqueLocations.forEach(function(city, idx) { %>
                                                <fieldset class="fieldset-item">
                                                    <input type="checkbox" name="location" class="tf-check" 
                                                        id="location_<%= idx %>" value="<%= city %>">
                                                    <label for="location_<%= idx %>"><%= city %></label>
                                                </fieldset>
                                            <% }) %>
                                        <% } else { %>
                                            <fieldset class="fieldset-item"><em>No locations found</em></fieldset>
                                        <% } %>
                                    </div>
                                </div>

                                <!-- Ratings -->
                                <div class="widget-facet facet-rating">
                                    <h6 class="facet-title">Ratings</h6>
                                    <div class="box-fieldset-item">
                                        <fieldset class="fieldset-item">
                                            <input type="radio" name="rating" class="tf-check" id="rating4plus" value="4">
                                            <label for="rating4plus">4‚òÖ & above</label>
                                        </fieldset>
                                        <fieldset class="fieldset-item">
                                            <input type="radio" name="rating" class="tf-check" id="rating3plus" value="3">
                                            <label for="rating3plus">3‚òÖ & above</label>
                                        </fieldset>
                                    </div>
                                </div>

                            </div>

                            <div class="canvas-bottom">
                                <button id="reset-filter" class="tf-btn btn-reset">Reset Filters</button>
                            </div>
                        </div>
                    </div>

                    <!-- /Filter -->
                </aside>



                <main style="flex: 1;" class="bs-grid-cards mt-3 mb-5">
                    <div class="container">
                        <!-- Grid Cards -->
                        <div class="row g-4">
                            <% if (freelancers && freelancers.length > 0) { %>
                                <% freelancers.forEach(function(freelancer, idx) { 
                                  
                                    var idNo = freelancer._id ? freelancer._id.toString().slice(-6) : (idx+1);

                                 
                                    var displayRating = typeof freelancer.rating === "number" ? Math.round(freelancer.rating * 2) / 2 : 0;
                                    var reviewCount = freelancer.totalReviews || 0;

                                 
                                    var locArr = Array.isArray(freelancer.locations) && freelancer.locations.length
                                        ? freelancer.locations.map(function(loc) {
                                            if (loc.city) return loc.city;
                                            return null;
                                        }).filter(Boolean)
                                        : [];

                                 
                                    var visibleLocs = locArr.slice(0, 3).join(', ');
                                    var locsExtraCount = Math.max(locArr.length - 3, 0);

                                
                                    var minServicePrice = null;
                                    if (Array.isArray(freelancer.freelancerServices) && freelancer.freelancerServices.length) {
                                        freelancer.freelancerServices.forEach(function(serv) {
                                            if (typeof serv.finalPrice === 'number') {
                                                if (minServicePrice === null || serv.finalPrice < minServicePrice)
                                                    minServicePrice = serv.finalPrice;
                                            }
                                        });
                                    }

                            
                                    var serviceTags = [];
                                    if (Array.isArray(freelancer.freelancerServices)) {
                                        freelancer.freelancerServices.forEach(function(serv) {
                                            if (serv.serviceId && serviceTags.length < 3 && serviceTags.indexOf(serv.serviceId) === -1) {
                                                serviceTags.push(serv.serviceId);
                                            }
                                        });
                                    }

                                    var today = new Date();
                                    var todayDay = today.getDay();
                                    var tomorrowDay = (todayDay + 1) % 7;
                                    var availableToday = Array.isArray(freelancer.availability) ?
                                        freelancer.availability.some(function(av) { return av.dayOfWeek === todayDay }) : false;
                                    var availableTomorrow = !availableToday && Array.isArray(freelancer.availability) ?
                                        freelancer.availability.some(function(av) { return av.dayOfWeek === tomorrowDay }) : false;

                                    var desc = freelancer.bio ? freelancer.bio : (freelancer.professionalTitle || 'No details available');
                                %>
                                <div class="col-sm-12 col-md-6 col-lg-6">
                                    <div class="card bs-beautician-card">
                                        <div class="card-body bs-card-body">
                                            <div style="margin-bottom: 10px;">
                                                <% if (availableToday) { %>
                                                    <span class="bs-availability-badge">Available Today</span>
                                                <% } else if (availableTomorrow) { %>
                                                    <span class="bs-availability-badge bs-tomorrow">Available Tomorrow</span>
                                                <% } %>
                                            </div>
                                            <div class="bs-beautician-id">ID no. : <%= idNo %></div>
                                            <div class="bs-rating-section">
                                                <div class="bs-stars">
                                                    <% 
                                                        var fullStars = Math.floor(displayRating);
                                                        var halfStar = (displayRating - fullStars) >= 0.5 ? 1 : 0;
                                                        var emptyStars = 5 - fullStars - halfStar;
                                                        for (var i=0; i<fullStars; i++) { %>
                                                            <span class="star filled">‚òÖ</span>
                                                    <% } %>
                                                    <% if (halfStar) { %>
                                                        <span class="star half">‚òÖ</span>
                                                    <% } %>
                                                    <% for (var i=0; i<emptyStars; i++) { %>
                                                        <span class="star">‚òÖ</span>
                                                    <% } %>
                                                </div>
                                                <span class="bs-review-count">(<%= reviewCount %> reviews)</span>
                                            </div>
                                            <div class="bs-location-badge">
                                                <i class="fas fa-map-marker-alt"></i>
                                                <% if (visibleLocs) { %>
                                                    <span><%= visibleLocs %></span>
                                                <% } %>
                                                <% if (locsExtraCount > 0) { %>
                                                    <span class="bs-more-locations" onclick="openLocationModal('<%= freelancer._id %>')">+<%= locsExtraCount %> more</span>
                                                <% } %>
                                            </div>
                                            <p class="bs-description">
                                                <%= desc %>
                                            </p>
                                            <div class="bs-service-tags">
                                                <% serviceTags.forEach(function(tag) { %>
                                                    <span class="bs-service-tag"><%= tag %></span>
                                                <% }); %>
                                                <% if (freelancer.freelancerServices && freelancer.freelancerServices.length > 3) { %>
                                                    <span class="bs-more-services">+<%= freelancer.freelancerServices.length - 3 %> more</span>
                                                <% } %>
                                            </div>
                                            <div class="bs-price-section">
                                                <div class="bs-price-info">
                                                    <span class="price-label">Starting from</span>
                                                    <span class="price-value">
                                                        <%= minServicePrice !== null ? "‚Çπ" + minServicePrice.toLocaleString('en-IN') : "N/A" %>
                                                    </span>
                                                </div>
                                                <button class="btn-view-services" onclick="openServicesModal('<%= freelancer._id %>')">
                                                    View All Services
                                                </button>
                                            </div>
                                            <div class="bs-card-actions">
                                                <a href="/beautician-profile/<%= freelancer._id %>">
                                                    <button class="btn bs-btn-profile">View Profile</button>
                                                </a>
                                                <button class="btn bs-btn-icon bs-calendar" title="Book Now"
                                                    onclick="openBookingModal('<%= freelancer._id %>')">
                                                    <i class="icon-calendar"></i>
                                                </button>
                                                <button class="btn bs-btn-icon bs-star" title="Reviews"
                                                    onclick="openReviewPopup('<%= freelancer._id %>')">
                                                    <i class="icon-star"></i>
                                                </button>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <% }); %>
                            <% } else { %>
                                <div class="col-12">
                                    <div class="alert alert-warning text-center my-4">
                                        No beauticians/freelancers found matching your criteria.
                                    </div>
                                </div>
                            <% } %>
                        </div>

                        <!-- Pagination -->
                        <% if (pagination && pagination.totalPages > 1) { 
                            var currentPage = pagination.page || 1;
                            var totalPages = pagination.totalPages || 1;
                            var baseUrl = "/saloon-at-home?";
                            var filterParams = [];
                            if (filtersIn) {
                                Object.keys(filtersIn).forEach(function(k) {
                                    if (filtersIn[k]) {
                                        filterParams.push(encodeURIComponent(k) + "=" + encodeURIComponent(filtersIn[k]));
                                    }
                                });
                            }
                            // Note: Use baseUrl + filterParams + '&page='
                        %>
                        <ul class="wg-pagination justify-content-center salon-pagination">
                            <% for (var i = 1; i <= totalPages; i++) { %>
                                <% if (i === currentPage) { %>
                                    <li class="active">
                                        <div class="pagination-item text-button"><%= i %></div>
                                    </li>
                                <% } else { %>
                                    <li>
                                        <a href="<%= baseUrl + filterParams.join('&') + '&page=' + i %>" class="pagination-item text-button"><%= i %></a>
                                    </li>
                                <% } %>
                            <% } %>
                            <% if (currentPage < totalPages) { %>
                                <li>
                                    <a href="<%= baseUrl + filterParams.join('&') + '&page=' + (currentPage + 1) %>" class="pagination-item text-button">
                                        <i class="icon-arrRight"></i>
                                    </a>
                                </li>
                            <% } %>
                        </ul>
                        <% } %>

                        <!-- Location Modal: dynamically filled via JS -->
                        <div id="bsLocationModal" class="bs-location-modal" style="display: none;">
                            <div class="bs-modal-content-custom">
                                <h5 class="mb-3">Service Areas - ID no. <span id="bsModalBeauticianId"></span></h5>
                                <ul class="bs-location-list" id="bsLocationList">
                                    <!-- JS will populate this -->
                                </ul>
                                <button class="btn btn-secondary w-100" onclick="closeLocationModal()">Close</button>
                            </div>
                        </div>
                    </div>
                </main>


            </div>

        </div>


        <!-- Services Modal  -->
        <div class="modal fade" id="bsServicesModal" tabindex="-1" aria-labelledby="servicesModalLabel"
            aria-hidden="true">
            <div class="modal-dialog modal-dialog-centered modal-dialog-scrollable modal-lg">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="servicesModalLabel">
                            Services & Pricing - ID no. <span id="bsServicesModalId">1</span>
                        </h5>
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    <div class="modal-body" id="bsServicesModalBody">
                        <!-- Services will be loaded here -->
                    </div>
                </div>
            </div>
        </div>


        <!-- Booking Modal -->
        <div class="sbm-modal-overlay" id="bookingModal">
            <div class="sbm-modal-container">
                <div class="sbm-modal-header">
                    <div class="sbm-modal-title">Book Your Appointment</div>
                    <div class="sbm-modal-subtitle">Beautician ID: #BT001</div>
                    <button class="sbm-close-btn" onclick="closeBookingModal()">√ó</button>
                </div>

                <div class="sbm-modal-body">
                    <!-- Services Section -->
                    <div class="sbm-section">
                        <div class="sbm-section-title">
                            <div class="sbm-section-icon">‚úÇ</div>
                            Select Services
                        </div>
                        <div class="sbm-services-grid" id="servicesGrid">
                            <!-- Services will be populated here -->
                        </div>
                    </div>

                    <!-- Date Selection -->
                    <div class="sbm-section">
                        <div class="sbm-section-title">
                            <div class="sbm-section-icon">üìÖ</div>
                            Choose Date
                        </div>
                        <div class="sbm-date-selector" id="dateSelector">
                            <!-- Dates will be populated here -->
                        </div>
                    </div>

                    <!-- Time Slots -->
                    <div class="sbm-section">
                        <div class="sbm-section-title">
                            <div class="sbm-section-icon">üïê</div>
                            Available Time Slots
                        </div>
                        <div class="sbm-slots-container" id="slotsContainer">
                            <!-- Slots will be populated here -->
                        </div>
                    </div>

                    <!-- User Details -->
                    <div class="sbm-section">
                        <div class="sbm-section-title">
                            <div class="sbm-section-icon">üë§</div>
                            Your Details
                        </div>
                        <div class="sbm-form-row">
                            <div class="sbm-form-group">
                                <label class="sbm-form-label">Full Name *</label>
                                <input type="text" class="sbm-form-input" id="userName" placeholder="Enter your name"
                                    required>
                            </div>
                            <div class="sbm-form-group">
                                <label class="sbm-form-label">Phone Number *</label>
                                <input type="tel" class="sbm-form-input" id="userPhone" placeholder="+91 XXXXX XXXXX"
                                    required>
                            </div>
                        </div>
                        <div class="sbm-form-group">
                            <label class="sbm-form-label">Email Address</label>
                            <input type="email" class="sbm-form-input" id="userEmail"
                                placeholder="your.email@example.com">
                        </div>
                        <div class="sbm-section-title">
                            <div class="sbm-section-icon">üìç</div>
                            Service Address
                        </div>

                        <div class="sbm-form-group">
                            <label class="sbm-form-label">Landmark / Additional Details</label>
                            <input type="text" class="sbm-form-input" id="addressDetails"
                                placeholder="Nearby landmark or additional directions">
                        </div>
                        <div class="sbm-form-group">
                            <label class="sbm-form-label">Complete Address *</label>
                            <input type="text" class="sbm-form-input" id="userAddress"
                                placeholder="Enter your complete address (House/Flat No, Street, Area)">
                        </div>
                        <div class="sbm-form-group">
                            <label for="customerAddress" class="sbm-form-label">Google Maps Link</label>
                            <input type="text" id="customerAddress" name="customerAddress"
                                placeholder="Enter your address or paste Google Maps link" class="sbm-form-input" />
                            <small style="color: #777;">
                                Example: https://maps.app.goo.gl/abcd1234
                            </small>
                        </div>


                        <div class="sbm-form-group">
                            <label class="sbm-form-label">Special Requests (Optional)</label>
                            <textarea class="sbm-form-textarea" id="userNotes"
                                placeholder="Any specific requirements or preferences..."></textarea>
                        </div>
                    </div>
                </div>

                <div class="sbm-modal-footer">
                    <div class="sbm-total-price">
                        Total: <span class="sbm-price-amount" id="totalPrice">‚Çπ0</span>
                    </div>
                    <button class="sbm-submit-btn" onclick="submitBooking()">Confirm Booking</button>
                </div>
            </div>
        </div>

        <!------------------ End Booking Modal ------------------>




        <!-- Footer -->


        <footer id="footer" class="footer">
            <div class="footer-wrap">
                <div class="footer-body">
                    <div class="container">
                        <div class="row">
                            <div class="col-lg-5">
                                <div class="footer-infor">
                                    <div class="footer-logo">
                                        <a href="/">
                                            <img src="/images/logo/blushley-png-without-shade.png" alt="">
                                        </a>
                                    </div>
                                    <p>Premium beauty products and professional beautician services. Shop skincare,
                                        makeup, and hair care essentials, or book appointments with our network of
                                        experienced beauticians.</p>
                                </div>
                            </div>
                            <div class="col-lg-4">
                                <div class="footer-menu footer-menu-texts">
                                    <div class="footer-col-block">
                                        <div class="footer-heading text-button footer-heading-mobile">
                                            Information
                                        </div>
                                        <div class="tf-collapse-content">
                                            <ul class="footer-menu-list">
                                                <li class="text-caption-1">
                                                    <a href="/about" class="footer-menu_item">About Us</a>
                                                </li>
                                                <li class="text-caption-1">
                                                    <a href="/contact" class="footer-menu_item">Contact us</a>
                                                </li>
                                                <li class="text-caption-1">
                                                    <a href="/user-account" class="footer-menu_item">My Account</a>
                                                </li>
                                                <li class="text-caption-1">
                                                    <a href="/terms_and_conditions" class="footer-menu_item">Terms & Conditions</a>
                                                </li>
                                            </ul>
                                        </div>
                                    </div>
                                    <div class="footer-col-block">
                                        <div class="footer-heading text-button footer-heading-mobile">
                                            Services
                                        </div>
                                        <div class="tf-collapse-content">
                                            <ul class="footer-menu-list">
                                                <li class="text-caption-1">
                                                    <a href="#" class="footer-menu_item">Shipping</a>
                                                </li>
                                                <li class="text-caption-1">
                                                    <a href="#" class="footer-menu_item">Return & Refund</a>
                                                </li>
                                                <li class="text-caption-1">
                                                    <a href="/wishlist" class="footer-menu_item">My Wishlist</a>
                                                </li>
                                                <li class="text-caption-1">
                                                    <a href="/privacy_policy" class="footer-menu_item">Privacy Policy</a>
                                                </li>
                                            </ul>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-lg-3">
                                <div class="footer-heading text-button footer-heading-mobile">
                                    contact us
                                </div>
                                <div class="footer-address">
                                    <p>Trivandrum, Kerala</p>
                                </div>
                                <ul class="footer-info">
                                    <li>
                                        <i class="icon-mail"></i>
                                        <p><a  href="mailto:blushleyoffice@gmail.com">blushleyoffice@gmail.com</a></p>
                                    </li>
                                    <li>
                                        <i class="icon-phone"></i>
                                        <p><a class="ft-number" href="tel:+917994145723">+91 7994 145 723</a></p>
                                    </li>
                                </ul>
                                <div class="tf-cur mt-3">
                                    <ul class="tf-social-icon">
                                        <li><a href="#" class="social-facebook"><i class="icon icon-fb"></i></a></li>
                                        <li><a href="#" class="social-twiter"><i class="icon icon-x"></i></a></li>
                                        <li><a href="#" class="social-instagram"><i class="icon icon-instagram"></i></a>
                                        </li>
                                    </ul>
                                </div>
                            </div>

                        </div>
                    </div>
                </div>
                <div class="footer-bottom">
                    <div class="container">
                        <div class="row">
                            <div class="col-12">
                                <div class="footer-bottom-wrap">
                                    <div class="left">
                                        <p class="text-caption-1">¬©2025 Blushley. All Rights Reserved.| Developed by Trivlogic Private Limited</p>

                                    </div>
                                    <div class="tf-payment">
                                        <p class="text-caption-1">Payment:</p>
                                        <ul>
                                            <li><img src="/images/payment/img-1.png" alt=""></li>
                                            <li><img src="/images/payment/img-2.png" alt=""></li>
                                            <li><img src="/images/payment/img-3.png" alt=""></li>
                                            <li><img src="/images/payment/img-4.png" alt=""></li>
                                            <li><img src="/images/payment/img-5.png" alt=""></li>
                                            <li><img src="/images/payment/img-6.png" alt=""></li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </footer>

    </div>

    <div class="mobile-nav-wrapper" id="mobileNavWrapper">
        <!-- Floating Top Toolbar -->
        <div class="tf-toolbar-top hide" id="mobileTopToolbar">

            <div class="toolbar-item">
              <a href="/saloon-at-home">
                <div class="toolbar-icon">
                  <!-- svg -->
                </div>
                <div class="toolbar-label">Salon at Home</div>
              </a>
            </div>
   
            <div class="toolbar-logo">
              <a href="/" aria-label="Home">
                <img src="/images/logo/Blushley-png-logo.png" alt="Logo" style="width: 30px;">
              </a>
            </div>
          
            <div class="toolbar-item">
              <a href="/book-a-saloon">
                <!-- svg -->
                <div class="toolbar-label">Book a Salon</div>
              </a>
            </div>
          
          </div>
          
        <!-- toolbar-bottom -->
        <div class="tf-toolbar-bottom">
            <div class="toolbar-item">
                <a href="/">
                    <div class="toolbar-icon">
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24"
                            fill="none" stroke="#4D4E4F" stroke-width="2" stroke-linecap="round"
                            stroke-linejoin="round">
                            <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2h-4a2 2 0 0 1-2-2v-5H9v5a2 2 0 0 1-2 2H3z"></path>
                        </svg>
                    </div>
                    <div class="toolbar-label">Home</div>
                </a>
            </div>
            <div class="toolbar-item">
                <a href="/shop">
                    <div class="toolbar-icon">
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24"
                            fill="none" stroke="#4D4E4F" stroke-width="2" stroke-linecap="round"
                            stroke-linejoin="round">
                            <path d="M6 2l1 7h10l1-7H6zM5 9h14l-1 11H6L5 9z"></path>
                        </svg>
                    </div>
                    <div class="toolbar-label">Store</div>
                </a>
            </div>
            <div class="toolbar-item">
                <% if (!user || user.role !== "user") { %>
                    <!-- NOT LOGGED IN or NOT a normal user -->
                    <a href="/userLogin">
                      <div class="toolbar-icon">
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24"
                            fill="none" stroke="#4D4E4F" stroke-width="2" stroke-linecap="round"
                            stroke-linejoin="round">
                          <path d="M20 21v-2a4 4 0 0 0-3-3.87"></path>
                          <path d="M4 21v-2a4 4 0 0 1 3-3.87"></path>
                          <circle cx="12" cy="7" r="4"></circle>
                        </svg>
                      </div>
                      <div class="toolbar-label">Login</div>
                    </a>
                <% } else { %>
                    <!-- NORMAL USER -->
                    <a href="/user-account">
                      <div class="toolbar-icon">
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24"
                            fill="none" stroke="#4D4E4F" stroke-width="2" stroke-linecap="round"
                            stroke-linejoin="round">
                          <path d="M20 21v-2a4 4 0 0 0-3-3.87"></path>
                          <path d="M4 21v-2a4 4 0 0 1 3-3.87"></path>
                          <circle cx="12" cy="7" r="4"></circle>
                        </svg>
                      </div>
                      <div class="toolbar-label">Account</div>
                    </a>
                <% } %>
            </div>
              
            <div class="toolbar-item">
                <a href="/user-orders">
                    <div class="toolbar-icon">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none"
                            xmlns="http://www.w3.org/2000/svg">
                            <rect x="3" y="3" width="18" height="18" rx="2" stroke="#4D4E4F" stroke-width="2" />
                            <path d="M9 3V6M15 3V6M3 9H21" stroke="#4D4E4F" stroke-width="2"
                                stroke-linecap="round" />
                        </svg>
                    </div>
                    <div class="toolbar-label">Orders</div>
                </a>
            </div>
            <div class="toolbar-item">
                <a href="/wishlist">
                    <div class="toolbar-icon">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none"
                            xmlns="http://www.w3.org/2000/svg">
                            <path
                                d="M20.84 4.61C20.33 4.1 19.72 3.69 19.05 3.42C18.39 3.14 17.67 3 16.95 3C16.23 3 15.51 3.14 14.84 3.42C14.18 3.69 13.57 4.1 13.06 4.61L12 5.67L10.94 4.61C9.91 3.58 8.51 3 7.05 3C5.59 3 4.19 3.58 3.16 4.61C2.13 5.64 1.55 7.04 1.55 8.5C1.55 9.96 2.13 11.36 3.16 12.39L4.22 13.45L12 21.23L19.78 13.45L20.84 12.39C21.35 11.88 21.76 11.27 22.03 10.61C22.31 9.94 22.45 9.22 22.45 8.5C22.45 7.78 22.31 7.06 22.03 6.39C21.76 5.73 21.35 5.12 20.84 4.61Z"
                                stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                stroke-linejoin="round" />
                        </svg>
                    </div>
                    <div class="toolbar-label">Wishlist</div>
                </a>
            </div>

        </div>
        <!-- /toolbar-bottom -->
    </div>
    <script>
        document.addEventListener("DOMContentLoaded", () => {
          const topToolbar = document.getElementById("mobileTopToolbar");
          if (!topToolbar) return;
        
          const isMobile = () => window.innerWidth <= 768;
        
          let lastScrollTop = window.pageYOffset || document.documentElement.scrollTop;
          const scrollThreshold = 5;
        
          // start hidden
          topToolbar.classList.add("hide");
          topToolbar.classList.remove("show");
        
          window.addEventListener("scroll", () => {
            if (!isMobile()) return;
        
            const scrollTop = window.pageYOffset || document.documentElement.scrollTop;
        
            // ‚úÖ show only after small scroll (so not in top)
            if (scrollTop < 150) {
              topToolbar.classList.add("hide");
              topToolbar.classList.remove("show");
              lastScrollTop = scrollTop;
              return;
            }
        
            if (Math.abs(scrollTop - lastScrollTop) < scrollThreshold) return;
        
            // ‚úÖ scroll down => show
            if (scrollTop > lastScrollTop) {
              topToolbar.classList.remove("hide");
              topToolbar.classList.add("show");
            }
            // ‚úÖ scroll up => hide
            else {
              topToolbar.classList.add("hide");
              topToolbar.classList.remove("show");
            }
        
            lastScrollTop = scrollTop <= 0 ? 0 : scrollTop;
          }, { passive: true });
        });
        </script>

    <!-- Filter -->
    <div class="offcanvas offcanvas-start canvas-filter" id="filterShop">
        <div class="canvas-wrapper">
            <div class="canvas-header">
                <h5>Filters</h5>
                <span class="icon-close d-block d-lg-none" data-bs-dismiss="offcanvas" aria-label="Close">√ó</span>


            </div>

            <div class="canvas-body">

                <!-- Service Categories -->
                <div class="widget-facet facet-categories">
                    <h6 class="facet-title">Services</h6>
                    <ul class="facet-content">
                        <li><a href="#" class="categories-item">Haircut & Styling <span
                                    class="count-cate">(25)</span></a></li>
                        <li><a href="#" class="categories-item">Facials & Skincare <span
                                    class="count-cate">(18)</span></a></li>
                        <li><a href="#" class="categories-item">Bleaching & Cleanup <span
                                    class="count-cate">(10)</span></a></li>
                        <li><a href="#" class="categories-item">Bridal Makeup <span class="count-cate">(8)</span></a>
                        </li>
                        <li><a href="#" class="categories-item">Manicure & Pedicure <span
                                    class="count-cate">(12)</span></a></li>
                        <li><a href="#" class="categories-item">Hair Coloring <span class="count-cate">(15)</span></a>
                        </li>
                    </ul>
                </div>

                <!-- Price Range -->
                <div class="widget-facet facet-price">
                    <h6 class="facet-title">Price Range</h6>
                    <div class="price-val-range" id="price-value-range" data-min="100" data-max="5000"></div>
                    <div class="box-price-product">
                        <div class="box-price-item">
                            <span class="title-price">Min price</span>
                            <div class="price-val" id="price-min-value" data-currency="‚Çπ"></div>
                        </div>
                        <div class="box-price-item">
                            <span class="title-price">Max price</span>
                            <div class="price-val" id="price-max-value" data-currency="‚Çπ"></div>
                        </div>
                    </div>
                </div>

                <!-- Availability -->
                <div class="widget-facet facet-fieldset">
                    <h6 class="facet-title">Availability</h6>
                    <div class="box-fieldset-item">
                        <fieldset class="fieldset-item">
                            <input type="radio" name="availability" class="tf-check" id="availableToday">
                            <label for="availableToday">Available Today</label>
                        </fieldset>
                        <fieldset class="fieldset-item">
                            <input type="radio" name="availability" class="tf-check" id="availableThisWeek">
                            <label for="availableThisWeek">Available This Week</label>
                        </fieldset>
                        <fieldset class="fieldset-item">
                            <input type="radio" name="availability" class="tf-check" id="availableWeekend">
                            <label for="availableWeekend">Weekend Slots</label>
                        </fieldset>
                    </div>
                </div>

                <!-- Gender Preference -->
                <div class="widget-facet facet-fieldset">
                    <h6 class="facet-title">For Whom</h6>
                    <div class="box-fieldset-item">
                        <fieldset class="fieldset-item">
                            <input type="checkbox" name="gender" class="tf-check" id="forWomen">
                            <label for="forWomen">Women</label>
                        </fieldset>
                        <fieldset class="fieldset-item">
                            <input type="checkbox" name="gender" class="tf-check" id="forMen">
                            <label for="forMen">Men</label>
                        </fieldset>
                        <fieldset class="fieldset-item">
                            <input type="checkbox" name="gender" class="tf-check" id="forUnisex">
                            <label for="forUnisex">Unisex</label>
                        </fieldset>
                    </div>
                </div>

                <!-- Location -->
                <div class="widget-facet facet-location">
                    <h6 class="facet-title">Location</h6>
                    <div class="box-fieldset-item">
                        <fieldset class="fieldset-item">
                            <input type="checkbox" name="gender" class="tf-check" id="forWomen">
                            <label for="forWomen">HSR Layout</label>
                        </fieldset>
                        <fieldset class="fieldset-item">
                            <input type="checkbox" name="gender" class="tf-check" id="forMen">
                            <label for="forMen">Indiranagar</label>
                        </fieldset>
                        <fieldset class="fieldset-item">
                            <input type="checkbox" name="gender" class="tf-check" id="forUnisex">
                            <label for="forUnisex">Koramangala</label>
                        </fieldset>
                    </div>
                </div>

                <!-- Ratings -->
                <div class="widget-facet facet-rating">
                    <h6 class="facet-title">Ratings</h6>
                    <div class="box-fieldset-item">
                        <fieldset class="fieldset-item">
                            <input type="radio" name="rating" class="tf-check" id="rating4plus">
                            <label for="rating4plus">4‚òÖ & above</label>
                        </fieldset>
                        <fieldset class="fieldset-item">
                            <input type="radio" name="rating" class="tf-check" id="rating3plus">
                            <label for="rating3plus">3‚òÖ & above</label>
                        </fieldset>
                    </div>
                </div>

            </div>

            <div class="canvas-bottom">
                <button id="reset-filter" class="tf-btn btn-reset">Reset Filters</button>
            </div>
        </div>
    </div>

    <!-- /Filter -->


    <!-- search -->
    <div class="modal fade modal-search" id="search" tabindex="-1" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
          <div class="modal-content p-3">
            <div class="d-flex justify-content-between align-items-center mb-2">
              <h5 class="m-0">Search</h5>
              <button type="button" class="btn btn-sm btn-light" data-bs-dismiss="modal" aria-label="Close">&times;</button>
            </div>
      
            <div class="search-bar-wrapper d-flex align-items-center mb-2">
              <form class="form-search flex-grow-1" onsubmit="return false;" id="searchForm">
                <fieldset class="text m-0">
                  <input id="searchInput" type="text" placeholder="Start typing (min 3 characters)..." name="text" tabindex="0"
                         aria-required="true" autocomplete="off" class="form-control" />
                </fieldset>
              </form>
      
              <button id="searchFilterToggleBtn" class="btn btn-outline-secondary ms-2" type="button" onclick="Search.toggleFilterSection()">
                  Filters <span id="searchFilterCount" class="badge bg-secondary" style="display:none;">0</span>
              </button>
            </div>
      
            <!-- Filters (hidden until modal opened and data loaded) -->
            <div id="searchFilterSection" class="card card-body mb-2" style="display:none;">
              <div class="d-flex justify-content-between mb-2">
                <strong>Filters</strong>
                <button class="btn btn-sm btn-link" id="searchClearFiltersBtn" onclick="Search.clearAllFilters()" style="display:none;">Clear All</button>
              </div>
      
              <div class="mb-2">
                <label class="form-label mb-1">Categories</label>
                <div id="searchCategoryContainer" class="d-flex flex-wrap gap-2"></div>
              </div>
      
              <div class="mb-2">
                <label class="form-label mb-1">Brands</label>
                <div id="searchBrandContainer" class="d-flex flex-wrap gap-2"></div>
              </div>
            </div>
      
            <div class="mb-2">
              <h6 class="mb-1">Suggestions</h6>
              <div id="searchSuggestions" class="small text-muted">Type 3 characters to see results</div>
            </div>
      
            <div class="mb-2">
              <h6 class="mb-1">Recently viewed</h6>
              <div id="searchRecentlyViewed" class="d-flex flex-wrap gap-2"></div>
            </div>
      
            <!-- Results -->
            <div id="searchResultsContainer" class="list-group"></div>
      
            <div class="mt-3 text-end">
              <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
            </div>
          </div>
        </div>
      </div>
    <!-- /search -->

    <!-- mobile menu -->
    <div class="offcanvas offcanvas-start canvas-mb" id="mobileMenu">
        <span class="icon-close icon-close-popup" data-bs-dismiss="offcanvas" aria-label="Close"></span>
        <div class="mb-canvas-content">
            <div class="mb-body">
                <div class="mb-content-top">
                    <form class="form-search">
                        <fieldset class="text">
                            <input type="text" placeholder="What are you looking for?" class="" name="text" tabindex="0"
                                value="" aria-required="true" required="">
                        </fieldset>
                        <button class="" type="submit">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none"
                                xmlns="http://www.w3.org/2000/svg">
                                <path
                                    d="M11 19C15.4183 19 19 15.4183 19 11C19 6.58172 15.4183 3 11 3C6.58172 3 3 6.58172 3 11C3 15.4183 6.58172 19 11 19Z"
                                    stroke="#181818" stroke-linecap="round" stroke-linejoin="round" />
                                <path d="M20.9984 20.9999L16.6484 16.6499" stroke="#181818" stroke-linecap="round"
                                    stroke-linejoin="round" />
                            </svg>
                        </button>
                    </form>
                    <ul class="nav-ul-mb" id="wrapper-menu-navigation">
                        <li class="nav-mb-item active">
                            <a href="/" class="mb-menu-link">
                                <span>Home</span>

                            </a>

                        </li>

                        <li class="nav-mb-item active">
                            <a href="/about" class="mb-menu-link">
                                <span>About</span>
                            </a>
                        </li>
                        <li class="nav-mb-item active">
                            <a href="/shop" class="mb-menu-link">
                                <span>Shop</span>

                            </a>

                        </li>
                        <li class="nav-mb-item active">
                            <a href="/saloon-at-home" class="mb-menu-link">
                                <span>Salon at Home</span>

                            </a>

                        </li>
                        <li class="nav-mb-item active">
                            <a href="/book-a-saloon" class="mb-menu-link">
                                <span>Book a Salon</span>

                            </a>

                        </li>

                        <li class="nav-mb-item active">
                            <a href="/userblogs" class="mb-menu-link">
                                <span>Blogs</span>

                            </a>

                        </li>
                        <li class="nav-mb-item active">
                            <a href="/contact" class="mb-menu-link">
                                <span>Contact</span>

                            </a>

                        </li>


                    </ul>
                </div>
                <div class="mb-other-content">
                    <div class="group-icon">
                        <a href="/wishlist" class="site-nav-icon">
                            <svg class="icon" width="18" height="18" viewBox="0 0 24 24" fill="none"
                                xmlns="http://www.w3.org/2000/svg">
                                <path
                                    d="M20.8401 4.60987C20.3294 4.09888 19.7229 3.69352 19.0555 3.41696C18.388 3.14039 17.6726 2.99805 16.9501 2.99805C16.2276 2.99805 15.5122 3.14039 14.8448 3.41696C14.1773 3.69352 13.5709 4.09888 13.0601 4.60987L12.0001 5.66987L10.9401 4.60987C9.90843 3.57818 8.50915 2.99858 7.05012 2.99858C5.59109 2.99858 4.19181 3.57818 3.16012 4.60987C2.12843 5.64156 1.54883 7.04084 1.54883 8.49987C1.54883 9.95891 2.12843 11.3582 3.16012 12.3899L4.22012 13.4499L12.0001 21.2299L19.7801 13.4499L20.8401 12.3899C21.3511 11.8791 21.7565 11.2727 22.033 10.6052C22.3096 9.93777 22.4519 9.22236 22.4519 8.49987C22.4519 7.77738 22.3096 7.06198 22.033 6.39452C21.7565 5.72706 21.3511 5.12063 20.8401 4.60987V4.60987Z"
                                    stroke="#181818" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
                            </svg>
                            Wishlist
                        </a>

                        <a href="/userLogin" class="site-nav-icon">
                            <svg class="icon" width="18" height="18" viewBox="0 0 24 24" fill="none"
                                xmlns="http://www.w3.org/2000/svg">
                                <path
                                    d="M20 21V19C20 17.9391 19.5786 16.9217 18.8284 16.1716C18.0783 15.4214 17.0609 15 16 15H8C6.93913 15 5.92172 15.4214 5.17157 16.1716C4.42143 16.9217 4 17.9391 4 19V21"
                                    stroke="#181818" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
                                <path
                                    d="M12 11C14.2091 11 16 9.20914 16 7C16 4.79086 14.2091 3 12 3C9.79086 3 8 4.79086 8 7C8 9.20914 9.79086 11 12 11Z"
                                    stroke="#181818" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
                            </svg>
                            Login
                        </a>

                    </div>
                    <div class="mb-notice">
                        <a href="/contact" class="text-need">Need Help?</a>
                    </div>
                    <div class="mb-contact">
                        <p class="text-caption-1">Trivandrum, Kerala</p>
                        <!-- <a href="/contact" class="tf-btn-default text-btn-uppercase">GET DIRECTION<i
                                class="icon-arrowUpRight"></i></a>-->
                    </div>
                    <ul class="mb-info">
                        <li>
                            <i class="icon icon-mail"></i>
                            <p><a  href="mailto:blushleyoffice@gmail.com">blushleyoffice@gmail.com</a></p>
                        </li>
                        <li>
                            <i class="icon icon-phone"></i>
                            <p>+91 7994 145 723</p>
                        </li>
                    </ul>
                </div>
            </div>

        </div>
    </div>
    <!-- /mobile menu -->

    <!-- shoppingCart -->

    <div class="modal fullRight fade modal-shopping-cart" id="shoppingCart">
        <div class="modal-dialog">
            <div class="modal-content">
    
                <div class="d-flex flex-column flex-grow-1 h-100">
                    <div class="header">
                        <h5 class="title">Shopping Cart</h5>
                        <span class="icon-close icon-close-popup" data-bs-dismiss="modal"></span>
                    </div>
    
                    <div class="wrap">
                        <div class="tf-mini-cart-wrap">
    
                            <!-- MAIN CART SCROLL AREA -->
                            <div class="tf-mini-cart-main">
                                <div class="tf-mini-cart-sroll">
    
                                    <!-- *********************************** -->
                                    <!-- THIS IS THE ONLY CHANGE YOU MUST KEEP -->
                                    <!-- *********************************** -->
                                    <div class="tf-mini-cart-items"></div>
                                    <!-- cart.js will dynamically append items here -->
    
                                </div>
                            </div>
    
                            <!-- BOTTOM SECTION -->
                            <div class="tf-mini-cart-bottom">
                                <div class="tf-mini-cart-tool"></div>
    
                                <div class="tf-mini-cart-bottom-wrap">
                                    <div class="tf-cart-totals-discounts">
                                        <h5>Subtotal</h5>
    
                                        <!-- REQUIRED for JS -->
                                        <h5 class="tf-totals-total-value">‚Çπ0</h5>
                                    </div>
    
                                    <div class="tf-cart-checkbox">
                                        <div class="tf-checkbox-wrapp">
                                            <input type="checkbox" id="CartDrawer-Form_agree">
                                            <div><i class="icon-check"></i></div>
                                        </div>
                                        <label for="CartDrawer-Form_agree">
                                            I agree with
                                            <a href="/terms_and_conditions">Terms & Conditions</a>
                                        </label>
                                    </div>
    
                                    <div class="tf-mini-cart-view-checkout">
                                        <a href="/cart" class="tf-btn w-100 btn-white radius-4 has-border">
                                            <span class="text">View cart</span>
                                        </a>
                                        <a href="/cart" class="tf-btn w-100 btn-fill radius-4">
                                            <span class="text">Check Out</span>
                                        </a>
                                    </div>
    
                                    <div class="text-center">
                                        <a class="link text-btn-uppercase" href="/shop">Or continue shopping</a>
                                    </div>
                                </div>
                            </div>
    
                            <!-- EXTRA FEATURES (no change) -->
                            <div class="tf-mini-cart-tool-openable add-note">
                                <div class="tf-mini-cart-tool-content">
                                    <label for="Cart-note" class="tf-mini-cart-tool-text">
                                        <span class="icon">üìù</span>
                                        <span class="text-title">Note</span>
                                    </label>
    
                                    <form class="form-add-note tf-mini-cart-tool-wrap">
                                        <fieldset>
                                            <textarea id="Cart-note"
                                                placeholder="Add special instructions for your order..."></textarea>
                                        </fieldset>
                                        <div class="tf-cart-tool-btns">
                                            <button type="submit" class="btn-style-2 w-100">
                                                <span class="text text-btn-uppercase">Save</span>
                                            </button>
                                            <div class="text-center tf-mini-cart-tool-close">Cancel</div>
                                        </div>
                                    </form>
                                </div>
                            </div>
    
                            <div class="tf-mini-cart-tool-openable estimate-shipping">
                                <div class="tf-mini-cart-tool-content">
                                    <label class="tf-mini-cart-tool-text">
                                        <span class="icon">üöö</span>
                                        <span class="text-title">Estimate shipping rates</span>
                                    </label>
                                    <!-- Shipping form unchanged -->
                                </div>
                            </div>
    
                            <div class="tf-mini-cart-tool-openable add-gift">
                                <form class="tf-product-form-addgift">
                                    <!-- unchanged -->
                                </form>
                            </div>
    
                            <div class="tf-mini-cart-tool-openable add-coupon">
                                <div class="tf-mini-cart-tool-content">
                                    <label class="tf-mini-cart-tool-text">
                                        <span class="icon">üéü</span>
                                        <span class="text-title">Add A Coupon Code</span>
                                    </label>
                                    <form class="form-add-coupon tf-mini-cart-tool-wrap">
                                        <!-- unchanged -->
                                    </form>
                                </div>
                            </div>
    
                        </div>
                    </div>
    
                </div>
    
            </div>
        </div>
    </div>
    <!-- /shoppingCart -->

    <!-- wishlist -->
    <div class="modal fullRight fade modal-wishlist" id="wishlist">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="header">
                    <h5 class="title">Wish List</h5>
                    <span class="icon-close icon-close-popup" data-bs-dismiss="modal"></span>
                </div>
                <div class="wrap">
                    <div class="tf-mini-cart-wrap">
                        <div class="tf-mini-cart-main">
                            <div class="tf-mini-cart-sroll">
                                <div class="tf-mini-cart-items">
                                    <div class="tf-mini-cart-item file-delete">
                                        <div class="tf-mini-cart-image">
                                            <img class="lazyload" data-src="/images/products/beauty-cosmetic/beauty8.jpg"
                                                src="/images/products/beauty-cosmetic/beauty8.jpg" alt="">
                                        </div>
                                        <div class="tf-mini-cart-info flex-grow-1">
                                            <div
                                                class="mb_12 d-flex align-items-center justify-content-between flex-wrap gap-12">
                                                <div class="text-title"><a href="product-detail.html"
                                                        class="link text-line-clamp-1">Contrasting sheepskin</a></div>
                                                <div class="text-button tf-btn-remove remove">Remove</div>
                                            </div>
                                            <div
                                                class="d-flex align-items-center justify-content-between flex-wrap gap-12">
                                                <div class="text-secondary-2">XL/Blue</div>
                                                <div class="text-button">1 X ‚Çπ60.00</div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="tf-mini-cart-item file-delete">
                                        <div class="tf-mini-cart-image">
                                            <img class="lazyload" data-src="/images/products/beauty-cosmetic/beauty8.jpg"
                                                src="/images/products/beauty-cosmetic/beauty8.jpg" alt="">
                                        </div>
                                        <div class="tf-mini-cart-info flex-grow-1">
                                            <div
                                                class="mb_12 d-flex align-items-center justify-content-between flex-wrap gap-12">
                                                <div class="text-title"><a href="product-detail.html"
                                                        class="link text-line-clamp-1">Suede leggings</a></div>
                                                <div class="text-button tf-btn-remove remove">Remove</div>
                                            </div>
                                            <div
                                                class="d-flex align-items-center justify-content-between flex-wrap gap-12">
                                                <div class="text-secondary-2">XL/Blue</div>
                                                <div class="text-button">1 X ‚Çπ60.00</div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="tf-mini-cart-item file-delete">
                                        <div class="tf-mini-cart-image">
                                            <img class="lazyload" data-src="/images/products/beauty-cosmetic/beauty8.jpg"
                                                src="/images/products/beauty-cosmetic/beauty8.jpg" alt="">
                                        </div>
                                        <div class="tf-mini-cart-info flex-grow-1">
                                            <div
                                                class="mb_12 d-flex align-items-center justify-content-between flex-wrap gap-12">
                                                <div class="text-title"><a href="product-detail.html"
                                                        class="link text-line-clamp-1">Faux-leather trousers</a></div>
                                                <div class="text-button tf-btn-remove remove">Remove</div>
                                            </div>
                                            <div
                                                class="d-flex align-items-center justify-content-between flex-wrap gap-12">
                                                <div class="text-secondary-2">XL/Blue</div>
                                                <div class="text-button">1 X ‚Çπ60.00</div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="tf-mini-cart-item file-delete">
                                        <div class="tf-mini-cart-image">
                                            <img class="lazyload" data-src="/images/products/beauty-cosmetic/beauty8.jpg"
                                                src="/images/products/beauty-cosmetic/beauty8.jpg" alt="">
                                        </div>
                                        <div class="tf-mini-cart-info flex-grow-1">
                                            <div
                                                class="mb_12 d-flex align-items-center justify-content-between flex-wrap gap-12">
                                                <div class="text-title"><a href="product-detail.html"
                                                        class="link text-line-clamp-1">mock product</a></div>
                                                <div class="text-button tf-btn-remove remove">Remove</div>
                                            </div>
                                            <div
                                                class="d-flex align-items-center justify-content-between flex-wrap gap-12">
                                                <div class="text-secondary-2">XL/Blue</div>
                                                <div class="text-button">1 X ‚Çπ60.00</div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="tf-mini-cart-item file-delete">
                                        <div class="tf-mini-cart-image">
                                            <img class="lazyload" data-src="/images/products/womens/women-4.jpg"
                                                src="/images/products/womens/women-4.jpg" alt="">
                                        </div>
                                        <div class="tf-mini-cart-info flex-grow-1">
                                            <div
                                                class="mb_12 d-flex align-items-center justify-content-between flex-wrap gap-12">
                                                <div class="text-title"><a href="product-detail.html"
                                                        class="link text-line-clamp-1">Jacquard fluid trousers</a></div>
                                                <div class="text-button tf-btn-remove remove">Remove</div>
                                            </div>
                                            <div
                                                class="d-flex align-items-center justify-content-between flex-wrap gap-12">
                                                <div class="text-secondary-2">XL/Blue</div>
                                                <div class="text-button">1 X ‚Çπ60.00</div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="tf-mini-cart-bottom">
                            <a href="/wishlist" class="btn-style-2 w-100 radius-4 view-all-wishlist"><span
                                    class="text-btn-uppercase">View All Wish List</span></a>
                            <a href="shop-default-grid.html" class="text-btn-uppercase">Or continue shopping</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- /wishlist -->

    <!-- Javascript -->
    <script type="text/javascript" src="/js/cart.js"></script>
    <script type="text/javascript" src="/js/search.js"></script>
    <script type="text/javascript" src="/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="/js/jquery.min.js"></script>
    <script type="text/javascript" src="/js/swiper-bundle.min.js"></script>
    <script type="text/javascript" src="/js/carousel.js"></script>
    <script type="text/javascript" src="/js/bootstrap-select.min.js"></script>
    <script type="text/javascript" src="/js/lazysize.min.js"></script>
    <script type="text/javascript" src="/js/count-down.js"></script>
    <script type="text/javascript" src="/js/wow.min.js"></script>
    <script type="text/javascript" src="/js/multiple-modal.js"></script>
    <script type="text/javascript" src="/js/nouislider.min.js"></script>
    <script type="text/javascript" src="/js/shop.js"></script>
    <script type="text/javascript" src="/js/main.js"></script>

    <!-- Review Popup Overlay -->
    <div class="review-popup-overlay" id="reviewPopupOverlay"></div>

    <!-- Review Popup Container -->
    <div class="review-popup-container" id="reviewPopupContainer">
        <!-- Popup Header -->
        <div class="review-popup-header">
            <h2 class="review-popup-title">
                <span>‚≠ê</span>
                Reviews & Ratings
            </h2>

            <button class="review-popup-close" id="closeReviewPopup">&times;</button>
        </div>

        <!-- Popup Body -->
        <div class="review-popup-body">
            <!-- Beautician Info -->
            <div class="beautician-info-section">
                <img src="/images/beautician/beautician1.png" alt="Beautician" class="beautician-avatar"
                    id="beauticianAvatar">
                <div class="beautician-details">
                    <h3 id="beauticianName">ID no. :1</h3>
                    <div class="beautician-rating">
                        <span class="stars-display" id="beauticianStars">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</span>
                        <span id="beauticianReviewCount">(248 reviews)</span>
                    </div>
                </div>
            </div>

            <!-- Write Review Button -->
            <button class="write-review-btn" id="writeReviewBtn">
                ‚úçÔ∏è Write a Review
            </button>

            <!-- Review Form Section (Hidden by default) -->
            <div class="review-form-section" id="reviewFormSection">
                <h3 class="form-title">Share Your Experience</h3>

                <form class="review-form" id="reviewForm">
                    <!-- Name -->
                    <div class="form-group">
                        <input type="text" class="form-input" placeholder="Your Name" name="reviewerName" required>
                    </div>

                    <!-- Rating -->
                    <div class="form-group">
                        <label class="rating-label">Rating</label>
                        <div class="rating-stars">
                            <input type="radio" id="star5" name="rating" value="5" required>
                            <label for="star5">‚òÖ</label>
                            <input type="radio" id="star4" name="rating" value="4">
                            <label for="star4">‚òÖ</label>
                            <input type="radio" id="star3" name="rating" value="3">
                            <label for="star3">‚òÖ</label>
                            <input type="radio" id="star2" name="rating" value="2">
                            <label for="star2">‚òÖ</label>
                            <input type="radio" id="star1" name="rating" value="1">
                            <label for="star1">‚òÖ</label>
                        </div>
                    </div>

                    <!-- Review Text -->
                    <div class="form-group full-width">
                        <textarea class="form-textarea" placeholder="Share your experience..." name="reviewText"
                            required></textarea>
                    </div>

                    <!-- Buttons -->
                    <div class="form-group full-width">
                        <div class="form-buttons">
                            <button type="submit" class="btn-submit">Submit Review</button>
                            <button type="button" class="btn-cancel" id="cancelReviewBtn">Cancel</button>
                        </div>
                    </div>
                </form>

                <!-- Success Message -->
                <div class="success-message" id="reviewSuccessMessage">
                    ‚úÖ Thank you! Your review has been submitted successfully.
                </div>
            </div>

            <!-- Reviews List -->
            <div class="reviews-list-section">
                <h3 class="reviews-list-header">Customer Reviews</h3>
                <div id="reviewsList">
                    <!-- Sample Reviews -->
                    <div class="review-card">
                        <div class="review-header">
                            <div class="reviewer-info">
                                <div class="reviewer-avatar">A</div>
                                <div class="reviewer-details">
                                    <h4>Ananya Sharma</h4>
                                    <p class="review-date">2 days ago</p>
                                </div>
                            </div>
                            <div class="review-stars">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</div>
                        </div>
                        <p class="review-text">Absolutely amazing service! She did my bridal makeup and I couldn't
                            be
                            happier. Very professional and talented. Highly recommend! üíï</p>
                    </div>

                    <div class="review-card">
                        <div class="review-header">
                            <div class="reviewer-info">
                                <div class="reviewer-avatar">P</div>
                                <div class="reviewer-details">
                                    <h4>Priya Reddy</h4>
                                    <p class="review-date">1 week ago</p>
                                </div>
                            </div>
                            <div class="review-stars">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</div>
                        </div>
                        <p class="review-text">Best beautician in Bangalore! She came home on time and was very
                            professional. The makeup lasted the entire day. Will definitely book again.</p>
                    </div>

                    <div class="review-card">
                        <div class="review-header">
                            <div class="reviewer-info">
                                <div class="reviewer-avatar">M</div>
                                <div class="reviewer-details">
                                    <h4>Meera Krishna</h4>
                                    <p class="review-date">2 weeks ago</p>
                                </div>
                            </div>
                            <div class="review-stars">‚òÖ‚òÖ‚òÖ‚òÖ‚òÜ</div>
                        </div>
                        <p class="review-text">Very good service. She is skilled and knows what looks good. Only
                            suggestion would be to bring more product options.</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>

        // Open location modal when "+X more areas" is clicked
        document.querySelectorAll('.view-more-locations').forEach(btn => {
            btn.addEventListener('click', function (e) {
                e.preventDefault();
                const beauticianId = this.dataset.beauticianId;
                const modal = document.getElementById(`location-modal-${beauticianId}`);
                if (modal) {
                    modal.style.display = 'flex';
                    document.body.style.overflow = 'hidden';
                }
            });
        });

        // Close modal when close button is clicked
        document.querySelectorAll('.beautician-close-modal').forEach(btn => {
            btn.addEventListener('click', function () {
                const modal = this.closest('.beautician-location-modal'); // Updated
                if (modal) {
                    modal.style.display = 'none';
                    document.body.style.overflow = '';
                }
            });
        });

        // Close modal when clicking outside
        document.querySelectorAll('.beautician-location-modal').forEach(modal => { // Updated
            modal.addEventListener('click', function (e) {
                if (e.target === this) {
                    this.style.display = 'none';
                    document.body.style.overflow = '';
                }
            });
        });

        // Close with Escape key
        document.addEventListener('keydown', function (e) {
            if (e.key === 'Escape') {
                document.querySelectorAll('.beautician-location-modal').forEach(modal => { // Updated
                    if (modal.style.display === 'flex') {
                        modal.style.display = 'none';
                        document.body.style.overflow = '';
                    }
                });
            }
        });
    </script>


    <script>// Add this to your existing JavaScript file

        // Attach click event to all review buttons
        document.querySelectorAll('.box-icon.compare').forEach(button => {
            button.addEventListener('click', function (e) {
                e.preventDefault();
                const beauticianCard = this.closest('.card-product');
                const beauticianId = beauticianCard.dataset.beauticianId || '1';
                openReviewPopup(beauticianId);
            });
        });

        // Open Review Popup
        function openReviewPopup(beauticianId) {
            document.getElementById('reviewPopupOverlay').classList.add('active');
            document.getElementById('reviewPopupContainer').classList.add('active');
            document.body.style.overflow = 'hidden'; // Prevent background scroll
        }

        // Close Review Popup
        function closeReviewPopup() {
            document.getElementById('reviewPopupOverlay').classList.remove('active');
            document.getElementById('reviewPopupContainer').classList.remove('active');
            document.body.style.overflow = ''; // Restore scroll

            // Hide review form if open
            document.getElementById('reviewFormSection').classList.remove('active');
            document.getElementById('writeReviewBtn').style.display = 'block';
        }

        // Event Listeners
        document.getElementById('closeReviewPopup').addEventListener('click', closeReviewPopup);
        document.getElementById('reviewPopupOverlay').addEventListener('click', closeReviewPopup);

        // Write Review Button
        document.getElementById('writeReviewBtn').addEventListener('click', function () {
            document.getElementById('reviewFormSection').classList.add('active');
            this.style.display = 'none';

            // Scroll to form
            document.getElementById('reviewFormSection').scrollIntoView({ behavior: 'smooth', block: 'start' });
        });

        // Cancel Review Button
        document.getElementById('cancelReviewBtn').addEventListener('click', function () {
            document.getElementById('reviewFormSection').classList.remove('active');
            document.getElementById('writeReviewBtn').style.display = 'block';
            document.getElementById('reviewForm').reset();
            document.getElementById('reviewSuccessMessage').style.display = 'none';
        });

        // Star Rating Interaction
        const ratingStars = document.querySelectorAll('.rating-stars input[type="radio"]');
        ratingStars.forEach(star => {
            star.addEventListener('change', function () {
                const labels = document.querySelectorAll('.rating-stars label');
                labels.forEach(label => {
                    label.style.color = '#ddd';
                });

                let currentLabel = this.nextElementSibling;
                while (currentLabel) {
                    currentLabel.style.color = '#FFB800';
                    currentLabel = currentLabel.nextElementSibling?.nextElementSibling;
                }
            });
        });

        // Submit Review Form
        document.getElementById('reviewForm').addEventListener('submit', function (e) {
            e.preventDefault();

            const formData = new FormData(this);
            const reviewData = {
                name: formData.get('reviewerName'),
                rating: formData.get('rating'),
                text: formData.get('reviewText'),
                date: 'Just now'
            };

            // Add new review to list
            addReviewToList(reviewData);

            // Show success message
            document.getElementById('reviewSuccessMessage').style.display = 'block';

            // Reset form
            this.reset();

            // Hide form after 2 seconds
            setTimeout(() => {
                document.getElementById('reviewFormSection').classList.remove('active');
                document.getElementById('writeReviewBtn').style.display = 'block';
                document.getElementById('reviewSuccessMessage').style.display = 'none';

                // Scroll to new review
                document.getElementById('reviewsList').scrollIntoView({ behavior: 'smooth' });
            }, 2000);
        });

        // Add Review to List
        function addReviewToList(reviewData) {
            const reviewsList = document.getElementById('reviewsList');
            const stars = '‚òÖ'.repeat(reviewData.rating) + '‚òÜ'.repeat(5 - reviewData.rating);
            const initial = reviewData.name.charAt(0).toUpperCase();

            const reviewCard = document.createElement('div');
            reviewCard.className = 'review-card';
            reviewCard.style.animation = 'slideDown 0.3s ease';
            reviewCard.innerHTML = `
        <div class="review-header">
            <div class="reviewer-info">
                <div class="reviewer-avatar">${initial}</div>
                <div class="reviewer-details">
                    <h4>${reviewData.name}</h4>
                    <p class="review-date">${reviewData.date}</p>
                </div>
            </div>
            <div class="review-stars">${stars}</div>
        </div>
        <p class="review-text">${reviewData.text}</p>
    `;

            reviewsList.insertBefore(reviewCard, reviewsList.firstChild);
        }

        // Attach click event to all review buttons (THIS IS THE KEY PART!)
        document.querySelectorAll('.box-icon.compare').forEach(button => {
            button.addEventListener('click', function (e) {
                e.preventDefault();
                const beauticianCard = this.closest('.card-product');
                const beauticianId = beauticianCard.dataset.beauticianId || '1';
                openReviewPopup(beauticianId);
            });
        });
    </script>
    <script>
        const services = [
            { id: 1, name: "Bridal Makeup", price: 15000, duration: "3 hours" },
            { id: 2, name: "Party Makeup", price: 3500, duration: "1.5 hours" },
            { id: 3, name: "Facial Treatment", price: 2000, duration: "1 hour" },
            { id: 4, name: "Hair Styling", price: 1500, duration: "1 hour" },
            { id: 5, name: "Pre-Bridal Package", price: 25000, duration: "Multiple sessions" },
            { id: 6, name: "Saree Draping", price: 1000, duration: "30 min" },
            { id: 7, name: "Airbrush Makeup", price: 5000, duration: "2 hours" },
            { id: 8, name: "HD Makeup", price: 4000, duration: "2 hours" }
        ];

        const timeSlots = [
            "09:00 AM", "10:00 AM", "11:00 AM", "12:00 PM",
            "02:00 PM", "03:00 PM", "04:00 PM", "05:00 PM",
            "06:00 PM", "07:00 PM"
        ];

        let selectedServices = [];
        let selectedDate = null;
        let selectedSlot = null;

        function openBookingModal() {
            const modal = document.getElementById('bookingModal');
            if (modal) {
                modal.classList.add('sbm-active');
                document.body.style.overflow = 'hidden';
                initializeModal();
            }
        }

        function closeBookingModal() {
            const modal = document.getElementById('bookingModal');
            if (modal) {
                modal.classList.remove('sbm-active');
                document.body.style.overflow = '';
                resetModal();
            }
        }

        function initializeModal() {
            populateServices();
            populateDates();
            populateSlots();
        }

        function populateServices() {
            const grid = document.getElementById('servicesGrid');
            if (!grid) return;

            grid.innerHTML = services.map(service => `
                    <div class="sbm-service-card" onclick="toggleService(${service.id})">
                        <div class="sbm-service-name">${service.name}</div>
                        <div class="sbm-service-price">‚Çπ${service.price}</div>
                        <div class="sbm-service-duration">${service.duration}</div>
                        <div class="sbm-badge-available">Available</div>
                    </div>
                `).join('');
        }

        function populateDates() {
            const container = document.getElementById('dateSelector');
            if (!container) return;

            const dates = [];
            const days = ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'];

            for (let i = 0; i < 7; i++) {
                const date = new Date();
                date.setDate(date.getDate() + i);
                dates.push({
                    day: days[date.getDay()],
                    date: date.getDate(),
                    month: date.getMonth() + 1,
                    full: date
                });
            }

            container.innerHTML = dates.map((d, i) => `
                    <button class="sbm-date-btn ${i === 0 ? 'sbm-selected' : ''}" onclick="selectDate(${i})">
                        <div class="sbm-date-day">${d.day}</div>
                        <div class="sbm-date-num">${d.date}/${d.month}</div>
                    </button>
                `).join('');

            selectedDate = 0;
        }

        function populateSlots() {
            const container = document.getElementById('slotsContainer');
            if (!container) return;

            const bookedSlots = [2, 5, 8]; // Demo: some slots are booked

            container.innerHTML = timeSlots.map((slot, i) => `
                    <button class="sbm-slot-btn" onclick="selectSlot(${i})" ${bookedSlots.includes(i) ? 'disabled' : ''}>
                        ${slot}
                    </button>
                `).join('');
        }

        function toggleService(serviceId) {
            const index = selectedServices.indexOf(serviceId);
            const cards = document.querySelectorAll('.sbm-service-card');

            if (index > -1) {
                selectedServices.splice(index, 1);
                cards[serviceId - 1].classList.remove('sbm-selected');
            } else {
                selectedServices.push(serviceId);
                cards[serviceId - 1].classList.add('sbm-selected');
            }

            updateTotal();
        }

        function selectDate(index) {
            selectedDate = index;
            const buttons = document.querySelectorAll('.sbm-date-btn');
            buttons.forEach((btn, i) => {
                btn.classList.toggle('sbm-selected', i === index);
            });
        }

        function selectSlot(index) {
            selectedSlot = index;
            const buttons = document.querySelectorAll('.sbm-slot-btn');
            buttons.forEach((btn, i) => {
                btn.classList.toggle('sbm-selected', i === index);
            });
        }

        function updateTotal() {
            const totalElement = document.getElementById('totalPrice');
            if (!totalElement) return;

            const total = selectedServices.reduce((sum, id) => {
                const service = services.find(s => s.id === id);
                return sum + service.price;
            }, 0);

            totalElement.textContent = `‚Çπ${total}`;
        }

        function submitBooking() {
            const name = document.getElementById('userName').value;
            const phone = document.getElementById('userPhone').value;

            if (!name || !phone) {
                alert('Please fill in all required fields');
                return;
            }

            if (selectedServices.length === 0) {
                alert('Please select at least one service');
                return;
            }

            if (selectedSlot === null) {
                alert('Please select a time slot');
                return;
            }

            const bookingData = {
                name,
                phone,
                email: document.getElementById('userEmail').value,
                services: selectedServices.map(id => services.find(s => s.id === id).name),
                date: selectedDate,
                slot: timeSlots[selectedSlot],
                notes: document.getElementById('userNotes').value,
                total: document.getElementById('totalPrice').textContent
            };

            console.log('Booking submitted:', bookingData);
            alert('Booking confirmed! We will send you a confirmation message shortly.');
            closeBookingModal();
        }

        function resetModal() {
            selectedServices = [];
            selectedDate = null;
            selectedSlot = null;

            const userName = document.getElementById('userName');
            const userPhone = document.getElementById('userPhone');
            const userEmail = document.getElementById('userEmail');
            const userNotes = document.getElementById('userNotes');

            if (userName) userName.value = '';
            if (userPhone) userPhone.value = '';
            if (userEmail) userEmail.value = '';
            if (userNotes) userNotes.value = '';

            updateTotal();
        }

        // Initialize when DOM is loaded
        document.addEventListener('DOMContentLoaded', function () {
            // Close modal on overlay click
            const modal = document.getElementById('bookingModal');
            if (modal) {
                modal.addEventListener('click', function (e) {
                    if (e.target === this) {
                        closeBookingModal();
                    }
                });
            }

            // Close modal on Escape key
            document.addEventListener('keydown', function (e) {
                if (e.key === 'Escape') {
                    const modal = document.getElementById('bookingModal');
                    if (modal && modal.classList.contains('sbm-active')) {
                        closeBookingModal();
                    }
                }
            });
        });
    </script>

    <script>
        function openLocationModal(beauticianId) {
            document.getElementById('bsModalBeauticianId').textContent = beauticianId;
            document.getElementById('bsLocationModal').style.display = 'block';
        }

        function closeLocationModal() {
            document.getElementById('bsLocationModal').style.display = 'none';
        }

        // Close modal when clicking outside
        window.onclick = function (event) {
            const modal = document.getElementById('bsLocationModal');
            if (event.target == modal) {
                modal.style.display = 'none';
            }
        }
    </script>
    <script>
        // Services data for each beautician
        const beauticianServices = {
            1: [
                { name: "Bridal Makeup", price: 15000, duration: "3 hours" },
                { name: "Party Makeup", price: 3500, duration: "1.5 hours" },
                { name: "Facial Treatment", price: 2000, duration: "1 hour" },
                { name: "Hair Styling", price: 1500, duration: "1 hour" },
                { name: "Pre-Bridal Package", price: 25000, duration: "Multiple sessions" },
                { name: "Saree Draping", price: 1000, duration: "30 min" },
                { name: "Airbrush Makeup", price: 5000, duration: "2 hours" },
                { name: "HD Makeup", price: 4000, duration: "2 hours" }
            ],
            2: [
                { name: "Hair Cut & Styling", price: 1200, duration: "1 hour" },
                { name: "Hair Coloring", price: 3000, duration: "2 hours" },
                { name: "Hair Treatment", price: 2500, duration: "1.5 hours" },
                { name: "Keratin Treatment", price: 8000, duration: "3 hours" },
                { name: "Hair Spa", price: 1500, duration: "1 hour" },
                { name: "Balayage", price: 5000, duration: "3 hours" },
                { name: "Hair Extensions", price: 4000, duration: "2 hours" },
                { name: "Scalp Treatment", price: 800, duration: "45 min" }
            ],
            3: [
                { name: "Manicure", price: 800, duration: "45 min" },
                { name: "Pedicure", price: 1000, duration: "1 hour" },
                { name: "Nail Art", price: 1500, duration: "1 hour" },
                { name: "Gel Nails", price: 2000, duration: "1.5 hours" },
                { name: "Spa Manicure", price: 1200, duration: "1 hour" },
                { name: "Spa Pedicure", price: 1500, duration: "1.5 hours" },
                { name: "Nail Extensions", price: 2500, duration: "2 hours" },
                { name: "Foot Massage", price: 500, duration: "30 min" }
            ]
        };

        function openServicesModal(beauticianId) {
            document.getElementById('bsServicesModalId').textContent = beauticianId;

            const services = beauticianServices[beauticianId] || [];
            let html = '';

            services.forEach(service => {
                html += `
            <div class="bs-service-item">
                <div class="bs-service-info">
                    <h6>${service.name}</h6>
                    <div class="bs-service-duration">‚è± ${service.duration}</div>
                </div>
                <div class="bs-service-price">‚Çπ${service.price.toLocaleString('en-IN')}</div>
            </div>
        `;
            });

            document.getElementById('bsServicesModalBody').innerHTML = html;

            // Use Bootstrap modal WITHOUT backdrop
            const modal = new bootstrap.Modal(document.getElementById('bsServicesModal'), {
                backdrop: false  // ‚Üê ADD THIS
            });
            modal.show();
        }
    </script>

    <script>

        // Mobile Filter Toggle Functionality
        document.addEventListener('DOMContentLoaded', function () {

            // Create filter toggle button for mobile
            const aside = document.querySelector('.layout-wrapper aside');
            const filterDiv = document.getElementById('filterShop');

            if (aside && filterDiv) {
                // Create mobile filter button
                const filterButton = document.createElement('button');
                filterButton.className = 'mobile-filter-toggle';
                filterButton.innerHTML = `
            <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
                <path d="M2.5 5.83333H17.5M5.83333 10H14.1667M8.33333 14.1667H11.6667" 
                      stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
            </svg>
            <span>Filters</span>
        `;

                // Create overlay
                const overlay = document.createElement('div');
                overlay.className = 'filter-overlay';

                // Insert button before filter
                aside.insertBefore(filterButton, filterDiv);
                document.body.appendChild(overlay);

                // Add close button to filter header
                const canvasHeader = filterDiv.querySelector('.canvas-header');
                if (canvasHeader && !canvasHeader.querySelector('.icon-close')) {
                    const closeBtn = document.createElement('span');
                    closeBtn.className = 'icon-close';
                    closeBtn.innerHTML = '';
                    canvasHeader.appendChild(closeBtn);

                    // Close button click
                    closeBtn.addEventListener('click', closeFilter);
                }

                // Toggle filter
                filterButton.addEventListener('click', function () {
                    filterDiv.classList.add('active');
                    overlay.classList.add('active');
                    document.body.style.overflow = 'hidden';
                });

                // Close on overlay click
                overlay.addEventListener('click', closeFilter);

                // Close filter function
                function closeFilter() {
                    filterDiv.classList.remove('active');
                    overlay.classList.remove('active');
                    document.body.style.overflow = '';
                }

                // Close on window resize if desktop
                window.addEventListener('resize', function () {
                    if (window.innerWidth > 991) {
                        closeFilter();
                    }
                });

                // Apply filters button functionality
                const resetBtn = document.getElementById('reset-filter');
                if (resetBtn) {
                    const originalResetHandler = resetBtn.onclick;
                    resetBtn.addEventListener('click', function (e) {
                        // Call original handler if exists
                        if (originalResetHandler) {
                            originalResetHandler.call(this, e);
                        }
                        // Close filter on mobile after applying
                        if (window.innerWidth <= 991) {
                            setTimeout(closeFilter, 300);
                        }
                    });
                }
            }
        });
    </script>
    <script>
        document.addEventListener('DOMContentLoaded', function () {
            const navAccount = document.querySelector('.nav-account');
            const navIconItem = navAccount.querySelector('.nav-icon-item');

            // Toggle dropdown on click
            navIconItem.addEventListener('click', function (e) {
                e.preventDefault();
                e.stopPropagation();
                navAccount.classList.toggle('show-dropdown');
            });

            // Close dropdown when clicking outside
            document.addEventListener('click', function (e) {
                if (!navAccount.contains(e.target)) {
                    navAccount.classList.remove('show-dropdown');
                }
            });

            // Prevent dropdown from closing when clicking inside it
            const dropdown = navAccount.querySelector('.dropdown-account');
            dropdown.addEventListener('click', function (e) {
                e.stopPropagation();
            });
        });

    </script>
    <script>  if (document.querySelector("#sib-form")) { const script = document.createElement('script'); script.src = 'js/sibforms.js'; script.defer = true; document.body.appendChild(script); }</script>



</body>

</html>