<!DOCTYPE html>
<html lang="en-US">

<head>
    <!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-E1XD6E8W6H"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-E1XD6E8W6H');
</script>
<!-- Google Tag Manager -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
    'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-W4GZFHCG');</script>
    <!-- End Google Tag Manager -->
    <meta charset="utf-8">
    <title>Blushley</title>

    <meta name="author" content="trivlogic.com">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <meta name="description" content="Blushley - Beauty Marketplace & Beautician Booking Platform ">

    <!-- font -->
    <link rel="stylesheet" href="/fonts/fonts.css">
    <link rel="stylesheet" href="/fonts/font-icons.css">
    <!-- css -->
    <link rel="stylesheet" href="/css/bootstrap.min.css">
    <link rel="stylesheet" href="/css/swiper-bundle.min.css">
    <link rel="stylesheet" href="/css/animate.css">
    <link rel="stylesheet" href="https://sibforms.com/forms/end-form/build/sib-styles.css">
    <link rel="stylesheet" type="text/css" href="/css/styles.css" />


    <!-- Favicon and Touch Icons  -->


    <link rel="shortcut" type="image/x-icon" href="/images/logo/favicon.ico">
    <link rel="icon" type="image/png" sizes="32x32" href="/images/logo/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/images/logo/favicon-16x16.png">
    <link rel="apple-touch-icon-precomposed" sizes="180x180" href="/images/logo/apple-touch-icon.png">
<style>
    /* Filter styles */
.filter-count {
    background: var(--primary-color);
    color: white;
    border-radius: 50%;
    width: 20px;
    height: 20px;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    font-size: 12px;
    margin-left: 5px;
}

.applied-filter {
    background: #f0f0f0;
    border: 1px solid #ddd;
    border-radius: 20px;
    padding: 4px 12px;
    margin-right: 8px;
    margin-bottom: 8px;
    display: inline-flex;
    align-items: center;
    font-size: 14px;
}

.remove-filter {
    background: none;
    border: none;
    color: #666;
    margin-left: 6px;
    cursor: pointer;
    font-size: 16px;
    padding: 0 4px;
}

.remove-filter:hover {
    color: #ff0000;
}

.remove-all-filters {
    background: none;
    border: none;
    color: var(--primary-color);
    cursor: pointer;
    font-size: 14px;
    margin-top: 8px;
}

.remove-all-filters:hover {
    text-decoration: underline;
}

/* Salon card enhancements */
.rating-badge {
    color: #ffc107;
    margin-right: 5px;
}

.price-badge {
    background: var(--primary-color);
    color: white;
    padding: 2px 8px;
    border-radius: 4px;
    font-size: 12px;
    font-weight: 600;
}

.availability-badge {
    background: #e8f5e9;
    color: #2e7d32;
    padding: 4px 8px;
    border-radius: 4px;
    font-size: 12px;
    margin-right: 5px;
}

.availability-badge.available-today {
    background: #e3f2fd;
    color: #1565c0;
}

.availability-badge.unavailable {
    background: #ffebee;
    color: #c62828;
}

.availability-badge.home-service {
    background: #f3e5f5;
    color: #7b1fa2;
}

.service-badges {
    display: flex;
    flex-wrap: wrap;
    gap: 5px;
    margin-top: 5px;
}

/* Filter sidebar */
.canvas-filter {
    width: 300px;
}

.canvas-body {
    padding: 20px;
    overflow-y: auto;
    max-height: calc(100vh - 120px);
}

.widget-facet {
    margin-bottom: 24px;
}

.facet-title {
    font-size: 16px;
    font-weight: 600;
    margin-bottom: 12px;
    color: #333;
}

.facet-content {
    list-style: none;
    padding: 0;
    margin: 0;
}

.categories-item {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 8px 0;
    cursor: pointer;
    transition: color 0.2s;
}

.categories-item:hover {
    color: var(--primary-color);
}

.count-cate {
    color: #666;
    font-size: 12px;
}

.box-fieldset-item {
    display: flex;
    flex-direction: column;
    gap: 8px;
}

.fieldset-item {
    display: flex;
    align-items: center;
    gap: 8px;
}

.tf-check {
    width: 18px;
    height: 18px;
}

.canvas-bottom {
    padding: 20px;
    border-top: 1px solid #eee;
    display: flex;
    gap: 10px;
}

.btn-reset {
    background: #f5f5f5;
    color: #666;
    border: 1px solid #ddd;
    flex: 1;
}

.btn-apply {
    background: var(--primary-color);
    color: white;
    border: none;
    flex: 1;
}

.btn-reset:hover {
    background: #e0e0e0;
}

.btn-apply:hover {
    background: var(--primary-dark);
}

/* Pagination */
.salon-pagination {
    margin-top: 40px;
}

.wg-pagination {
    display: flex;
    list-style: none;
    padding: 0;
    gap: 5px;
}

.pagination-item {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 40px;
    height: 40px;
    border-radius: 4px;
    border: 1px solid #ddd;
    text-decoration: none;
    color: #333;
    transition: all 0.2s;
}

.pagination-item:hover {
    border-color: var(--primary-color);
    color: var(--primary-color);
}

.wg-pagination li.active .pagination-item {
    background: var(--primary-color);
    color: white;
    border-color: var(--primary-color);
}

/* Loading state */
.loading-skeleton {
    animation: pulse 1.5s ease-in-out infinite;
}

@keyframes pulse {
    0%, 100% {
        opacity: 1;
    }
    50% {
        opacity: 0.5;
    }
}

/* Responsive adjustments */
@media (max-width: 768px) {
    .canvas-filter {
        width: 100%;
    }
    
    .applied-filter {
        font-size: 12px;
        padding: 3px 8px;
    }
    
    .service-badges {
        flex-direction: column;
        align-items: flex-start;
    }
    
    .availability-badge {
        margin-bottom: 5px;
    }
}
</style>
</head>

<body class="preload-wrapper">

    <!-- Google Tag Manager (noscript) -->
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-W4GZFHCG"
height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <!-- End Google Tag Manager (noscript) -->

    <!-- Scroll Top -->
    <button id="scroll-top">
        <svg width="24" height="25" viewBox="0 0 24 25" fill="none" xmlns="http://www.w3.org/2000/svg">
            <g clip-path="url(#clip0_15741_24194)">
                <path
                    d="M3 11.9175L12 2.91748L21 11.9175H16.5V20.1675C16.5 20.3664 16.421 20.5572 16.2803 20.6978C16.1397 20.8385 15.9489 20.9175 15.75 20.9175H8.25C8.05109 20.9175 7.86032 20.8385 7.71967 20.6978C7.57902 20.5572 7.5 20.3664 7.5 20.1675V11.9175H3Z"
                    stroke="white" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" />
            </g>
            <defs>
                <clipPath id="clip0_15741_24194">
                    <rect width="24" height="24" fill="white" transform="translate(0 0.66748)" />
                </clipPath>
            </defs>
        </svg>
    </button>


    <!-- preload -->
    <div class="preload preload-container-img">
        <div class="preload-logo-img">
            <img src="/images/logo/Blushley-png-logo.png" alt="Glow & Glamour Logo" class="logo-img">
            <!--<div class="spinner"></div>-->
        </div>
    </div>
    <!-- /preload -->

    <div id="wrapper">
        <!-- Top Bar-->
        <div class="tf-topbar bg-main">
            <div class="container">
                <div class="tf-topbar_wrap d-flex align-items-center justify-content-center justify-content-xl-between">
                    <ul class="topbar-left">
                        <li><a class="text-caption-1 text-white" href="tel:+917994145723">+91 7994 145 723</a></li>
                                 <li><a class="text-caption-1 text-white" href="mailto:blushleyoffice@gmail.com">blushleyoffice@gmail.com</a></li>

                    </ul>
                    <div class="topbar-right d-none d-xl-block">
                        <div class="tf-cur justify-content-end">

                            <a class="text-caption-1 text-white text-decoration-none" href="/shop">Our
                                Store</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- /Top Bar -->

        <!-- Header -->
        <header id="header" class="header-default">
            <div class="container">
                <div class="row wrapper-header align-items-center">
                    <div class="col-md-4 col-3 d-xl-none">
                        <a href="#mobileMenu" class="mobile-menu" data-bs-toggle="offcanvas" aria-controls="mobileMenu">
                            <i class="icon icon-categories"></i>
                        </a>
                    </div>
                    <div class="col-xl-3 col-md-4 col-6">
                        <a href="/" class="logo-header">
                            <img src="/images/logo/logoggg.png" alt="logo" class="logo">
                        </a>
                    </div>
                    <div class="col-xl-6 d-none d-xl-block">
                        <nav class="box-navigation text-center">
                            <ul class="box-nav-ul d-flex align-items-center justify-content-center">
                                <li class="menu-item active">
                                    <a href="/" class="item-link">Home</a>
                              
                                </li>

                                <li class="menu-item"><a href="/about" class="item-link">About</a></li>
                                <li class="menu-item">
                                    <a href="/shop" class="item-link">Shop</a>



                                </li>
                                <li class="menu-item salon-at-home-link"><a href="/saloon-at-home"
                                        class="item-link">Salon at Home</a>
                                </li>

                                </li>
                                <li class="menu-item book-salon-link"><a href="/book-a-saloon"
                                        class="item-link">Book a Salon</a>
                                </li>
                                <li class="menu-item position-relative">
                                    <a href="/userblogs" class="item-link">Blogs</a>

                                </li>

                                <li class="menu-item"><a href="/contact" class="item-link">Contact</a></li>



                            </ul>
                        </nav>
                    </div>
                    <div class="col-xl-3 col-md-4 col-3">
                        <ul class="nav-icon d-flex justify-content-end align-items-center">
                            <li class="nav-search"><a href="#search" data-bs-toggle="modal" class="nav-icon-item">

                                    <img src="/images/icons/search.svg" alt="search icon">
                                </a></li>
                                <li class="nav-account">
                                    <a href="#" class="nav-icon-item">
                                        <img src="/images/icons/user.svg" alt="user">
                                    </a>
                                
                                    <div class="dropdown-account dropdown-login">
                                        <div class="sub-top">

                                            <% if (!user) { %>

                                                <!-- NOT LOGGED IN -->
                                                <a href="/userLogin" class="nav-acc-link">Login</a>

                                            <% } else if (user.role === "user") { %>

                                                <!-- NORMAL USER -->
                                                <a href="/user-account" class="nav-acc-link">My Account</a>
                                                <a href="/user-orders" class="nav-acc-link">Orders</a>
                                                <a href="/user-addresses" class="nav-acc-link">Addresses</a>
                                                <a href="/userBookings" class="nav-acc-link">My Bookings</a>
                                                <a href="/logout" class="nav-acc-link">Logout</a>

                                            <% } else if (user.role === "reseller") { %>

                                                <!-- RESELLER -->
                                                <a href="/reseller/dashboard" class="nav-acc-link">Reseller Dashboard</a>
                                                <a href="/logout" class="nav-acc-link">Logout</a>

                                            <% } else if (user.role === "freelancer") { %>

                                                <!-- FREELANCER -->
                                                <a href="/freelance/beautician_dashboard" class="nav-acc-link">Freelancer Dashboard</a>
                                                <a href="/logout" class="nav-acc-link">Logout</a>

                                            <% } else if (user.role === "salon") { %>

                                                <!-- SALON -->
                                                <a href="/salon/salon_dashboard" class="nav-acc-link">Salon Dashboard</a>
                                                <a href="/logout" class="nav-acc-link">Logout</a>

                                            <% } else if (user.role === "staff") { %>

                                                <!-- STAFF -->
                                                <a href="/staff/dashboard" class="nav-acc-link">Staff Dashboard</a>
                                                <a href="/logout" class="nav-acc-link">Logout</a>

                                            <% } else if (user.role === "admin" || user.role === "superadmin") { %>

                                                <!-- ADMIN -->
                                                <a href="/admin/dashboard" class="nav-acc-link">Admin</a>
                                                <a href="/logout" class="nav-acc-link">Logout</a>

                                            <% } %>

                                        </div>
                                    </div>
                                </li>
                            <li class="nav-wishlist"><a href="/wishlist" class="nav-icon-item">
                                    <img src="/images/icons/heart.svg" alt="wish list">


                                </a>
                            </li>
                            <li class="nav-cart"><a href="#shoppingCart" data-bs-toggle="modal" class="nav-icon-item">

                                    <img src="/images/icons/shopping-bag.svg" alt="cart icon">
                                    <span class="count-box">0</span></a>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </header>

        <!-- /Header -->

        <!-- page-title -->
        <div class="page-title" style="background-image: url('/images/banners/beautician-services.png');">
            <div class="container-full">
                <div class="row">
                    <div class="col-12">
                        <h3 class="heading text-center">Salon Services</h3>
                        <ul class="breadcrumbs d-flex align-items-center justify-content-center">
                            <li>
                                <a class="link" href="/">Home</a>
                            </li>
                            <li>
                                <i class="icon-arrRight"></i>
                            </li>
                            <li>
                                Salon Services
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
        <!-- /page-title -->

        <!-- Section beautician list -->
        <section class="flat-spacing">
            <div class="container">
                <!-- Filter Controls -->
                <div class="tf-shop-control">
                    <div class="tf-control-filter">
                        <a href="#filterShop" data-bs-toggle="offcanvas" aria-controls="filterShop" class="tf-btn-filter">
                            <span class="icon icon-filter"></span>
                            <span class="text">Filters</span>
                            <% if (Object.values(filters).some(f => f)) { %>
                                <span class="filter-count"><%= Object.values(filters).filter(f => f).length %></span>
                            <% } %>
                        </a>
                        <div class="d-none d-lg-flex shop-sale-text">
                            <i class="icon icon-checkCircle"></i>
                            <p class="text-caption-1">Exclusive salon offers today only</p>
                        </div>
                    </div>
        
                    <ul class="tf-control-layout">
                        <li class="tf-view-layout-switch sw-layout-list list-layout active" data-value-layout="list">
                            <div class="item"></div>
                        </li>
                    </ul>
        
                    <div class="tf-control-sorting">
                        <p class="d-none d-lg-block text-caption-1">Sort by:</p>
                        <div class="tf-dropdown-sort" data-bs-toggle="dropdown">
                            <div class="btn-select">
                                <span class="text-sort-value">
                                    <% if (filters.sort === 'top-rated') { %>Top rated<% } %>
                                    <% if (filters.sort === 'price-low-high') { %>Price: Low to High<% } %>
                                    <% if (filters.sort === 'price-high-low') { %>Price: High to Low<% } %>
                                </span>
                                <span class="icon icon-arrow-down"></span>
                            </div>
                            <div class="dropdown-menu">
                                <div class="select-item" data-sort-value="top-rated">
                                    <span class="text-value-item">Top rated</span>
                                </div>
                                <div class="select-item" data-sort-value="price-low-high">
                                    <span class="text-value-item">Price: Low to High</span>
                                </div>
                                <div class="select-item" data-sort-value="price-high-low">
                                    <span class="text-value-item">Price: High to Low</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
        
                <!-- Applied Filters -->
                <div class="wrapper-control-shop">
                    <div class="meta-filter-shop">
                        <div id="salon-count" class="count-text">
                            Showing <%= Math.min(salons.length, pageSize) %> of <%= totalSalons %> salons
                        </div>
                        <div id="applied-filters">
                            <% if (filters.service) { %>
                                <span class="applied-filter">
                                    Service: <%= filters.service %>
                                    <button class="remove-filter" data-filter="service">√ó</button>
                                </span>
                            <% } %>
                            <% if (filters.location) { %>
                                <span class="applied-filter">
                                    Location: <%= filters.location %>
                                    <button class="remove-filter" data-filter="location">√ó</button>
                                </span>
                            <% } %>
                            <% if (filters.price_min || filters.price_max) { %>
                                <span class="applied-filter">
                                    Price: ‚Çπ<%= filters.price_min || 0 %> - ‚Çπ<%= filters.price_max || '5000+' %>
                                    <button class="remove-filter" data-filter="price">√ó</button>
                                </span>
                            <% } %>
                            <% if (filters.rating) { %>
                                <span class="applied-filter">
                                    Rating: <%= filters.rating %>‚òÖ+
                                    <button class="remove-filter" data-filter="rating">√ó</button>
                                </span>
                            <% } %>
                        </div>
                        <% if (Object.values(filters).some(f => f)) { %>
                            <button id="remove-all" class="remove-all-filters text-btn-uppercase">
                                REMOVE ALL <i class="icon icon-close"></i>
                            </button>
                        <% } %>
                    </div>
        
                    <!-- Salon List -->
                    <div class="tf-list-layout wrapper-shop" id="listLayout">
                        <% if (salons.length === 0) { %>
                            <div class="text-center py-5">
                                <i class="icon icon-search fs-1 text-muted mb-3"></i>
                                <p class="text-muted">No salons found matching your criteria</p>
                                <button class="btn btn-outline-primary mt-3" onclick="resetFilters()">
                                    Reset Filters
                                </button>
                            </div>
                        <% } %>
        
                        <% salons.forEach(salon => { %>
                            <div class="card-product style-list"
                                 data-rating="<%= salon.avgRating %>"
                                 data-price="<%= salon.lowestPrice %>"
                                 data-location="<%= salon.address?.city || '' %>">
                                <div class="card-product-wrapper salon-img">
                                    <a href="/book-a-saloon/<%= salon._id %>" class="product-img">
                                        <img class="lazyload img-product" 
                                             src="<%= salon.images && salon.images[0] ? salon.images[0] : '/images/brand/salon-default.jpg' %>" 
                                             alt="<%= salon.name %>">
                                    </a>
                                </div>
                                <div class="card-product-info">
                                    <a href="/book-a-saloon/<%= salon._id %>" class="title link"><%= salon.name %></a>
                                    <div class="price">
                                        <span class="rating-badge">
                                            <%= '‚òÖ'.repeat(Math.floor(salon.avgRating)) %><%= '‚òÜ'.repeat(5-Math.floor(salon.avgRating)) %>
                                        </span>
                                        <span class="review-count">(<%= salon.reviewCount %> reviews)</span>
                                        <span class="price-badge ms-2">From ‚Çπ<%= salon.lowestPrice %></span>
                                    </div>
        
                                    <div class="location-info">
                                        <span class="icon icon-location"></span>
                                        <span class="location-text">
                                            <%= salon.address?.line1 ? salon.address.line1 + ', ' : '' %>
                                            <%= salon.address?.city || '' %>
                                            <%= salon.address?.state ? ', ' + salon.address.state : '' %>
                                        </span>
                                    </div>
        
                                    <p class="description text-secondary text-line-clamp-2">
                                        <%= salon.description || 'Premium salon services by expert stylists.' %>
                                    </p>
        
                                    <div class="variant-wrap-list">
                                        <div class="size-box list-product-btn">
                                            <div class="service-badges">
                                                <% salon.serviceNames && salon.serviceNames.forEach((service, index) => { %>
                                                    <% if (index < 3) { %>
                                                        <span class="availability-badge"><%= service %></span>
                                                    <% } %>
                                                <% }) %>
                                                <% if (salon.serviceNames && salon.serviceNames.length > 3) { %>
                                                    <span class="availability-badge">+<%= salon.serviceNames.length - 3 %> More</span>
                                                <% } %>
                                            </div>
                                        </div>
        
                                        <div class="size-box list-product-btn">
                                            <% if (salon.isAvailableToday) { %>
                                                <span class="availability-badge available-today">Available Today</span>
                                            <% } else { %>
                                                <span class="availability-badge unavailable">Booked Out</span>
                                            <% } %>
                                            <% if (salon.serviceMode?.homeService) { %>
                                                <span class="availability-badge home-service">Home Service Available</span>
                                            <% } %>
                                        </div>
        
                                        <div class="list-product-btn">
                                            <button class="btn-main-product" onclick="openBookingModal('<%= salon._id %>')">
                                                Book Your Appointment
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        <% }) %>
                    </div>
        
                    <!-- Pagination -->
                    <% if (totalPages > 1) { %>
                        <ul class="wg-pagination justify-content-center salon-pagination">
                            <% if (currentPage > 1) { %>
                                <li>
                                    <a href="<%= buildPageUrl(currentPage - 1) %>" class="pagination-item text-button">
                                        <i class="icon-arrLeft"></i>
                                    </a>
                                </li>
                            <% } %>
        
                            <% for (let i = 1; i <= totalPages; i++) { %>
                                <% if (i === 1 || i === totalPages || (i >= currentPage - 1 && i <= currentPage + 1)) { %>
                                    <li class="<%= currentPage === i ? 'active' : '' %>">
                                        <% if (currentPage === i) { %>
                                            <div class="pagination-item text-button"><%= i %></div>
                                        <% } else { %>
                                            <a href="<%= buildPageUrl(i) %>" class="pagination-item text-button"><%= i %></a>
                                        <% } %>
                                    </li>
                                <% } else if (i === currentPage - 2 || i === currentPage + 2) { %>
                                    <li><span class="pagination-item text-button">...</span></li>
                                <% } %>
                            <% } %>
        
                            <% if (currentPage < totalPages) { %>
                                <li>
                                    <a href="<%= buildPageUrl(currentPage + 1) %>" class="pagination-item text-button">
                                        <i class="icon-arrRight"></i>
                                    </a>
                                </li>
                            <% } %>
                        </ul>
                    <% } %>
                </div>
            </div>
        </section>

        <!-- Booking Modal -->
        <div class="sbm-modal-overlay" id="bookingModal">
            <div class="sbm-modal-container">
                <div class="sbm-modal-header">
                    <div class="sbm-modal-title">Book Your Appointment</div>
                    <div class="sbm-modal-subtitle">Glam Studio Salon - Indiranagar</div>
                    <button class="sbm-close-btn" onclick="closeBookingModal()">√ó</button>
                </div>

                <div class="sbm-modal-body">
                    <!-- Services Section -->
                    <div class="sbm-section">
                        <div class="sbm-section-title">
                            <div class="sbm-section-icon">‚úÇ</div>
                            Select Services
                        </div>
                        <div class="sbm-services-grid" id="servicesGrid">
                            <!-- Services will be populated here -->
                        </div>
                    </div>

                    <!-- Date Selection -->
                    <div class="sbm-section">
                        <div class="sbm-section-title">
                            <div class="sbm-section-icon">üìÖ</div>
                            Choose Date
                        </div>
                        <div class="sbm-date-selector" id="dateSelector">
                            <!-- Dates will be populated here -->
                        </div>
                    </div>

                    <div class="sbm-modal-body">
                        <!-- Service Type Selection -->
                        <div class="sbm-section">
                            <div class="sbm-section-title">
                                <div class="sbm-section-icon">üè†</div>
                                Service Location
                            </div>
                            <div class="sbm-service-type-container">
                                <div class="sbm-service-type-option" id="salonVisit"
                                    onclick="selectServiceType('salon')">
                                    <div class="sbm-service-type-icon">üè¢</div>
                                    <div class="sbm-service-type-title">Visit Salon</div>
                                    <div class="sbm-service-type-desc">Come to our salon at Indiranagar</div>
                                </div>
                                <div class="sbm-service-type-option" id="homeService"
                                    onclick="selectServiceType('home')">
                                    <div class="sbm-service-type-icon">üè°</div>
                                    <div class="sbm-service-type-title">Home Service</div>
                                    <div class="sbm-service-type-desc">Beautician visits your location</div>
                                </div>
                            </div>
                        </div>

                        <!-- Home Address Section - Add this in your HTML modal body after Service Type Selection -->
                        <div class="sbm-section" id="homeAddressSection" style="display: none;">
                            <div class="sbm-section-title">
                                <div class="sbm-section-icon">üìç</div>
                                Service Address
                            </div>
                            <div class="sbm-form-group">
                                <label class="sbm-form-label">Complete Address *</label>
                                <input type="text" class="sbm-form-input" id="userAddress"
                                    placeholder="Enter your complete address (House/Flat No, Street, Area)">
                            </div>
                            <div class="sbm-form-group">
                                <label class="sbm-form-label">Landmark / Additional Details</label>
                                <input type="text" class="sbm-form-input" id="addressDetails"
                                    placeholder="Nearby landmark or additional directions">
                            </div>
                            <div class="sbm-form-group">
                                <label for="customerAddress" class="sbm-form-label">Google Maps Link</label>
                                <input type="text" id="customerAddress" name="customerAddress"
                                    placeholder="Enter your address or paste Google Maps link" class="sbm-form-input" />
                                <small style="color: #777;">
                                    Example: https://maps.app.goo.gl/abcd1234
                                </small>
                            </div>
                            <!--  <div class="sbm-form-group">
                                <label class="sbm-form-label">Mark Location on Map</label>
                                <div class="sbm-map-container">
                                    <input type="text" class="sbm-form-input" id="mapSearch"
                                        placeholder="Search location or click on map" style="margin-bottom: 12px;">
                                    <div class="sbm-map-wrapper">
                                        <div id="map"></div>
                                    </div>
                                    <div class="sbm-coordinates">
                                        <span style="font-weight: 600;">Selected Location:</span>
                                        <span id="selectedLocation">Not selected yet</span>
                                    </div>
                                </div>
                            </div>-->
                        </div>



                        <!-- Time Slots -->
                        <div class="sbm-section">
                            <div class="sbm-section-title">
                                <div class="sbm-section-icon">üïê</div>
                                Available Time Slots
                            </div>
                            <div class="sbm-slots-container" id="slotsContainer">
                                <!-- Slots will be populated here -->
                            </div>
                        </div>

                        <!-- User Details -->
                        <div class="sbm-section">
                            <div class="sbm-section-title">
                                <div class="sbm-section-icon">üë§</div>
                                Your Details
                            </div>
                            <div class="sbm-form-row">
                                <div class="sbm-form-group">
                                    <label class="sbm-form-label">Full Name *</label>
                                    <input type="text" class="sbm-form-input" id="userName"
                                        placeholder="Enter your name" required>
                                </div>
                                <div class="sbm-form-group">
                                    <label class="sbm-form-label">Phone Number *</label>
                                    <input type="tel" class="sbm-form-input" id="userPhone"
                                        placeholder="+91 XXXXX XXXXX" required>
                                </div>
                            </div>
                            <div class="sbm-form-group">
                                <label class="sbm-form-label">Email Address</label>
                                <input type="email" class="sbm-form-input" id="userEmail"
                                    placeholder="your.email@example.com">
                            </div>
                            <div class="sbm-form-group">
                                <label class="sbm-form-label">Special Requests (Optional)</label>
                                <textarea class="sbm-form-textarea" id="userNotes"
                                    placeholder="Any specific requirements or preferences..."></textarea>
                            </div>
                        </div>
                    </div>

                    <div class="sbm-modal-footer">
                        <div class="sbm-total-price">
                            Total: <span class="sbm-price-amount" id="totalPrice">‚Çπ0</span>
                        </div>
                        <button class="sbm-submit-btn" onclick="submitBooking()">Confirm Booking</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- /Section beautician list -->




        <!-- Footer -->
         <footer id="footer" class="footer">
    <div class="footer-wrap">
        <div class="footer-body">
            <div class="container">
                <div class="row">
                    <div class="col-lg-5">
                        <div class="footer-infor">
                            <div class="footer-logo">
                                <a href="/">
                                    <img src="/images/logo/blushley-png-without-shade.png" alt="">
                                </a>
                            </div>
                            <p>Premium beauty products and professional beautician services. Shop skincare,
                                makeup, and hair care essentials, or book appointments with our network of
                                experienced beauticians.</p>
                        </div>
                    </div>
                    <div class="col-lg-4">
                        <div class="footer-menu footer-menu-texts">
                            <div class="footer-col-block">
                                <div class="footer-heading text-button footer-heading-mobile">
                                    Information
                                </div>
                                <div class="tf-collapse-content">
                                    <ul class="footer-menu-list">
                                        <li class="text-caption-1">
                                            <a href="/about" class="footer-menu_item">About Us</a>
                                        </li>
                                        <li class="text-caption-1">
                                            <a href="/contact" class="footer-menu_item">Contact us</a>
                                        </li>
                                        <li class="text-caption-1">
                                            <a href="/user-account" class="footer-menu_item">My Account</a>
                                        </li>
                                        <li class="text-caption-1">
                                            <a href="/terms_and_conditions" class="footer-menu_item">Terms & Conditions</a>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                            <div class="footer-col-block">
                                <div class="footer-heading text-button footer-heading-mobile">
                                    Services
                                </div>
                                <div class="tf-collapse-content">
                                    <ul class="footer-menu-list">
                                        <li class="text-caption-1">
                                            <a href="#" class="footer-menu_item">Shipping</a>
                                        </li>
                                        <li class="text-caption-1">
                                            <a href="#" class="footer-menu_item">Return & Refund</a>
                                        </li>
                                        <li class="text-caption-1">
                                            <a href="/wishlist" class="footer-menu_item">My Wishlist</a>
                                        </li>
                                        <li class="text-caption-1">
                                            <a href="/privacy_policy" class="footer-menu_item">Privacy Policy</a>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-3">
                        <div class="footer-heading text-button footer-heading-mobile">
                            contact us
                        </div>
                        <div class="footer-address">
                            <p>Trivandrum, Kerala</p>
                        </div>
                        <ul class="footer-info">
                            <li>
                                <i class="icon-mail"></i>
                                <p><a  href="mailto:blushleyoffice@gmail.com">blushleyoffice@gmail.com</a></p>
                            </li>
                            <li>
                                <i class="icon-phone"></i>
 <p><a class="ft-number" href="tel:+917994145723">+91 7994 145 723</a></p>
                            </li>
                        </ul>
                          <div class="tf-cur mt-3">
                                    <ul class="tf-social-icon">
                                        <li><a href="#" class="social-facebook"><i class="icon icon-fb"></i></a></li>
                                        <li><a href="#" class="social-twiter"><i class="icon icon-x"></i></a></li>
                                        <li><a href="#" class="social-instagram"><i class="icon icon-instagram"></i></a></li>
                                    </ul>
                                </div>
                    </div>
                 
                </div>
            </div>
        </div>
        <div class="footer-bottom">
            <div class="container">
                <div class="row">
                    <div class="col-12">
                        <div class="footer-bottom-wrap">
                            <div class="left">
                                <p class="text-caption-1">¬©2025 Blushley. All Rights Reserved.| Developed by Trivlogic Private Limited</p>
                              
                            </div>
                            <div class="tf-payment">
                                <p class="text-caption-1">Payment:</p>
                                <ul>
                                    <li><img src="/images/payment/img-1.png" alt=""></li>
                                    <li><img src="/images/payment/img-2.png" alt=""></li>
                                    <li><img src="/images/payment/img-3.png" alt=""></li>
                                    <li><img src="/images/payment/img-4.png" alt=""></li>
                                    <li><img src="/images/payment/img-5.png" alt=""></li>
                                    <li><img src="/images/payment/img-6.png" alt=""></li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</footer>
</div>

<div class="mobile-nav-wrapper" id="mobileNavWrapper">
    <!-- Floating Top Toolbar -->
    <div class="tf-toolbar-top hide" id="mobileTopToolbar">

        <div class="toolbar-item">
          <a href="/saloon-at-home">
            <div class="toolbar-icon">
              <!-- svg -->
            </div>
            <div class="toolbar-label">Salon at Home</div>
          </a>
        </div>

        <div class="toolbar-logo">
          <a href="/" aria-label="Home">
            <img src="/images/logo/Blushley-png-logo.png" alt="Logo" style="width: 30px;">
          </a>
        </div>
      
        <div class="toolbar-item">
          <a href="/book-a-saloon">
            <!-- svg -->
            <div class="toolbar-label">Book a Salon</div>
          </a>
        </div>
      
      </div>
      
    <!-- toolbar-bottom -->
    <div class="tf-toolbar-bottom">
        <div class="toolbar-item">
            <a href="/">
                <div class="toolbar-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24"
                        fill="none" stroke="#4D4E4F" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2h-4a2 2 0 0 1-2-2v-5H9v5a2 2 0 0 1-2 2H3z"></path>
                    </svg>
                </div>
                <div class="toolbar-label">Home</div>
            </a>
        </div>
        <div class="toolbar-item">
            <a href="/shop">
                <div class="toolbar-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24"
                        fill="none" stroke="#4D4E4F" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M6 2l1 7h10l1-7H6zM5 9h14l-1 11H6L5 9z"></path>
                    </svg>
                </div>
                <div class="toolbar-label">Store</div>
            </a>
        </div>
        <div class="toolbar-item">
            <% if (!user) { %>
                <!-- NOT LOGGED IN -->
                <a href="/userLogin">
                  <div class="toolbar-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24"
                        fill="none" stroke="#4D4E4F" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                      <path d="M20 21v-2a4 4 0 0 0-3-3.87"></path>
                      <path d="M4 21v-2a4 4 0 0 1 3-3.87"></path>
                      <circle cx="12" cy="7" r="4"></circle>
                    </svg>
                  </div>
                  <div class="toolbar-label">Login</div>
                </a>
            <% } else { %>
                <% if (user.role === "user") { %>
                    <!-- USER -->
                    <a href="/user-account">
                      <div class="toolbar-icon">
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24"
                            fill="none" stroke="#4D4E4F" stroke-width="2" stroke-linecap="round"
                            stroke-linejoin="round">
                          <path d="M20 21v-2a4 4 0 0 0-3-3.87"></path>
                          <path d="M4 21v-2a4 4 0 0 1 3-3.87"></path>
                          <circle cx="12" cy="7" r="4"></circle>
                        </svg>
                      </div>
                      <div class="toolbar-label">Account</div>
                    </a>
                <% } else if (user.role === "reseller") { %>
                    <!-- RESELLER -->
                    <a href="/reseller/dashboard">
                      <div class="toolbar-icon">
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24"
                            fill="none" stroke="#4D4E4F" stroke-width="2" stroke-linecap="round"
                            stroke-linejoin="round">
                          <path d="M3 3h18v18H3z"></path>
                          <path d="M7 7h10v10H7z"></path>
                        </svg>
                      </div>
                      <div class="toolbar-label">Dashboard</div>
                    </a>
                <% } else if (user.role === "freelancer") { %>
                    <!-- FREELANCER -->
                    <a href="/freelance/beautician_dashboard">
                      <div class="toolbar-icon">
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24"
                            fill="none" stroke="#4D4E4F" stroke-width="2" stroke-linecap="round"
                            stroke-linejoin="round">
                          <path d="M3 3h18v18H3z"></path>
                          <path d="M7 12h10"></path>
                          <path d="M12 7v10"></path>
                        </svg>
                      </div>
                      <div class="toolbar-label">Dashboard</div>
                    </a>
                <% } else if (user.role === "salon") { %>
                    <!-- SALON -->
                    <a href="/salon/salon_dashboard">
                      <div class="toolbar-icon">
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24"
                            fill="none" stroke="#4D4E4F" stroke-width="2" stroke-linecap="round"
                            stroke-linejoin="round">
                          <path d="M3 3h18v18H3z"></path>
                          <path d="M7 7h10v4H7z"></path>
                        </svg>
                      </div>
                      <div class="toolbar-label">Dashboard</div>
                    </a>
                <% } else if (["admin", "superadmin", "staff"].includes(user.role)) { %>
                    <!-- ADMIN / STAFF -->
                    <a href="/admin/dashboard">
                      <div class="toolbar-icon">
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24"
                            fill="none" stroke="#4D4E4F" stroke-width="2" stroke-linecap="round"
                            stroke-linejoin="round">
                          <path d="M12 2l7 4v6c0 5-3 9-7 10-4-1-7-5-7-10V6l7-4z"></path>
                        </svg>
                      </div>
                      <div class="toolbar-label">Admin</div>
                    </a>
                <% } %>
            <% } %>
        </div>
          
        <div class="toolbar-item">
            <a href="/user-orders">
                <div class="toolbar-icon">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none"
                        xmlns="http://www.w3.org/2000/svg">
                        <rect x="3" y="3" width="18" height="18" rx="2" stroke="#4D4E4F" stroke-width="2" />
                        <path d="M9 3V6M15 3V6M3 9H21" stroke="#4D4E4F" stroke-width="2"
                            stroke-linecap="round" />
                    </svg>
                </div>
                <div class="toolbar-label">Orders</div>
            </a>
        </div>
        <div class="toolbar-item">
            <a href="/wishlist">
                <div class="toolbar-icon">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none"
                        xmlns="http://www.w3.org/2000/svg">
                        <path
                            d="M20.84 4.61C20.33 4.1 19.72 3.69 19.05 3.42C18.39 3.14 17.67 3 16.95 3C16.23 3 15.51 3.14 14.84 3.42C14.18 3.69 13.57 4.1 13.06 4.61L12 5.67L10.94 4.61C9.91 3.58 8.51 3 7.05 3C5.59 3 4.19 3.58 3.16 4.61C2.13 5.64 1.55 7.04 1.55 8.5C1.55 9.96 2.13 11.36 3.16 12.39L4.22 13.45L12 21.23L19.78 13.45L20.84 12.39C21.35 11.88 21.76 11.27 22.03 10.61C22.31 9.94 22.45 9.22 22.45 8.5C22.45 7.78 22.31 7.06 22.03 6.39C21.76 5.73 21.35 5.12 20.84 4.61Z"
                            stroke="currentColor" stroke-width="2" stroke-linecap="round"
                            stroke-linejoin="round" />
                    </svg>
                </div>
                <div class="toolbar-label">Wishlist</div>
            </a>
        </div>

    </div>
    <!-- /toolbar-bottom -->
</div>
<script>
    document.addEventListener("DOMContentLoaded", () => {
      const topToolbar = document.getElementById("mobileTopToolbar");
      if (!topToolbar) return;
    
      const isMobile = () => window.innerWidth <= 768;
    
      let lastScrollTop = window.pageYOffset || document.documentElement.scrollTop;
      const scrollThreshold = 5;
    
      // start hidden
      topToolbar.classList.add("hide");
      topToolbar.classList.remove("show");
    
      window.addEventListener("scroll", () => {
        if (!isMobile()) return;
    
        const scrollTop = window.pageYOffset || document.documentElement.scrollTop;
    
        // ‚úÖ show only after small scroll (so not in top)
        if (scrollTop < 150) {
          topToolbar.classList.add("hide");
          topToolbar.classList.remove("show");
          lastScrollTop = scrollTop;
          return;
        }
    
        if (Math.abs(scrollTop - lastScrollTop) < scrollThreshold) return;
    
        // ‚úÖ scroll down => show
        if (scrollTop > lastScrollTop) {
          topToolbar.classList.remove("hide");
          topToolbar.classList.add("show");
        }
        // ‚úÖ scroll up => hide
        else {
          topToolbar.classList.add("hide");
          topToolbar.classList.remove("show");
        }
    
        lastScrollTop = scrollTop <= 0 ? 0 : scrollTop;
      }, { passive: true });
    });
    </script>

<!-- Filter Sidebar -->
<div class="offcanvas offcanvas-start canvas-filter" id="filterShop">
    <div class="canvas-wrapper">
        <div class="canvas-header">
            <h5>Filters</h5>
            <span class="icon-close icon-close-popup" data-bs-dismiss="offcanvas" aria-label="Close"></span>
        </div>

        <div class="canvas-body">
            <!-- Service Categories -->
            <div class="widget-facet facet-categories">
                <h6 class="facet-title">Services</h6>
                <ul class="facet-content">
                    <% filterOptions.services.forEach(service => { %>
                        <li>
                            <label class="categories-item">
                                <input type="checkbox" 
                                       name="service" 
                                       value="<%= service.name %>"
                                       <%= filters.service === service.name ? 'checked' : '' %>
                                       class="filter-checkbox">
                                <%= service.name %>
                                <span class="count-cate">(<%= service.count %>)</span>
                            </label>
                        </li>
                    <% }) %>
                </ul>
            </div>

            <!-- Price Range -->
            <div class="widget-facet facet-price">
                <h6 class="facet-title">Price Range</h6>
                <div class="price-val-range" 
                     id="price-value-range" 
                     data-min="100" 
                     data-max="5000"
                     data-current-min="<%= filters.price_min || 100 %>"
                     data-current-max="<%= filters.price_max || 5000 %>">
                </div>
                <div class="box-price-product">
                    <div class="box-price-item">
                        <span class="title-price">Min price</span>
                        <div class="price-val" id="price-min-value">‚Çπ<%= filters.price_min || 100 %></div>
                    </div>
                    <div class="box-price-item">
                        <span class="title-price">Max price</span>
                        <div class="price-val" id="price-max-value">‚Çπ<%= filters.price_max || 5000 %></div>
                    </div>
                </div>
                <input type="hidden" id="price_min" name="price_min" value="<%= filters.price_min || '' %>">
                <input type="hidden" id="price_max" name="price_max" value="<%= filters.price_max || '' %>">
            </div>

            <!-- Availability -->
            <div class="widget-facet facet-fieldset">
                <h6 class="facet-title">Availability</h6>
                <div class="box-fieldset-item">
                    <% filterOptions.availabilities.forEach(availability => { %>
                        <fieldset class="fieldset-item">
                            <input type="radio" 
                                   name="availability" 
                                   value="<%= availability.value %>"
                                   <%= filters.availability === availability.value ? 'checked' : '' %>
                                   class="tf-check filter-radio" 
                                   id="<%= availability.value %>">
                            <label for="<%= availability.value %>"><%= availability.label %></label>
                        </fieldset>
                    <% }) %>
                </div>
            </div>

            <!-- Service Mode -->
            <div class="widget-facet facet-fieldset">
                <h6 class="facet-title">Service Type</h6>
                <div class="box-fieldset-item">
                    <% filterOptions.serviceModes.forEach(mode => { %>
                        <fieldset class="fieldset-item">
                            <input type="radio" 
                                   name="service_mode" 
                                   value="<%= mode.value %>"
                                   <%= filters.service_mode === mode.value ? 'checked' : '' %>
                                   class="tf-check filter-radio" 
                                   id="mode-<%= mode.value %>">
                            <label for="mode-<%= mode.value %>"><%= mode.label %></label>
                        </fieldset>
                    <% }) %>
                </div>
            </div>

            <!-- Location -->
            <div class="widget-facet facet-location">
                <h6 class="facet-title">Location</h6>
                <div class="box-fieldset-item">
                    <% filterOptions.locations.forEach(location => { %>
                        <fieldset class="fieldset-item">
                            <input type="checkbox" 
                                   name="location" 
                                   value="<%= location.name %>"
                                   <%= filters.location === location.name ? 'checked' : '' %>
                                   class="tf-check filter-checkbox" 
                                   id="loc-<%= location.name.replace(/\s+/g, '-') %>">
                            <label for="loc-<%= location.name.replace(/\s+/g, '-') %>">
                                <%= location.name %>
                                <span class="count-cate">(<%= location.count %>)</span>
                            </label>
                        </fieldset>
                    <% }) %>
                </div>
            </div>

            <!-- Ratings -->
            <div class="widget-facet facet-rating">
                <h6 class="facet-title">Ratings</h6>
                <div class="box-fieldset-item">
                    <% filterOptions.ratings.forEach(rating => { %>
                        <fieldset class="fieldset-item">
                            <input type="radio" 
                                   name="rating" 
                                   value="<%= rating.value %>"
                                   <%= filters.rating == rating.value ? 'checked' : '' %>
                                   class="tf-check filter-radio" 
                                   id="rating<%= rating.value %>">
                            <label for="rating<%= rating.value %>"><%= rating.label %></label>
                        </fieldset>
                    <% }) %>
                </div>
            </div>
        </div>

        <div class="canvas-bottom">
            <button type="button" class="tf-btn btn-reset" id="reset-filter">Reset Filters</button>
            <button type="button" class="tf-btn btn-apply" id="apply-filters">Apply Filters</button>
        </div>
    </div>
</div>

<!-- Add this script section -->
<script>
    // Helper function to build page URL with filters
    function buildPageUrl(page) {
        const params = new URLSearchParams(window.location.search);
        params.set('page', page);
        return '/book-a-saloon?' + params.toString();
    }

    // Initialize when DOM is loaded
    document.addEventListener('DOMContentLoaded', function() {
        // Price range slider
        const priceSlider = document.getElementById('price-value-range');
        if (priceSlider) {
            const minPrice = parseInt(priceSlider.dataset.min);
            const maxPrice = parseInt(priceSlider.dataset.max);
            const currentMin = parseInt(priceSlider.dataset.currentMin) || minPrice;
            const currentMax = parseInt(priceSlider.dataset.currentMax) || maxPrice;
            
            // Initialize slider (you'll need a slider library like noUiSlider)
            // This is a placeholder - implement with your preferred slider
            initPriceSlider(minPrice, maxPrice, currentMin, currentMax);
        }

        // Filter checkbox/radio handlers
        document.querySelectorAll('.filter-checkbox, .filter-radio').forEach(input => {
            input.addEventListener('change', function() {
                updateActiveFilters();
            });
        });

        // Apply filters button
        document.getElementById('apply-filters').addEventListener('click', function() {
            applyFilters();
        });

        // Reset filters button
        document.getElementById('reset-filter').addEventListener('click', function() {
            resetFilters();
        });

        // Remove individual filters
        document.querySelectorAll('.remove-filter').forEach(button => {
            button.addEventListener('click', function() {
                const filterName = this.dataset.filter;
                removeFilter(filterName);
            });
        });

        // Remove all filters
        document.getElementById('remove-all')?.addEventListener('click', function() {
            resetFilters();
        });

        // Sort dropdown
        document.querySelectorAll('.select-item').forEach(item => {
            item.addEventListener('click', function() {
                const sortValue = this.dataset.sortValue;
                updateSort(sortValue);
            });
        });
    });

    function initPriceSlider(min, max, currentMin, currentMax) {
        // Implement your price slider here
        // Example with noUiSlider:
        /*
        noUiSlider.create(priceSlider, {
            start: [currentMin, currentMax],
            connect: true,
            range: {
                'min': min,
                'max': max
            },
            step: 100
        });

        priceSlider.noUiSlider.on('update', function(values) {
            document.getElementById('price-min-value').textContent = '‚Çπ' + Math.round(values[0]);
            document.getElementById('price-max-value').textContent = '‚Çπ' + Math.round(values[1]);
            document.getElementById('price_min').value = Math.round(values[0]);
            document.getElementById('price_max').value = Math.round(values[1]);
        });
        */
    }

    function updateActiveFilters() {
        const activeFilters = [];
        
        // Check checkboxes
        document.querySelectorAll('.filter-checkbox:checked').forEach(cb => {
            activeFilters.push({
                name: cb.name,
                value: cb.value
            });
        });
        
        // Check radios
        document.querySelectorAll('.filter-radio:checked').forEach(radio => {
            activeFilters.push({
                name: radio.name,
                value: radio.value
            });
        });

        // Update UI
        updateFilterDisplay(activeFilters);
    }

    function updateFilterDisplay(filters) {
        // Update the applied filters display
        const container = document.getElementById('applied-filters');
        if (!container) return;
        
        container.innerHTML = filters.map(filter => `
            <span class="applied-filter">
                ${filter.name}: ${filter.value}
                <button class="remove-filter" data-filter="${filter.name}">√ó</button>
            </span>
        `).join('');
    }

    function applyFilters() {
        const formData = new FormData();
        
        // Collect filter values
        document.querySelectorAll('.filter-checkbox:checked').forEach(cb => {
            formData.append(cb.name, cb.value);
        });
        
        document.querySelectorAll('.filter-radio:checked').forEach(radio => {
            formData.append(radio.name, radio.value);
        });
        
        // Add price range
        const priceMin = document.getElementById('price_min')?.value;
        const priceMax = document.getElementById('price_max')?.value;
        if (priceMin) formData.append('price_min', priceMin);
        if (priceMax) formData.append('price_max', priceMax);
        
        // Add sort value
        const sortValue = document.querySelector('.text-sort-value').dataset.sortValue;
        if (sortValue) formData.append('sort', sortValue);
        
        // Build query string
        const params = new URLSearchParams();
        for (let [key, value] of formData.entries()) {
            params.append(key, value);
        }
        
        // Redirect with filters
        window.location.href = '/book-a-saloon?' + params.toString();
    }

    function resetFilters() {
        window.location.href = '/book-a-saloon';
    }

    function removeFilter(filterName) {
        const params = new URLSearchParams(window.location.search);
        params.delete(filterName);
        window.location.href = '/book-a-saloon?' + params.toString();
    }

    function updateSort(sortValue) {
        const params = new URLSearchParams(window.location.search);
        params.set('sort', sortValue);
        window.location.href = '/book-a-saloon?' + params.toString();
    }

    // AJAX filtering (optional)
    function loadSalons(page = 1) {
        const params = new URLSearchParams(window.location.search);
        params.set('page', page);
        
        fetch('/api/salons?' + params.toString())
            .then(response => response.json())
            .then(data => {
                if (data.success) {
                    updateSalonList(data.salons);
                    updatePagination(data.pagination);
                }
            })
            .catch(error => console.error('Error:', error));
    }

    function updateSalonList(salons) {
        const container = document.getElementById('listLayout');
        if (!container) return;
        
        // Update salon list with new data
        // Implement based on your template structure
    }

    function updatePagination(pagination) {
        // Update pagination controls
        // Implement based on your template structure
    }

    // Update your existing booking modal function
    function openBookingModal(salonId) {
        // Store salon ID for booking
        window.currentSalonId = salonId;
        
        // Show modal (your existing modal code)
        document.getElementById('bookingModal').classList.add('sbm-active');
        document.body.style.overflow = 'hidden';
        
        // Load salon-specific data
        loadSalonServices(salonId);
    }

    async function loadSalonServices(salonId) {
        try {
            const response = await fetch(`/api/salons/${salonId}/services`);
            const data = await response.json();
            
            if (data.success) {
                populateServices(data.services);
            }
        } catch (error) {
            console.error('Error loading services:', error);
        }
    }
</script>

        <!-- search -->
        <div class="modal fade modal-search" id="search" tabindex="-1" aria-hidden="true">
            <div class="modal-dialog modal-dialog-centered">
              <div class="modal-content p-3">
                <div class="d-flex justify-content-between align-items-center mb-2">
                  <h5 class="m-0">Search</h5>
                  <button type="button" class="btn btn-sm btn-light" data-bs-dismiss="modal" aria-label="Close">&times;</button>
                </div>
          
                <div class="search-bar-wrapper d-flex align-items-center mb-2">
                  <form class="form-search flex-grow-1" onsubmit="return false;" id="searchForm">
                    <fieldset class="text m-0">
                      <input id="searchInput" type="text" placeholder="Start typing (min 3 characters)..." name="text" tabindex="0"
                             aria-required="true" autocomplete="off" class="form-control" />
                    </fieldset>
                  </form>
          
                  <button id="searchFilterToggleBtn" class="btn btn-outline-secondary ms-2" type="button" onclick="Search.toggleFilterSection()">
                      Filters <span id="searchFilterCount" class="badge bg-secondary" style="display:none;">0</span>
                  </button>
                </div>
          
                <!-- Filters (hidden until modal opened and data loaded) -->
                <div id="searchFilterSection" class="card card-body mb-2" style="display:none;">
                  <div class="d-flex justify-content-between mb-2">
                    <strong>Filters</strong>
                    <button class="btn btn-sm btn-link" id="searchClearFiltersBtn" onclick="Search.clearAllFilters()" style="display:none;">Clear All</button>
                  </div>
          
                  <div class="mb-2">
                    <label class="form-label mb-1">Categories</label>
                    <div id="searchCategoryContainer" class="d-flex flex-wrap gap-2"></div>
                  </div>
          
                  <div class="mb-2">
                    <label class="form-label mb-1">Brands</label>
                    <div id="searchBrandContainer" class="d-flex flex-wrap gap-2"></div>
                  </div>
                </div>
          
                <div class="mb-2">
                  <h6 class="mb-1">Suggestions</h6>
                  <div id="searchSuggestions" class="small text-muted">Type 3 characters to see results</div>
                </div>
          
                <div class="mb-2">
                  <h6 class="mb-1">Recently viewed</h6>
                  <div id="searchRecentlyViewed" class="d-flex flex-wrap gap-2"></div>
                </div>
          
                <!-- Results -->
                <div id="searchResultsContainer" class="list-group"></div>
          
                <div class="mt-3 text-end">
                  <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                </div>
              </div>
            </div>
          </div>
        <!-- /search -->
    <!-- mobile menu -->
    <div class="offcanvas offcanvas-start canvas-mb" id="mobileMenu">
        <span class="icon-close icon-close-popup" data-bs-dismiss="offcanvas" aria-label="Close"></span>
        <div class="mb-canvas-content">
            <div class="mb-body">
                <div class="mb-content-top">
                    <form class="form-search">
                        <fieldset class="text">
                            <input type="text" placeholder="What are you looking for?" class="" name="text" tabindex="0"
                                value="" aria-required="true" required="">
                        </fieldset>
                        <button class="" type="submit">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none"
                                xmlns="http://www.w3.org/2000/svg">
                                <path
                                    d="M11 19C15.4183 19 19 15.4183 19 11C19 6.58172 15.4183 3 11 3C6.58172 3 3 6.58172 3 11C3 15.4183 6.58172 19 11 19Z"
                                    stroke="#181818" stroke-linecap="round" stroke-linejoin="round" />
                                <path d="M20.9984 20.9999L16.6484 16.6499" stroke="#181818" stroke-linecap="round"
                                    stroke-linejoin="round" />
                            </svg>
                        </button>
                    </form>
                    <ul class="nav-ul-mb" id="wrapper-menu-navigation">
                        <li class="nav-mb-item active">
                            <a href="/" class="mb-menu-link">
                                <span>Home</span>

                            </a>

                        </li>

                        <li class="nav-mb-item active">
                            <a href="/about" class="mb-menu-link">
                                <span>About</span>
                            </a>
                        </li>
                        <li class="nav-mb-item active">
                            <a href="/shop" class="mb-menu-link">
                                <span>Shop</span>

                            </a>

                        </li>
                        <li class="nav-mb-item active">
                            <a href="/saloon-at-home" class="mb-menu-link">
                                <span>Salon at Home</span>

                            </a>

                        </li>
                        <li class="nav-mb-item active">
                            <a href="/book-a-saloon" class="mb-menu-link">
                                <span>Book a Salon</span>

                            </a>

                        </li>

                        <li class="nav-mb-item active">
                            <a href="/userblogs" class="mb-menu-link">
                                <span>Blogs</span>

                            </a>

                        </li>
                        <li class="nav-mb-item active">
                            <a href="/contact" class="mb-menu-link">
                                <span>Contact</span>

                            </a>

                        </li>


                    </ul>
                </div>
                <div class="mb-other-content">
                    <div class="group-icon">
                        <a href="/wishlist" class="site-nav-icon">
                            <svg class="icon" width="18" height="18" viewBox="0 0 24 24" fill="none"
                                xmlns="http://www.w3.org/2000/svg">
                                <path
                                    d="M20.8401 4.60987C20.3294 4.09888 19.7229 3.69352 19.0555 3.41696C18.388 3.14039 17.6726 2.99805 16.9501 2.99805C16.2276 2.99805 15.5122 3.14039 14.8448 3.41696C14.1773 3.69352 13.5709 4.09888 13.0601 4.60987L12.0001 5.66987L10.9401 4.60987C9.90843 3.57818 8.50915 2.99858 7.05012 2.99858C5.59109 2.99858 4.19181 3.57818 3.16012 4.60987C2.12843 5.64156 1.54883 7.04084 1.54883 8.49987C1.54883 9.95891 2.12843 11.3582 3.16012 12.3899L4.22012 13.4499L12.0001 21.2299L19.7801 13.4499L20.8401 12.3899C21.3511 11.8791 21.7565 11.2727 22.033 10.6052C22.3096 9.93777 22.4519 9.22236 22.4519 8.49987C22.4519 7.77738 22.3096 7.06198 22.033 6.39452C21.7565 5.72706 21.3511 5.12063 20.8401 4.60987V4.60987Z"
                                    stroke="#181818" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
                            </svg>
                            Wishlist
                        </a>

                        <a href="/userLogin" class="site-nav-icon">
                            <svg class="icon" width="18" height="18" viewBox="0 0 24 24" fill="none"
                                xmlns="http://www.w3.org/2000/svg">
                                <path
                                    d="M20 21V19C20 17.9391 19.5786 16.9217 18.8284 16.1716C18.0783 15.4214 17.0609 15 16 15H8C6.93913 15 5.92172 15.4214 5.17157 16.1716C4.42143 16.9217 4 17.9391 4 19V21"
                                    stroke="#181818" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
                                <path
                                    d="M12 11C14.2091 11 16 9.20914 16 7C16 4.79086 14.2091 3 12 3C9.79086 3 8 4.79086 8 7C8 9.20914 9.79086 11 12 11Z"
                                    stroke="#181818" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
                            </svg>
                            Login
                        </a>

                    </div>
                    <div class="mb-notice">
                        <a href="/contact" class="text-need">Need Help?</a>
                    </div>
                    <div class="mb-contact">
                        <p class="text-caption-1">Trivandrum, Kerala</p>
                        <!-- <a href="/contact" class="tf-btn-default text-btn-uppercase">GET DIRECTION<i
                                class="icon-arrowUpRight"></i></a>-->
                    </div>
                    <ul class="mb-info">
                        <li>
                            <i class="icon icon-mail"></i>
                            <p><a  href="mailto:blushleyoffice@gmail.com">blushleyoffice@gmail.com</a></p>
                        </li>
                        <li>
                            <i class="icon icon-phone"></i>
                            <p>+91 7994 145 723</p>
                        </li>
                    </ul>
                </div>
            </div>

        </div>
    </div>
    <!-- /mobile menu -->

    <!-- shoppingCart -->

    <div class="modal fullRight fade modal-shopping-cart" id="shoppingCart">
        <div class="modal-dialog">
            <div class="modal-content">
    
                <div class="d-flex flex-column flex-grow-1 h-100">
                    <div class="header">
                        <h5 class="title">Shopping Cart</h5>
                        <span class="icon-close icon-close-popup" data-bs-dismiss="modal"></span>
                    </div>
    
                    <div class="wrap">
                        <div class="tf-mini-cart-wrap">
    
                            <!-- MAIN CART SCROLL AREA -->
                            <div class="tf-mini-cart-main">
                                <div class="tf-mini-cart-sroll">
    
                                    <!-- *********************************** -->
                                    <!-- THIS IS THE ONLY CHANGE YOU MUST KEEP -->
                                    <!-- *********************************** -->
                                    <div class="tf-mini-cart-items"></div>
                                    <!-- cart.js will dynamically append items here -->
    
                                </div>
                            </div>
    
                            <!-- BOTTOM SECTION -->
                            <div class="tf-mini-cart-bottom">
                                <div class="tf-mini-cart-tool"></div>
    
                                <div class="tf-mini-cart-bottom-wrap">
                                    <div class="tf-cart-totals-discounts">
                                        <h5>Subtotal</h5>
    
                                        <!-- REQUIRED for JS -->
                                        <h5 class="tf-totals-total-value">‚Çπ0</h5>
                                    </div>
    
                                    <div class="tf-cart-checkbox">
                                        <div class="tf-checkbox-wrapp">
                                            <input type="checkbox" id="CartDrawer-Form_agree">
                                            <div><i class="icon-check"></i></div>
                                        </div>
                                        <label for="CartDrawer-Form_agree">
                                            I agree with
                                            <a href="/terms_and_conditions">Terms & Conditions</a>
                                        </label>
                                    </div>
    
                                    <div class="tf-mini-cart-view-checkout">
                                        <a href="/cart" class="tf-btn w-100 btn-white radius-4 has-border">
                                            <span class="text">View cart</span>
                                        </a>
                                        <a href="/cart" class="tf-btn w-100 btn-fill radius-4">
                                            <span class="text">Check Out</span>
                                        </a>
                                    </div>
    
                                    <div class="text-center">
                                        <a class="link text-btn-uppercase" href="/shop">Or continue shopping</a>
                                    </div>
                                </div>
                            </div>
    
                            <!-- EXTRA FEATURES (no change) -->
                            <div class="tf-mini-cart-tool-openable add-note">
                                <div class="tf-mini-cart-tool-content">
                                    <label for="Cart-note" class="tf-mini-cart-tool-text">
                                        <span class="icon">üìù</span>
                                        <span class="text-title">Note</span>
                                    </label>
    
                                    <form class="form-add-note tf-mini-cart-tool-wrap">
                                        <fieldset>
                                            <textarea id="Cart-note"
                                                placeholder="Add special instructions for your order..."></textarea>
                                        </fieldset>
                                        <div class="tf-cart-tool-btns">
                                            <button type="submit" class="btn-style-2 w-100">
                                                <span class="text text-btn-uppercase">Save</span>
                                            </button>
                                            <div class="text-center tf-mini-cart-tool-close">Cancel</div>
                                        </div>
                                    </form>
                                </div>
                            </div>
    
                            <div class="tf-mini-cart-tool-openable estimate-shipping">
                                <div class="tf-mini-cart-tool-content">
                                    <label class="tf-mini-cart-tool-text">
                                        <span class="icon">üöö</span>
                                        <span class="text-title">Estimate shipping rates</span>
                                    </label>
                                    <!-- Shipping form unchanged -->
                                </div>
                            </div>
    
                            <div class="tf-mini-cart-tool-openable add-gift">
                                <form class="tf-product-form-addgift">
                                    <!-- unchanged -->
                                </form>
                            </div>
    
                            <div class="tf-mini-cart-tool-openable add-coupon">
                                <div class="tf-mini-cart-tool-content">
                                    <label class="tf-mini-cart-tool-text">
                                        <span class="icon">üéü</span>
                                        <span class="text-title">Add A Coupon Code</span>
                                    </label>
                                    <form class="form-add-coupon tf-mini-cart-tool-wrap">
                                        <!-- unchanged -->
                                    </form>
                                </div>
                            </div>
    
                        </div>
                    </div>
    
                </div>
    
            </div>
        </div>
    </div>
    <!-- /shoppingCart -->

    <!-- wishlist -->
    <div class="modal fullRight fade modal-wishlist" id="wishlist">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="header">
                    <h5 class="title">Wish List</h5>
                    <span class="icon-close icon-close-popup" data-bs-dismiss="modal"></span>
                </div>
                <div class="wrap">
                    <div class="tf-mini-cart-wrap">
                        <div class="tf-mini-cart-main">
                            <div class="tf-mini-cart-sroll">
                                <div class="tf-mini-cart-items">
                                    <div class="tf-mini-cart-item file-delete">
                                        <div class="tf-mini-cart-image">
                                            <img class="lazyload" data-src="/images/products/beauty-cosmetic/beauty8.jpg"
                                                src="/images/products/beauty-cosmetic/beauty8.jpg" alt="">
                                        </div>
                                        <div class="tf-mini-cart-info flex-grow-1">
                                            <div
                                                class="mb_12 d-flex align-items-center justify-content-between flex-wrap gap-12">
                                                <div class="text-title"><a href="product-detail.html"
                                                        class="link text-line-clamp-1">Contrasting sheepskin</a></div>
                                                <div class="text-button tf-btn-remove remove">Remove</div>
                                            </div>
                                            <div
                                                class="d-flex align-items-center justify-content-between flex-wrap gap-12">
                                                <div class="text-secondary-2">XL/Blue</div>
                                                <div class="text-button">1 X ‚Çπ60.00</div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="tf-mini-cart-item file-delete">
                                        <div class="tf-mini-cart-image">
                                            <img class="lazyload" data-src="/images/products/beauty-cosmetic/beauty8.jpg"
                                                src="/images/products/beauty-cosmetic/beauty8.jpg" alt="">
                                        </div>
                                        <div class="tf-mini-cart-info flex-grow-1">
                                            <div
                                                class="mb_12 d-flex align-items-center justify-content-between flex-wrap gap-12">
                                                <div class="text-title"><a href="product-detail.html"
                                                        class="link text-line-clamp-1">Suede leggings</a></div>
                                                <div class="text-button tf-btn-remove remove">Remove</div>
                                            </div>
                                            <div
                                                class="d-flex align-items-center justify-content-between flex-wrap gap-12">
                                                <div class="text-secondary-2">XL/Blue</div>
                                                <div class="text-button">1 X ‚Çπ60.00</div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="tf-mini-cart-item file-delete">
                                        <div class="tf-mini-cart-image">
                                            <img class="lazyload" data-src="/images/products/beauty-cosmetic/beauty8.jpg"
                                                src="/images/products/beauty-cosmetic/beauty8.jpg" alt="">
                                        </div>
                                        <div class="tf-mini-cart-info flex-grow-1">
                                            <div
                                                class="mb_12 d-flex align-items-center justify-content-between flex-wrap gap-12">
                                                <div class="text-title"><a href="product-detail.html"
                                                        class="link text-line-clamp-1">Faux-leather trousers</a></div>
                                                <div class="text-button tf-btn-remove remove">Remove</div>
                                            </div>
                                            <div
                                                class="d-flex align-items-center justify-content-between flex-wrap gap-12">
                                                <div class="text-secondary-2">XL/Blue</div>
                                                <div class="text-button">1 X ‚Çπ60.00</div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="tf-mini-cart-item file-delete">
                                        <div class="tf-mini-cart-image">
                                            <img class="lazyload" data-src="/images/products/beauty-cosmetic/beauty8.jpg"
                                                src="/images/products/beauty-cosmetic/beauty8.jpg" alt="">
                                        </div>
                                        <div class="tf-mini-cart-info flex-grow-1">
                                            <div
                                                class="mb_12 d-flex align-items-center justify-content-between flex-wrap gap-12">
                                                <div class="text-title"><a href="product-detail.html"
                                                        class="link text-line-clamp-1">mock product</a></div>
                                                <div class="text-button tf-btn-remove remove">Remove</div>
                                            </div>
                                            <div
                                                class="d-flex align-items-center justify-content-between flex-wrap gap-12">
                                                <div class="text-secondary-2">XL/Blue</div>
                                                <div class="text-button">1 X ‚Çπ60.00</div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="tf-mini-cart-item file-delete">
                                        <div class="tf-mini-cart-image">
                                            <img class="lazyload" data-src="/images/products/womens/women-4.jpg"
                                                src="/images/products/womens/women-4.jpg" alt="">
                                        </div>
                                        <div class="tf-mini-cart-info flex-grow-1">
                                            <div
                                                class="mb_12 d-flex align-items-center justify-content-between flex-wrap gap-12">
                                                <div class="text-title"><a href="product-detail.html"
                                                        class="link text-line-clamp-1">Jacquard fluid trousers</a></div>
                                                <div class="text-button tf-btn-remove remove">Remove</div>
                                            </div>
                                            <div
                                                class="d-flex align-items-center justify-content-between flex-wrap gap-12">
                                                <div class="text-secondary-2">XL/Blue</div>
                                                <div class="text-button">1 X ‚Çπ60.00</div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="tf-mini-cart-bottom">
                            <a href="/wishlist" class="btn-style-2 w-100 radius-4 view-all-wishlist"><span
                                    class="text-btn-uppercase">View All Wish List</span></a>
                            <a href="shop-default-grid.html" class="text-btn-uppercase">Or continue shopping</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- /wishlist -->

    <!-- size-guide -->
    <div class="modal fade modal-size-guide" id="size-guide">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content widget-tabs style-2">
                <div class="header">
                    <ul class="widget-menu-tab">
                        <li class="item-title active">
                            <span class="inner text-button">Size </span>
                        </li>
                        <li class="item-title">
                            <span class="inner text-button">Size Guide</span>
                        </li>
                    </ul>
                    <span class="icon-close icon-close-popup" data-bs-dismiss="modal"></span>
                </div>
                <div class="wrap">
                    <div class="widget-content-tab">
                        <div class="widget-content-inner active">
                            <div class="tab-size">
                                <div>
                                    <div class="widget-size mb_16">
                                        <div class="box-title-size">
                                            <div class="title-size">Height</div>
                                            <div class="number-size">
                                                <span class="max-size">100</span>
                                                <span class="text-caption-1 text-secondary">Cm</span>
                                            </div>
                                        </div>
                                        <div class="range-input">
                                            <div class="tow-bar-block">
                                                <div class="progress-size" style="width: 50%;"></div>
                                            </div>
                                            <input type="range" min="0" max="200" value="100" class="range-max" />
                                        </div>
                                    </div>
                                    <div class="widget-size">
                                        <div class="box-title-size">
                                            <div class="title-size">Weight</div>
                                            <div class="number-size">
                                                <span class="max-size">50</span>
                                                <span class="text-caption-1 text-secondary">Kg</span>
                                            </div>
                                        </div>
                                        <div class="range-input">
                                            <div class="tow-bar-block">
                                                <div class="progress-size" style="width: 50%;"></div>
                                            </div>
                                            <input type="range" min="0" max="100" value="50" class="range-max" />
                                        </div>
                                    </div>
                                </div>
                                <div class="size-button-wrap choose-option-list">
                                    <div class="size-button-item choose-option-item">
                                        <h5>thin</h5>
                                    </div>
                                    <div class="size-button-item choose-option-item select-option">
                                        <h5>Normal</h5>
                                    </div>
                                    <div class="size-button-item choose-option-item">
                                        <h5>plump</h5>
                                    </div>
                                </div>
                                <div>
                                    <h6 class="suggests-title">Modave suggests for you:</h6>
                                    <div class="suggests-list">
                                        <a href="#" class="suggests-item link text-button">L - shirt</a>
                                        <a href="#" class="suggests-item link text-button">XL - Pant</a>
                                        <a href="#" class="suggests-item link text-button">31 - Jeans</a>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="widget-content-inner">
                            <table class="tab-sizeguide-table">
                                <thead>
                                    <tr>
                                        <th>Size</th>
                                        <th>US</th>
                                        <th>Bust</th>
                                        <th>Waist</th>
                                        <th>Low Hip</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td>XS</td>
                                        <td>2</td>
                                        <td>32</td>
                                        <td>24 - 25</td>
                                        <td>33 - 34</td>
                                    </tr>
                                    <tr>
                                        <td>S</td>
                                        <td>4</td>
                                        <td>26 - 27</td>
                                        <td>34 - 35</td>
                                        <td>35 - 26</td>
                                    </tr>
                                    <tr>
                                        <td>M</td>
                                        <td>6</td>
                                        <td>28 - 29</td>
                                        <td>36 - 37</td>
                                        <td>38 - 40</td>
                                    </tr>
                                    <tr>
                                        <td>L</td>
                                        <td>8</td>
                                        <td>30 - 31</td>
                                        <td>38 - 29</td>
                                        <td>42 - 44</td>
                                    </tr>
                                    <tr>
                                        <td>XL</td>
                                        <td>10</td>
                                        <td>32 - 33</td>
                                        <td>40 - 41</td>
                                        <td>45 - 47</td>
                                    </tr>
                                    <tr>
                                        <td>XXL</td>
                                        <td>12</td>
                                        <td>34 - 35</td>
                                        <td>42 - 43</td>
                                        <td>48 - 50</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>


                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- /size-guide -->

    <!-- compare -->
    <div class="offcanvas offcanvas-bottom offcanvas-compare" id="compare">
        <div class="offcanvas-content">
            <div class="header">
                <span class="icon-close icon-close-popup" data-bs-dismiss="offcanvas" aria-label="Close"></span>
            </div>
            <div class="wrap">
                <div class="container">
                    <div class="row">
                        <div class="col-12">
                            <div class="tf-compare-list list-file-delete">
                                <div class="tf-compare-head">
                                    <h5 class="title">Compare <br> Products</h5>
                                </div>
                                <div class="tf-compare-wrap">
                                    <div class="tf-compare-item file-delete">
                                        <span class="btns-repeat">
                                            <svg width="16" height="17" viewBox="0 0 16 17" fill="none"
                                                xmlns="http://www.w3.org/2000/svg">
                                                <g clip-path="url(#clip0_5628_27028)">
                                                    <path d="M11.334 1.33301L14.0007 3.99967L11.334 6.66634"
                                                        stroke="#181818" stroke-width="1.5" stroke-linecap="round"
                                                        stroke-linejoin="round" />
                                                    <path
                                                        d="M2 7.99951V6.66618C2 5.95893 2.28095 5.28066 2.78105 4.78056C3.28115 4.28046 3.95942 3.99951 4.66667 3.99951H14"
                                                        stroke="#181818" stroke-width="1.5" stroke-linecap="round"
                                                        stroke-linejoin="round" />
                                                    <path d="M4.66667 15.9996L2 13.3329L4.66667 10.6663"
                                                        stroke="#181818" stroke-width="1.5" stroke-linecap="round"
                                                        stroke-linejoin="round" />
                                                    <path
                                                        d="M14 9.33301V10.6663C14 11.3736 13.719 12.0519 13.219 12.552C12.7189 13.0521 12.0406 13.333 11.3333 13.333H2"
                                                        stroke="#181818" stroke-width="1.5" stroke-linecap="round"
                                                        stroke-linejoin="round" />
                                                </g>
                                                <defs>
                                                    <clipPath id="clip0_5628_27028">
                                                        <rect width="16" height="16" fill="white"
                                                            transform="translate(0 0.66626)" />
                                                    </clipPath>
                                                </defs>
                                            </svg>
                                        </span>
                                        <span class="icon-close remove"></span>
                                        <a href="product-detail.html" class="image">
                                            <img class="lazyload" data-src="/images/products/beauty-cosmetic/beauty8.jpg"
                                                src="/images/products/beauty-cosmetic/beauty8.jpg" alt="">
                                        </a>
                                        <div class="content">
                                            <div class="text-title">
                                                <a class="link text-line-clamp-2" href="product-detail.html">V-neck
                                                    cotton T-shirt</a>
                                            </div>
                                            <div class="text-button">‚Çπ59.99</div>
                                        </div>
                                    </div>
                                    <div class="tf-compare-item file-delete">
                                        <span class="btns-repeat">
                                            <svg width="16" height="17" viewBox="0 0 16 17" fill="none"
                                                xmlns="http://www.w3.org/2000/svg">
                                                <g clip-path="url(#clip0_5628_27028)">
                                                    <path d="M11.334 1.33301L14.0007 3.99967L11.334 6.66634"
                                                        stroke="#181818" stroke-width="1.5" stroke-linecap="round"
                                                        stroke-linejoin="round" />
                                                    <path
                                                        d="M2 7.99951V6.66618C2 5.95893 2.28095 5.28066 2.78105 4.78056C3.28115 4.28046 3.95942 3.99951 4.66667 3.99951H14"
                                                        stroke="#181818" stroke-width="1.5" stroke-linecap="round"
                                                        stroke-linejoin="round" />
                                                    <path d="M4.66667 15.9996L2 13.3329L4.66667 10.6663"
                                                        stroke="#181818" stroke-width="1.5" stroke-linecap="round"
                                                        stroke-linejoin="round" />
                                                    <path
                                                        d="M14 9.33301V10.6663C14 11.3736 13.719 12.0519 13.219 12.552C12.7189 13.0521 12.0406 13.333 11.3333 13.333H2"
                                                        stroke="#181818" stroke-width="1.5" stroke-linecap="round"
                                                        stroke-linejoin="round" />
                                                </g>
                                                <defs>
                                                    <clipPath id="clip0_5628_27028">
                                                        <rect width="16" height="16" fill="white"
                                                            transform="translate(0 0.66626)" />
                                                    </clipPath>
                                                </defs>
                                            </svg>
                                        </span>
                                        <span class="icon-close remove"></span>
                                        <a href="product-detail.html" class="image">
                                            <img class="lazyload" data-src="/images/products/beauty-cosmetic/beauty8.jpg"
                                                src="/images/products/beauty-cosmetic/beauty8.jpg" alt="">
                                        </a>
                                        <div class="content">
                                            <div class="text-title">
                                                <a class="link text-line-clamp-2" href="product-detail.html">Ramie shirt
                                                    with pockets </a>
                                            </div>
                                            <div class="text-button">‚Çπ72.00</div>
                                        </div>
                                    </div>
                                    <div class="tf-compare-item file-delete">
                                        <span class="btns-repeat">
                                            <svg width="16" height="17" viewBox="0 0 16 17" fill="none"
                                                xmlns="http://www.w3.org/2000/svg">
                                                <g clip-path="url(#clip0_5628_27028)">
                                                    <path d="M11.334 1.33301L14.0007 3.99967L11.334 6.66634"
                                                        stroke="#181818" stroke-width="1.5" stroke-linecap="round"
                                                        stroke-linejoin="round" />
                                                    <path
                                                        d="M2 7.99951V6.66618C2 5.95893 2.28095 5.28066 2.78105 4.78056C3.28115 4.28046 3.95942 3.99951 4.66667 3.99951H14"
                                                        stroke="#181818" stroke-width="1.5" stroke-linecap="round"
                                                        stroke-linejoin="round" />
                                                    <path d="M4.66667 15.9996L2 13.3329L4.66667 10.6663"
                                                        stroke="#181818" stroke-width="1.5" stroke-linecap="round"
                                                        stroke-linejoin="round" />
                                                    <path
                                                        d="M14 9.33301V10.6663C14 11.3736 13.719 12.0519 13.219 12.552C12.7189 13.0521 12.0406 13.333 11.3333 13.333H2"
                                                        stroke="#181818" stroke-width="1.5" stroke-linecap="round"
                                                        stroke-linejoin="round" />
                                                </g>
                                                <defs>
                                                    <clipPath id="clip0_5628_27028">
                                                        <rect width="16" height="16" fill="white"
                                                            transform="translate(0 0.66626)" />
                                                    </clipPath>
                                                </defs>
                                            </svg>
                                        </span>
                                        <span class="icon-close remove"></span>
                                        <a href="product-detail.html" class="image">
                                            <img class="lazyload" data-src="/images/products/beauty-cosmetic/beauty8.jpg"
                                                src="/images/products/beauty-cosmetic/beauty8.jpg" alt="">
                                        </a>
                                        <div class="content">
                                            <div class="text-title">
                                                <a class="link text-line-clamp-2" href="product-detail.html">Ribbed
                                                    cotton-blend top</a>
                                            </div>
                                            <div class="text-button">‚Çπ65.00</div>
                                        </div>
                                    </div>
                                </div>
                                <div class="tf-compare-buttons">
                                    <div class="tf-compare-buttons-wrap">
                                        <a href="compare-products.html" class="tf-btn w-100 btn-fill radius-4"><span
                                                class="text text-btn-uppercase">Compare Products</span></a>
                                        <div
                                            class="tf-compapre-button-clear-all clear-file-delete tf-btn w-100 btn-white radius-4 has-border">
                                            <span class="text text-btn-uppercase">Clear All Products</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- /compare -->

    <!-- quickAdd -->
    <div class="modal fade modal-quick-add" id="quickAdd">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="header">
                    <span class="icon-close icon-close-popup" data-bs-dismiss="modal"></span>
                </div>
                <div>
                    <div class="tf-product-info-list">
                        <div class="tf-product-info-item">
                            <div class="image">
                                <img src="/images/products/beauty-cosmetic/beauty8.jpg" alt="">
                            </div>
                            <div class="content">
                                <a href="product-detail.html">Ribbed Tank Top</a>
                                <div class="tf-product-info-price">
                                    <h5 class="price-on-sale font-2">‚Çπ79.99</h5>
                                    <div class="compare-at-price font-2">‚Çπ98.99</div>
                                    <div class="badges-on-sale text-btn-uppercase">
                                        -25%
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="tf-product-info-choose-option">
                            <div class="variant-picker-item">
                                <div class="variant-picker-label mb_12">
                                    Colors:<span class="text-title variant-picker-label-value">Beige</span>
                                </div>
                                <div class="variant-picker-values type-click">
                                    <input id="values-beige2" type="radio" name="color3" checked>
                                    <label class="hover-tooltip tooltip-bot radius-60" for="values-beige2"
                                        data-value="Beige">
                                        <span class="btn-checkbox bg-color-beige1"></span>
                                        <span class="tooltip">Beige</span>
                                    </label>
                                    <input id="values-gray2" type="radio" name="color3">
                                    <label class="hover-tooltip tooltip-bot radius-60" for="values-gray2"
                                        data-value="Gray">
                                        <span class="btn-checkbox bg-color-gray"></span>
                                        <span class="tooltip">Gray</span>
                                    </label>
                                    <input id="values-grey3" type="radio" name="color3">
                                    <label class="hover-tooltip tooltip-bot radius-60" for="values-grey3"
                                        data-value="Grey">
                                        <span class="btn-checkbox bg-color-grey"></span>
                                        <span class="tooltip">Grey</span>
                                    </label>
                                </div>
                            </div>
                            <div class="variant-picker-item">
                                <div class="variant-picker-label">
                                    Size:<span class="text-title variant-picker-label-value">L</span>
                                </div>
                                <div class="variant-picker-values gap12">
                                    <input type="radio" name="size3" id="values-s2">
                                    <label class="style-text size-btn" for="values-s2" data-value="S">
                                        <span class="text-title">S</span>
                                    </label>
                                    <input type="radio" name="size3" id="values-m2">
                                    <label class="style-text size-btn" for="values-m2" data-value="M">
                                        <span class="text-title">M</span>
                                    </label>
                                    <input type="radio" name="size3" id="values-l2" checked>
                                    <label class="style-text size-btn" for="values-l2" data-value="L">
                                        <span class="text-title">L</span>
                                    </label>
                                    <input type="radio" name="size3" id="values-xl2">
                                    <label class="style-text size-btn" for="values-xl2" data-value="XL">
                                        <span class="text-title">XL</span>
                                    </label>
                                </div>
                            </div>
                            <div class="tf-product-info-quantity">
                                <div class="title mb_12">Quantity:</div>
                                <div class="wg-quantity">
                                    <span class="btn-quantity btn-decrease">-</span>
                                    <input class="quantity-product" type="text" name="number" value="1">
                                    <span class="btn-quantity btn-increase">+</span>
                                </div>
                            </div>
                            <div>
                                <div class="tf-product-info-by-btn mb_10">
                                    <a class="btn-style-2 flex-grow-1 text-btn-uppercase fw-6 show-shopping-cart"><span>Add
                                            to cart -&nbsp;</span><span
                                            class="tf-qty-price total-price">‚Çπ79.99</span></a>
                                    <a href="#compare" data-bs-toggle="offcanvas" aria-controls="compare"
                                        class="box-icon hover-tooltip compare btn-icon-action show-compare">
                                        <span class="icon icon-gitDiff"></span>
                                        <span class="tooltip text-caption-2">Compare</span>
                                    </a>
                                    <a href="javascript:void(0);"
                                        class="box-icon hover-tooltip text-caption-2 wishlist btn-icon-action">
                                        <span class="icon icon-heart"></span>
                                        <span class="tooltip text-caption-2">Wishlist</span>
                                    </a>
                                </div>
                                <a href="#" class="btn-style-3 text-btn-uppercase">Buy it now</a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- /quickAdd -->

    <!-- Javascript -->
    <script type="text/javascript" src="/js/cart.js"></script>
    <script type="text/javascript" src="/js/search.js"></script>
    <script type="text/javascript" src="/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="/js/jquery.min.js"></script>
    <script type="text/javascript" src="/js/swiper-bundle.min.js"></script>
    <script type="text/javascript" src="/js/carousel.js"></script>
    <script type="text/javascript" src="/js/bootstrap-select.min.js"></script>
    <script type="text/javascript" src="/js/lazysize.min.js"></script>
    <script type="text/javascript" src="/js/count-down.js"></script>
    <script type="text/javascript" src="/js/wow.min.js"></script>
    <script type="text/javascript" src="/js/multiple-modal.js"></script>
    <script type="text/javascript" src="/js/nouislider.min.js"></script>
    <script type="text/javascript" src="/js/shop.js"></script>
    <script type="text/javascript" src="/js/main.js"></script>

  

 
    <script src="https://maps.googleapis.com/maps/api/js?key=YOUR_GOOGLE_MAPS_API_KEY&libraries=places"></script>

 

    <script>// Open location modal when "+X more areas" is clicked
        document.querySelectorAll('.view-more-locations').forEach(btn => {
            btn.addEventListener('click', function (e) {
                e.preventDefault();
                const beauticianId = this.dataset.beauticianId;
                const modal = document.getElementById(`location-modal-‚Çπ{beauticianId}`);
                if (modal) {
                    modal.style.display = 'flex';
                    document.body.style.overflow = 'hidden'; // Prevent background scrolling
                }
            });
        });

        // Close modal when close button is clicked
        document.querySelectorAll('.close-modal').forEach(btn => {
            btn.addEventListener('click', function () {
                const modal = this.closest('.location-modal');
                if (modal) {
                    modal.style.display = 'none';
                    document.body.style.overflow = ''; // Re-enable scrolling
                }
            });
        });

        // Close modal when clicking outside the modal content
        document.querySelectorAll('.location-modal').forEach(modal => {
            modal.addEventListener('click', function (e) {
                if (e.target === this) {
                    this.style.display = 'none';
                    document.body.style.overflow = '';
                }
            });
        });

        // Close modal with Escape key
        document.addEventListener('keydown', function (e) {
            if (e.key === 'Escape') {
                document.querySelectorAll('.location-modal').forEach(modal => {
                    if (modal.style.display === 'flex') {
                        modal.style.display = 'none';
                        document.body.style.overflow = '';
                    }
                });
            }
        });</script>


    <script>
        // Services data with home availability
        const services = [
            { id: 'haircut', name: "Haircut", price: 500, duration: "45 min", homeAvailable: true },
            { id: 'hair-color', name: "Hair Color", price: 2500, duration: "2 hours", homeAvailable: true },
            { id: 'facial', name: "Facial", price: 1500, duration: "1 hour", homeAvailable: true },
            { id: 'bleach', name: "Bleaching", price: 1200, duration: "1.5 hours", homeAvailable: true },
            { id: 'manicure', name: "Manicure", price: 800, duration: "45 min", homeAvailable: true },
            { id: 'pedicure', name: "Pedicure", price: 900, duration: "1 hour", homeAvailable: true },
            { id: 'hair-spa', name: "Hair Spa", price: 1800, duration: "1.5 hours", homeAvailable: false },
            { id: 'massage', name: "Massage", price: 2000, duration: "1 hour", homeAvailable: true }
        ];

        const timeSlots = [
            "09:00 AM", "10:00 AM", "11:00 AM", "12:00 PM",
            "02:00 PM", "03:00 PM", "04:00 PM", "05:00 PM",
            "06:00 PM", "07:00 PM"
        ];

        // Global variables
        let selectedServiceType = 'salon';
        const HOME_SERVICE_FEE = 200;
        let selectedServices = [];
        let selectedDate = null;
        let selectedSlot = null;
        let map = null;
        let marker = null;
        let selectedCoordinates = null;

        // Modal functions
        function openBookingModal() {
            document.getElementById('bookingModal').classList.add('sbm-active');
            document.body.style.overflow = 'hidden';
            initializeModal();
        }

        function closeBookingModal() {
            document.getElementById('bookingModal').classList.remove('sbm-active');
            document.body.style.overflow = '';
            resetModal();
        }

        function initializeModal() {
            populateServices();
            populateDates();
            populateSlots();
            selectServiceType('salon');
        }

        // Service Type Selection
        function selectServiceType(type) {
            selectedServiceType = type;

            // Update UI
            document.getElementById('salonVisit').classList.remove('active');
            document.getElementById('homeService').classList.remove('active');

            if (type === 'salon') {
                document.getElementById('salonVisit').classList.add('active');
            } else {
                document.getElementById('homeService').classList.add('active');
            }

            // Show/hide address section
            const addressSection = document.getElementById('homeAddressSection');
            const addressInput = document.getElementById('userAddress');

            if (type === 'home') {
                addressSection.style.display = 'block';
                addressInput.setAttribute('required', 'required');
                // Initialize map after a short delay
                setTimeout(() => {
                    if (!map) initMap();
                }, 100);
            } else {
                addressSection.style.display = 'none';
                addressInput.removeAttribute('required');
            }

            // Update services availability
            updateServicesAvailability();
            updateTotal();
        }

        // Google Maps Integration
        function initMap() {
            const defaultLocation = { lat: 12.9716, lng: 77.6412 }; // Indiranagar, Bangalore

            map = new google.maps.Map(document.getElementById('map'), {
                zoom: 13,
                center: defaultLocation,
                mapTypeControl: false,
                streetViewControl: false,
                fullscreenControl: true
            });

            // Click listener
            map.addListener('click', function (e) {
                placeMarker(e.latLng);
            });

            // Search autocomplete
            const searchInput = document.getElementById('mapSearch');
            const autocomplete = new google.maps.places.Autocomplete(searchInput);
            autocomplete.bindTo('bounds', map);

            autocomplete.addListener('place_changed', function () {
                const place = autocomplete.getPlace();
                if (place.geometry) {
                    map.setCenter(place.geometry.location);
                    map.setZoom(15);
                    placeMarker(place.geometry.location);
                }
            });
        }

        function placeMarker(location) {
            if (marker) marker.setMap(null);

            marker = new google.maps.Marker({
                position: location,
                map: map,
                animation: google.maps.Animation.DROP
            });

            selectedCoordinates = {
                lat: location.lat(),
                lng: location.lng()
            };

            document.getElementById('selectedLocation').textContent =
                `${selectedCoordinates.lat.toFixed(6)}, ${selectedCoordinates.lng.toFixed(6)}`;

            // Reverse geocode
            const geocoder = new google.maps.Geocoder();
            geocoder.geocode({ location: location }, function (results, status) {
                if (status === 'OK' && results[0]) {
                    const addressInput = document.getElementById('userAddress');
                    if (!addressInput.value) {
                        addressInput.value = results[0].formatted_address;
                    }
                }
            });
        }

        // Services
        function populateServices() {
            const grid = document.getElementById('servicesGrid');
            grid.innerHTML = services.map(service => `
            <div class="sbm-service-card" data-service-id="${service.id}" onclick="toggleService('${service.id}')">
                <div class="sbm-service-name">${service.name}</div>
                <div class="sbm-service-price">‚Çπ${service.price}</div>
                <div class="sbm-service-duration">${service.duration}</div>
                <div class="sbm-badge-available">Available</div>
            </div>
        `).join('');
        }

        function toggleService(serviceId) {
            const card = document.querySelector(`[data-service-id="${serviceId}"]`);

            if (card.classList.contains('disabled')) return;

            const index = selectedServices.indexOf(serviceId);
            if (index > -1) {
                selectedServices.splice(index, 1);
                card.classList.remove('sbm-selected');
            } else {
                selectedServices.push(serviceId);
                card.classList.add('sbm-selected');
            }

            updateTotal();
        }

        function updateServicesAvailability() {
            const cards = document.querySelectorAll('.sbm-service-card');

            cards.forEach(card => {
                const serviceId = card.dataset.serviceId;
                const service = services.find(s => s.id === serviceId);

                if (selectedServiceType === 'home' && !service.homeAvailable) {
                    card.classList.add('disabled');
                    card.classList.remove('sbm-selected');
                    const index = selectedServices.indexOf(serviceId);
                    if (index > -1) selectedServices.splice(index, 1);
                } else {
                    card.classList.remove('disabled');
                }
            });
        }

        // Dates
        function populateDates() {
            const container = document.getElementById('dateSelector');
            const dates = [];
            const days = ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'];

            for (let i = 0; i < 7; i++) {
                const date = new Date();
                date.setDate(date.getDate() + i);
                dates.push({
                    day: days[date.getDay()],
                    date: date.getDate(),
                    month: date.getMonth() + 1
                });
            }

            container.innerHTML = dates.map((d, i) => `
            <button class="sbm-date-btn ${i === 0 ? 'sbm-selected' : ''}" onclick="selectDate(${i})">
                <div class="sbm-date-day">${d.day}</div>
                <div class="sbm-date-num">${d.date}/${d.month}</div>
            </button>
        `).join('');

            selectedDate = 0;
        }

        function selectDate(index) {
            selectedDate = index;
            const buttons = document.querySelectorAll('.sbm-date-btn');
            buttons.forEach((btn, i) => {
                btn.classList.toggle('sbm-selected', i === index);
            });
        }

        // Time Slots
        function populateSlots() {
            const container = document.getElementById('slotsContainer');
            const bookedSlots = [2, 5, 8]; // Demo booked slots

            container.innerHTML = timeSlots.map((slot, i) => `
            <button class="sbm-slot-btn" onclick="selectSlot(${i})" ${bookedSlots.includes(i) ? 'disabled' : ''}>
                ${slot}
            </button>
        `).join('');
        }

        function selectSlot(index) {
            selectedSlot = index;
            const buttons = document.querySelectorAll('.sbm-slot-btn');
            buttons.forEach((btn, i) => {
                btn.classList.toggle('sbm-selected', i === index);
            });
        }

        // Price Calculation
        function updateTotal() {
            let total = 0;

            selectedServices.forEach(serviceId => {
                const service = services.find(s => s.id === serviceId);
                if (service) total += service.price;
            });

            if (selectedServiceType === 'home' && total > 0) {
                total += HOME_SERVICE_FEE;
            }

            const priceElement = document.getElementById('totalPrice');
            priceElement.textContent = `‚Çπ${total}`;

            if (selectedServiceType === 'home' && total > HOME_SERVICE_FEE) {
                const serviceTotal = total - HOME_SERVICE_FEE;
                priceElement.title = `Services: ‚Çπ${serviceTotal} + Home Service Fee: ‚Çπ${HOME_SERVICE_FEE}`;
            } else {
                priceElement.title = '';
            }
        }

        // Submit Booking
        function submitBooking() {
            const name = document.getElementById('userName').value.trim();
            const phone = document.getElementById('userPhone').value.trim();

            if (!name || !phone) {
                alert('Please fill in all required fields (Name and Phone)');
                return;
            }

            if (selectedServiceType === 'home') {
                const address = document.getElementById('userAddress').value.trim();
                if (!address) {
                    alert('Please enter your service address for home service');
                    return;
                }
                if (!selectedCoordinates) {
                    alert('Please mark your location on the map');
                    return;
                }
            }

            if (selectedServices.length === 0) {
                alert('Please select at least one service');
                return;
            }

            if (selectedSlot === null) {
                alert('Please select a time slot');
                return;
            }

            const bookingData = {
                serviceType: selectedServiceType,
                name: name,
                phone: phone,
                email: document.getElementById('userEmail').value.trim(),
                address: selectedServiceType === 'home' ? {
                    street: document.getElementById('userAddress').value.trim(),
                    details: document.getElementById('addressDetails').value.trim(),
                    coordinates: selectedCoordinates
                } : null,
                services: selectedServices.map(id => {
                    const service = services.find(s => s.id === id);
                    return {
                        id: service.id,
                        name: service.name,
                        price: service.price
                    };
                }),
                date: selectedDate,
                slot: timeSlots[selectedSlot],
                notes: document.getElementById('userNotes').value.trim(),
                total: document.getElementById('totalPrice').textContent
            };

            console.log('Booking submitted:', bookingData);
            alert(`Booking confirmed!\nService Type: ${selectedServiceType === 'salon' ? 'Salon Visit' : 'Home Service'}\nTotal: ${bookingData.total}`);
            closeBookingModal();
        }

        // Reset Modal
        function resetModal() {
            selectedServices = [];
            selectedDate = null;
            selectedSlot = null;
            selectedCoordinates = null;

            document.getElementById('userName').value = '';
            document.getElementById('userPhone').value = '';
            document.getElementById('userEmail').value = '';
            document.getElementById('userAddress').value = '';
            document.getElementById('addressDetails').value = '';
            document.getElementById('mapSearch').value = '';
            document.getElementById('userNotes').value = '';
            document.getElementById('selectedLocation').textContent = 'Not selected yet';

            // Remove marker
            if (marker) {
                marker.setMap(null);
                marker = null;
            }

            // Reset selections
            document.querySelectorAll('.sbm-service-card').forEach(card => {
                card.classList.remove('sbm-selected');
            });

            updateTotal();
        }

        // Close modal on overlay click
        document.getElementById('bookingModal').addEventListener('click', function (e) {
            if (e.target === this) {
                closeBookingModal();
            }
        });

        // Close modal on Escape key
        document.addEventListener('keydown', function (e) {
            if (e.key === 'Escape') {
                const modal = document.getElementById('bookingModal');
                if (modal.classList.contains('sbm-active')) {
                    closeBookingModal();
                }
            }
        });

        window.onclick = function (e) {
            const modal = document.getElementById('bookingModal');
            if (e.target === modal) {
                modal.classList.remove('sbm-active');
                document.body.style.overflow = '';
            }
        };


    </script>

       <script>
    document.addEventListener('DOMContentLoaded', function() {
    const navAccount = document.querySelector('.nav-account');
    const navIconItem = navAccount.querySelector('.nav-icon-item');
    
    // Toggle dropdown on click
    navIconItem.addEventListener('click', function(e) {
        e.preventDefault();
        e.stopPropagation();
        navAccount.classList.toggle('show-dropdown');
    });
    
    // Close dropdown when clicking outside
    document.addEventListener('click', function(e) {
        if (!navAccount.contains(e.target)) {
            navAccount.classList.remove('show-dropdown');
        }
    });
    
    // Prevent dropdown from closing when clicking inside it
    const dropdown = navAccount.querySelector('.dropdown-account');
    dropdown.addEventListener('click', function(e) {
        e.stopPropagation();
    });
});

</script>

       <script>  if (document.querySelector("#sib-form")) { const script = document.createElement('script');script.src = 'js/sibforms.js';script.defer = true;document.body.appendChild(script);}</script>
</body>




</html>