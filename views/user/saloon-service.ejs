<!DOCTYPE html>
<html lang="en-US">

<head>
    <!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-E1XD6E8W6H"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-E1XD6E8W6H');
</script>
<!-- Google Tag Manager -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
    'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-W4GZFHCG');</script>
    <!-- End Google Tag Manager -->
    <meta charset="utf-8">
    <title>Blushley</title>

    <meta name="author" content="trivlogic.com">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <meta name="description" content="Blushley - Beauty Marketplace & Beautician Booking Platform ">

    <!-- font -->
    <link rel="stylesheet" href="/fonts/fonts.css">
    <link rel="stylesheet" href="/fonts/font-icons.css">
    <!-- css -->
    <link rel="stylesheet" href="/css/bootstrap.min.css">
    <link rel="stylesheet" href="/css/swiper-bundle.min.css">
    <link rel="stylesheet" href="/css/animate.css">
    <link rel="stylesheet" href="https://sibforms.com/forms/end-form/build/sib-styles.css">
    <link rel="stylesheet" type="text/css" href="/css/styles.css" />


    <!-- Favicon and Touch Icons  -->


    <link rel="shortcut" type="image/x-icon" href="/images/logo/favicon.ico">
    <link rel="icon" type="image/png" sizes="32x32" href="/images/logo/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/images/logo/favicon-16x16.png">
    <link rel="apple-touch-icon-precomposed" sizes="180x180" href="/images/logo/apple-touch-icon.png">
    <style>
        /* Reset & Base Styles */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, sans-serif;
            background: #f5f5f5;
            color: #333;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }

        /* Header with Search */
        .main-header {
            background: white;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            position: sticky;
            top: 0;
            z-index: 1000;
        }

        .header-top {
            display: flex;
            align-items: center;
            padding: 15px 0;
            gap: 20px;
        }

        .location-selector {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 10px 15px;
            background: #f8f9fa;
            border-radius: 8px;
            cursor: pointer;
            min-width: 200px;
        }

        .location-selector:hover {
            background: #e9ecef;
        }

        .location-icon {
            color: #ff6b6b;
        }

        .location-info {
            flex: 1;
        }

        .location-label {
            font-size: 12px;
            color: #666;
        }

        .location-name {
            font-weight: 600;
            font-size: 14px;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .header-search {
            flex: 1;
            position: relative;
        }

        .search-container {
            position: relative;
        }

        .search-input {
            width: 100%;
            padding: 14px 50px 14px 20px;
            border: 2px solid #e9ecef;
            border-radius: 25px;
            font-size: 16px;
            transition: all 0.3s;
        }

        .search-input:focus {
            outline: none;
            border-color: #ff6b6b;
            box-shadow: 0 0 0 3px rgba(255, 107, 107, 0.1);
        }

        .search-btn {
            position: absolute;
            right: 10px;
            top: 50%;
            transform: translateY(-50%);
            background: #ff6b6b;
            color: white;
            border: none;
            width: 36px;
            height: 36px;
            border-radius: 50%;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        /* Main Content Layout */
        .main-content {
            display: flex;
            gap: 30px;
            padding: 20px 0;
            min-height: calc(100vh - 70px);
        }

        /* Left Sidebar - Categories */
        .categories-sidebar {
            width: 280px;
            flex-shrink: 0;
            background: white;
            border-radius: 12px;
            padding: 20px;
            height: fit-content;
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
        }

        .categories-title {
            font-size: 18px;
            font-weight: 600;
            margin-bottom: 20px;
            color: #333;
        }

        .categories-list {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }

        .category-item {
            display: flex;
            align-items: center;
            padding: 12px 16px;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.2s;
            text-decoration: none;
            color: #333;
        }

        .category-item:hover {
            background: #f8f9fa;
        }

        .category-item.active {
            background: #ff6b6b;
            color: white;
        }

        .category-icon {
            margin-right: 12px;
            font-size: 20px;
        }

        .category-name {
            flex: 1;
            font-weight: 500;
        }

        /* Right Content Area */
        .content-area {
            flex: 1;
        }

        /* Selected Services Bar */
        .selected-services-bar {
            background: white;
            border-radius: 12px;
            padding: 15px 20px;
            margin-bottom: 20px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
            display: none;
        }

        .selected-services-bar.active {
            display: block;
            animation: slideDown 0.3s ease;
        }

        @keyframes slideDown {
            from {
                opacity: 0;
                transform: translateY(-10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .selected-title {
            font-size: 14px;
            color: #666;
            margin-bottom: 10px;
        }

        .selected-tags {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
        }

        .selected-tag {
            background: #ff6b6b;
            color: white;
            padding: 8px 16px;
            border-radius: 20px;
            font-size: 14px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .remove-tag {
            cursor: pointer;
            font-size: 18px;
            line-height: 1;
        }

        /* Services Grid */
        .services-section {
            background: white;
            border-radius: 12px;
            padding: 25px;
            margin-bottom: 20px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
        }

        .section-title {
            font-size: 22px;
            font-weight: 600;
            margin-bottom: 5px;
            color: #333;
        }

        .section-subtitle {
            font-size: 14px;
            color: #666;
            margin-bottom: 25px;
        }

        .services-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
            gap: 20px;
        }

        .service-card {
            background: white;
            border: 2px solid #e9ecef;
            border-radius: 12px;
            padding: 20px;
            cursor: pointer;
            transition: all 0.3s;
            text-align: center;
            position: relative;
        }

        .service-card:hover {
            border-color: #ff6b6b;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(255, 107, 107, 0.1);
        }

        .service-card.selected {
            border-color: #ff6b6b;
            background: linear-gradient(135deg, #fff5f5 0%, #ffeaea 100%);
        }

        .service-icon {
            font-size: 32px;
            margin-bottom: 12px;
            color: #ff6b6b;
        }

        .service-card.selected .service-icon {
            color: #ff4757;
        }

        .service-name {
            font-weight: 600;
            color: #333;
            margin-bottom: 6px;
            font-size: 15px;
        }

        .service-price {
            color: #ff6b6b;
            font-weight: 700;
            font-size: 16px;
            margin-bottom: 4px;
        }

        .service-duration {
            font-size: 13px;
            color: #666;
        }

        .service-check {
            position: absolute;
            top: 10px;
            right: 10px;
            width: 24px;
            height: 24px;
            background: #ff6b6b;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 14px;
            opacity: 0;
            transform: scale(0.8);
            transition: all 0.3s;
        }

        .service-card.selected .service-check {
            opacity: 1;
            transform: scale(1);
        }

        /* Salons Section */
        .salons-section {
            background: white;
            border-radius: 12px;
            padding: 25px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
        }

        .salons-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 25px;
        }

        .salons-title {
            font-size: 22px;
            font-weight: 600;
            color: #333;
        }

        .salons-count {
            font-size: 14px;
            color: #666;
        }

        .sort-filter {
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 10px 16px;
            background: #f8f9fa;
            border-radius: 8px;
            cursor: pointer;
            font-size: 14px;
        }

        .sort-filter:hover {
            background: #e9ecef;
        }

        .salons-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 25px;
        }

        .salon-card {
            background: white;
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 3px 15px rgba(0,0,0,0.08);
            cursor: pointer;
            transition: all 0.3s;
        }

        .salon-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0,0,0,0.15);
        }

        .salon-image {
            position: relative;
            height: 180px;
            overflow: hidden;
        }

        .salon-image img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.5s ease;
        }

        .salon-card:hover .salon-image img {
            transform: scale(1.05);
        }

        .salon-badge {
            position: absolute;
            top: 12px;
            left: 12px;
            background: #4cd964;
            color: white;
            padding: 6px 12px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 4px;
        }

        .salon-badge.closed {
            background: #ff6b6b;
        }

        .salon-info {
            padding: 20px;
        }

        .salon-name {
            font-size: 18px;
            font-weight: 600;
            margin-bottom: 8px;
            color: #333;
        }

        .salon-rating {
            display: flex;
            align-items: center;
            gap: 6px;
            margin-bottom: 12px;
        }

        .stars {
            color: #ffd700;
            font-size: 16px;
        }

        .rating-number {
            font-weight: 600;
            color: #333;
        }

        .review-count {
            font-size: 13px;
            color: #666;
        }

        .salon-location {
            display: flex;
            align-items: center;
            gap: 6px;
            font-size: 14px;
            color: #666;
            margin-bottom: 12px;
        }

        .salon-price {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
            padding-bottom: 15px;
            border-bottom: 1px solid #eee;
        }

        .price-from {
            font-weight: 600;
            color: #333;
            font-size: 18px;
        }

        .home-service-badge {
            background: #e3f2fd;
            color: #1976d2;
            padding: 6px 12px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 600;
        }

        .salon-services {
            display: flex;
            flex-wrap: wrap;
            gap: 6px;
        }

        .salon-service-tag {
            background: #f8f9fa;
            color: #666;
            padding: 6px 12px;
            border-radius: 15px;
            font-size: 12px;
        }

        .no-salons {
            text-align: center;
            padding: 60px 20px;
            grid-column: 1 / -1;
        }

        .no-salons-icon {
            font-size: 48px;
            color: #ddd;
            margin-bottom: 20px;
        }

        .no-salons-title {
            font-size: 18px;
            color: #666;
            margin-bottom: 10px;
        }

        .no-salons-text {
            color: #999;
            margin-bottom: 20px;
        }

        /* Location Modal */
        .location-modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.8);
            z-index: 2000;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }

        .location-modal-container {
            background: white;
            border-radius: 16px;
            width: 100%;
            max-width: 500px;
            max-height: 80vh;
            overflow: hidden;
        }

        .location-modal-header {
            padding: 24px;
            background: #ff6b6b;
            color: white;
            position: relative;
        }

        .location-modal-title {
            font-size: 20px;
            font-weight: 600;
            margin-bottom: 4px;
        }

        .location-modal-subtitle {
            font-size: 14px;
            opacity: 0.9;
        }

        .close-modal {
            position: absolute;
            top: 20px;
            right: 20px;
            background: rgba(255,255,255,0.2);
            border: none;
            width: 32px;
            height: 32px;
            border-radius: 50%;
            color: white;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .location-modal-body {
            padding: 24px;
            max-height: 60vh;
            overflow-y: auto;
        }

        .location-option {
            display: flex;
            align-items: center;
            padding: 16px;
            border: 1px solid #e9ecef;
            border-radius: 12px;
            margin-bottom: 12px;
            cursor: pointer;
            transition: all 0.2s;
        }

        .location-option:hover {
            border-color: #ff6b6b;
            background: #fff5f5;
        }

        .location-option-icon {
            margin-right: 12px;
            color: #ff6b6b;
        }

        .location-option-content {
            flex: 1;
        }

        .location-option-title {
            font-weight: 600;
            margin-bottom: 2px;
        }

        .location-option-desc {
            font-size: 13px;
            color: #666;
        }

        .location-search-container {
            margin-bottom: 24px;
        }

        .location-search-input {
            width: 100%;
            padding: 14px;
            border: 2px solid #ff6b6b;
            border-radius: 12px;
            font-size: 16px;
            margin-bottom: 12px;
        }

        .search-results {
            max-height: 200px;
            overflow-y: auto;
            border: 1px solid #e9ecef;
            border-radius: 8px;
            display: none;
        }

        .search-results.active {
            display: block;
        }

        .search-result-item {
            padding: 12px 16px;
            cursor: pointer;
            border-bottom: 1px solid #e9ecef;
        }

        .search-result-item:hover {
            background: #f8f9fa;
        }

        .popular-cities {
            margin-top: 24px;
        }

        .popular-cities h4 {
            font-size: 14px;
            color: #666;
            margin-bottom: 12px;
            font-weight: 600;
        }

        .city-tags {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
        }

        .city-tag {
            padding: 8px 16px;
            background: #f8f9fa;
            border-radius: 20px;
            font-size: 13px;
            cursor: pointer;
            transition: all 0.2s;
        }

        .city-tag:hover {
            background: #ff6b6b;
            color: white;
        }

        .location-modal-footer {
            padding: 20px 24px;
            border-top: 1px solid #e9ecef;
            background: white;
        }

        .confirm-location-btn {
            width: 100%;
            padding: 16px;
            background: #ff6b6b;
            color: white;
            border: none;
            border-radius: 12px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
        }

        .confirm-location-btn:hover:not(:disabled) {
            background: #ff4757;
            transform: translateY(-2px);
        }

        .confirm-location-btn:disabled {
            background: #ccc;
            cursor: not-allowed;
        }

        /* Loading */
        .loading {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 3px solid rgba(255, 107, 107, 0.3);
            border-radius: 50%;
            border-top-color: #ff6b6b;
            animation: spin 1s ease-in-out infinite;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        /* Responsive */
        @media (max-width: 1024px) {
            .main-content {
                flex-direction: column;
                gap: 20px;
            }
            
            .categories-sidebar {
                width: 100%;
                order: 2;
            }
            
            .content-area {
                order: 1;
            }
            
            .services-grid {
                grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
            }
            
            .salons-grid {
                grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            }
        }

        @media (max-width: 768px) {
            .header-top {
                flex-direction: column;
                gap: 15px;
            }
            
            .location-selector {
                width: 100%;
            }
            
            .header-search {
                width: 100%;
            }
            
            .services-grid {
                grid-template-columns: repeat(auto-fill, minmax(140px, 1fr));
                gap: 15px;
            }
            
            .salons-grid {
                grid-template-columns: 1fr;
            }
            
            .salons-header {
                flex-direction: column;
                gap: 15px;
                align-items: stretch;
            }
            
            .sort-filter {
                align-self: flex-start;
            }
        }

        @media (max-width: 480px) {
            .container {
                padding: 0 15px;
            }
            
            .services-grid {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .service-card {
                padding: 15px;
            }
            
            .salon-card {
                border-radius: 10px;
            }
            
            .salon-info {
                padding: 15px;
            }
        }

        /* Hide sections initially */
        #servicesSection, #salonsSection {
            display: none;
        }
    </style>
</head>

<body class="preload-wrapper">

    <!-- Google Tag Manager (noscript) -->
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-W4GZFHCG"
height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <!-- End Google Tag Manager (noscript) -->

    <!-- Scroll Top -->
    <button id="scroll-top">
        <svg width="24" height="25" viewBox="0 0 24 25" fill="none" xmlns="http://www.w3.org/2000/svg">
            <g clip-path="url(#clip0_15741_24194)">
                <path
                    d="M3 11.9175L12 2.91748L21 11.9175H16.5V20.1675C16.5 20.3664 16.421 20.5572 16.2803 20.6978C16.1397 20.8385 15.9489 20.9175 15.75 20.9175H8.25C8.05109 20.9175 7.86032 20.8385 7.71967 20.6978C7.57902 20.5572 7.5 20.3664 7.5 20.1675V11.9175H3Z"
                    stroke="white" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" />
            </g>
            <defs>
                <clipPath id="clip0_15741_24194">
                    <rect width="24" height="24" fill="white" transform="translate(0 0.66748)" />
                </clipPath>
            </defs>
        </svg>
    </button>


    <!-- preload -->
    <div class="preload preload-container-img">
        <div class="preload-logo-img">
            <img src="/images/logo/Blushley-png-logo.png" alt="Glow & Glamour Logo" class="logo-img">
            <!--<div class="spinner"></div>-->
        </div>
    </div>
    <!-- /preload -->

    <div id="wrapper">
        <!-- Top Bar-->
        <div class="tf-topbar bg-main">
            <div class="container">
                <div class="tf-topbar_wrap d-flex align-items-center justify-content-center justify-content-xl-between">
                    <ul class="topbar-left">
                        <li><a class="text-caption-1 text-white" href="tel:+917994145723">+91 7994 145 723</a></li>
                                 <li><a class="text-caption-1 text-white" href="mailto:blushleyoffice@gmail.com">blushleyoffice@gmail.com</a></li>

                    </ul>
                    <div class="topbar-right d-none d-xl-block">
                        <div class="tf-cur justify-content-end">

                            <a class="text-caption-1 text-white text-decoration-none" href="/shop">Our
                                Store</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- /Top Bar -->

        <!-- Header -->
        <header id="header" class="header-default">
            <div class="container">
                <div class="row wrapper-header align-items-center">
                    <div class="col-md-4 col-3 d-xl-none">
                        <a href="#mobileMenu" class="mobile-menu" data-bs-toggle="offcanvas" aria-controls="mobileMenu">
                            <i class="icon icon-categories"></i>
                        </a>
                    </div>
                    <div class="col-xl-3 col-md-4 col-6">
                        <a href="/" class="logo-header">
                            <img src="/images/logo/logoggg.png" alt="logo" class="logo">
                        </a>
                    </div>
                    <div class="col-xl-6 d-none d-xl-block">
                        <nav class="box-navigation text-center">
                            <ul class="box-nav-ul d-flex align-items-center justify-content-center">
                                <li class="menu-item active">
                                    <a href="/" class="item-link">Home</a>
                              
                                </li>

                                <li class="menu-item"><a href="/about" class="item-link">About</a></li>
                                <li class="menu-item">
                                    <a href="/shop" class="item-link">Shop</a>



                                </li>
                                <li class="menu-item salon-at-home-link"><a href="/saloon-at-home"
                                        class="item-link">Salon at Home</a>
                                </li>

                                </li>
                                <li class="menu-item book-salon-link"><a href="/book-a-saloon"
                                        class="item-link">Book a Salon</a>
                                </li>
                                <li class="menu-item position-relative">
                                    <a href="/userblogs" class="item-link">Blogs</a>

                                </li>

                                <li class="menu-item"><a href="/contact" class="item-link">Contact</a></li>



                            </ul>
                        </nav>
                    </div>
                    <div class="col-xl-3 col-md-4 col-3">
                        <ul class="nav-icon d-flex justify-content-end align-items-center">
                            <li class="nav-search"><a href="#search" data-bs-toggle="modal" class="nav-icon-item">

                                    <img src="/images/icons/search.svg" alt="search icon">
                                </a></li>
                                <li class="nav-account">
                                    <a href="#" class="nav-icon-item">
                                        <img src="/images/icons/user.svg" alt="user">
                                    </a>
                                
                                    <div class="dropdown-account dropdown-login">
                                        <div class="sub-top">
                                            <% if (!user || user.role !== "user") { %>
                                                <!-- NOT LOGGED IN or Not a normal user -->
                                                <a href="/userLogin" class="nav-acc-link">Login</a>
                                            <% } else { %>
                                                <!-- NORMAL USER -->
                                                <a href="/user-account" class="nav-acc-link">My Account</a>
                                                <a href="/user-orders" class="nav-acc-link">Orders</a>
                                                <a href="/user-addresses" class="nav-acc-link">Addresses</a>
                                                <a href="/userBookings" class="nav-acc-link">My Bookings</a>
                                                <a href="/logout" class="nav-acc-link">Logout</a>
                                            <% } %>
                                        </div>
                                    </div>
                                </li>
                            <li class="nav-wishlist"><a href="/wishlist" class="nav-icon-item">
                                    <img src="/images/icons/heart.svg" alt="wish list">


                                </a>
                            </li>
                            <li class="nav-cart"><a href="#shoppingCart" data-bs-toggle="modal" class="nav-icon-item">

                                    <img src="/images/icons/shopping-bag.svg" alt="cart icon">
                                    <span class="count-box">0</span></a>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </header>

        <!-- /Header -->
  <!-- Location Modal -->
  <div class="location-modal-overlay" id="locationModal">
    <div class="location-modal-container">
        <div class="location-modal-header">
            <div>
                <div class="location-modal-title">üìç Choose your location</div>
                <div class="location-modal-subtitle">Set your location to find salons near you</div>
            </div>
            <button class="close-modal" onclick="closeLocationModal()">√ó</button>
        </div>
        
        <div class="location-modal-body">
            <div class="location-option" onclick="getCurrentLocation()">
                <div class="location-option-icon">üìç</div>
                <div class="location-option-content">
                    <div class="location-option-title">Use current location</div>
                    <div class="location-option-desc">Allow location access for accurate results</div>
                </div>
            </div>
            
            <div class="location-search-container">
                <input type="text" 
                       class="location-search-input" 
                       id="locationSearch"
                       placeholder="Search for area, street name, city, or pincode"
                       autocomplete="off">
                <div class="search-results" id="searchResults">
                    <!-- Search results will appear here -->
                </div>
            </div>
            
            <div class="popular-cities">
                <h4>Popular Cities in Kerala</h4>
                <div class="city-tags">
                    <span class="city-tag" onclick="selectCity('Thiruvananthapuram')">Thiruvananthapuram</span>
                    <span class="city-tag" onclick="selectCity('Kochi')">Kochi</span>
                    <span class="city-tag" onclick="selectCity('Kozhikode')">Kozhikode</span>
                    <span class="city-tag" onclick="selectCity('Thrissur')">Thrissur</span>
                    <span class="city-tag" onclick="selectCity('Kollam')">Kollam</span>
                    <span class="city-tag" onclick="selectCity('Alappuzha')">Alappuzha</span>
                    <span class="city-tag" onclick="selectCity('Kannur')">Kannur</span>
                    <span class="city-tag" onclick="selectCity('Kottayam')">Kottayam</span>
                </div>
            </div>
        </div>
        
        <div class="location-modal-footer">
            <button class="confirm-location-btn" id="confirmLocationBtn" onclick="confirmLocation()" disabled>
                Confirm Location
            </button>
        </div>
    </div>
</div>

<!-- Main Header -->
<header class="main-header">
    <div class="container">
        <div class="header-top">
            <div class="location-selector" onclick="openLocationModal()">
                <div class="location-icon">üìç</div>
                <div class="location-info">
                    <div class="location-label">Your Location</div>
                    <div class="location-name" id="currentLocationDisplay">
                        Select location
                    </div>
                </div>
                <div>‚ñº</div>
            </div>
            
            <div class="header-search">
                <div class="search-container">
                    <input type="text" 
                           class="search-input" 
                           id="globalSearch"
                           placeholder="Search for services, salons, or stylists..."
                           autocomplete="off">
                    <button class="search-btn" onclick="globalSearch()">üîç</button>
                </div>
            </div>
        </div>
    </div>
</header>

<!-- Main Content -->
<div class="container">
    <div class="main-content">
        <!-- Left Sidebar - Categories -->
        <aside class="categories-sidebar" id="categoriesSidebar" style="display: none;">
            <h3 class="categories-title">Categories</h3>
            <div class="categories-list" id="categoriesList">
                <!-- Categories will be populated here -->
            </div>
        </aside>

        <!-- Right Content Area -->
        <main class="content-area">
            <!-- Selected Services Bar -->
            <div class="selected-services-bar" id="selectedServicesBar">
                <div class="selected-title">Selected Services:</div>
                <div class="selected-tags" id="selectedTags">
                    <!-- Selected services will appear here -->
                </div>
            </div>

            <!-- Services Section -->
            <section class="services-section" id="servicesSection">
                <h2 class="section-title" id="servicesTitle">Popular Services</h2>
                <p class="section-subtitle">Select services to find matching salons</p>
                
                <div class="services-grid" id="servicesGrid">
                    <!-- Services will be populated here -->
                </div>
            </section>

            <!-- Salons Section -->
            <section class="salons-section" id="salonsSection">
                <div class="salons-header">
                    <div>
                        <h2 class="salons-title" id="salonsTitle">Salons Near You</h2>
                        <div class="salons-count" id="salonsCount">Loading...</div>
                    </div>
                    <div class="sort-filter" onclick="openSortFilter()">
                        <span>‚öôÔ∏è</span>
                        <span>Sort & Filter</span>
                    </div>
                </div>
                
                <div class="salons-grid" id="salonsGrid">
                    <!-- Salons will be populated here -->
                </div>
            </section>
        </main>
    </div>
</div>

<!-- Your existing booking modal -->
<div class="sbm-modal-overlay" id="bookingModal">
    <!-- Your booking modal content -->
</div>

<script>
    // Global state
    let userLocation = null;
    let selectedServices = [];
    let selectedCategory = 'all';
    let currentPage = 1;
    let isLoading = false;
    let hasMore = true;
    let serviceData = {};
    let categoriesData = {};
    let searchTimeout = null;

    // Initialize on page load
    document.addEventListener('DOMContentLoaded', function() {
        // Show location modal by default
        openLocationModal();
        
        // Check for saved location
        const savedLocation = localStorage.getItem('lastLocation');
        if (savedLocation) {
            try {
                userLocation = JSON.parse(savedLocation);
                updateLocationDisplay();
                initializeApp();
            } catch (e) {
                console.error('Error parsing saved location:', e);
            }
        }
        
        // Setup search
        setupSearch();
    });

    // Location functions
    function openLocationModal() {
        document.getElementById('locationModal').style.display = 'flex';
        document.body.style.overflow = 'hidden';
    }

    function closeLocationModal() {
        document.getElementById('locationModal').style.display = 'none';
        document.body.style.overflow = 'auto';
    }

    function getCurrentLocation() {
        if (navigator.geolocation) {
            const btn = document.getElementById('confirmLocationBtn');
            btn.innerHTML = '<span class="loading"></span>';
            btn.disabled = true;
            
            navigator.geolocation.getCurrentPosition(
                async (position) => {
                    const { latitude, longitude } = position.coords;
                    
                    try {
                        const response = await fetch(
                            `https://nominatim.openstreetmap.org/reverse?format=json&lat=${latitude}&lon=${longitude}&addressdetails=1`
                        );
                        const data = await response.json();
                        
                        if (data.address) {
                            userLocation = {
                                latitude,
                                longitude,
                                address: data.display_name,
                                city: data.address.city || data.address.town || data.address.village,
                                state: data.address.state,
                                pincode: data.address.postcode || ''
                            };
                            
                            // Check if Kerala
                            if (userLocation.state && userLocation.state.toLowerCase().includes('kerala')) {
                                saveRecentLocation(userLocation);
                                updateLocationDisplay();
                                enableConfirmButton();
                            } else {
                                alert('Our services are currently only available in Kerala');
                                resetLocation();
                            }
                        }
                    } catch (error) {
                        alert('Unable to get address. Please search manually.');
                        resetLocation();
                    }
                    
                    btn.innerHTML = 'Confirm Location';
                },
                (error) => {
                    alert('Please enable location access or search manually.');
                    btn.innerHTML = 'Confirm Location';
                    btn.disabled = false;
                }
            );
        } else {
            alert('Geolocation is not supported');
        }
    }

    function selectCity(city) {
        userLocation = {
            city: city,
            address: `${city}, Kerala, India`,
            state: 'Kerala',
            type: 'city'
        };
        
        updateLocationDisplay();
        enableConfirmButton();
    }

    function updateLocationDisplay() {
        const display = document.getElementById('currentLocationDisplay');
        if (userLocation) {
            display.textContent = userLocation.city || userLocation.address.split(',')[0];
        }
    }

    function enableConfirmButton() {
        document.getElementById('confirmLocationBtn').disabled = false;
    }

    function resetLocation() {
        userLocation = null;
        document.getElementById('confirmLocationBtn').disabled = true;
        document.getElementById('currentLocationDisplay').textContent = 'Select location';
    }

    async function confirmLocation() {
        if (!userLocation) return;
        
        localStorage.setItem('lastLocation', JSON.stringify(userLocation));
        closeLocationModal();
        initializeApp();
    }

    function saveRecentLocation(location) {
        let recentLocations = JSON.parse(localStorage.getItem('recentLocations') || '[]');
        recentLocations = recentLocations.filter(loc => loc.city !== location.city);
        recentLocations.unshift({ city: location.city, address: location.address });
        if (recentLocations.length > 5) recentLocations = recentLocations.slice(0, 5);
        localStorage.setItem('recentLocations', JSON.stringify(recentLocations));
    }

    // Search setup
    function setupSearch() {
        const locationSearch = document.getElementById('locationSearch');
        const globalSearch = document.getElementById('globalSearch');
        
        // Location search
        locationSearch.addEventListener('input', function(e) {
            clearTimeout(searchTimeout);
            const query = e.target.value.trim();
            if (query.length < 2) {
                document.getElementById('searchResults').classList.remove('active');
                return;
            }
            
            searchTimeout = setTimeout(() => {
                searchLocations(query);
            }, 500);
        });
        
        locationSearch.addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                searchLocations(this.value.trim());
            }
        });
        
        // Global search
        globalSearch.addEventListener('input', function(e) {
            clearTimeout(searchTimeout);
            const query = e.target.value.trim();
            if (query.length < 2) return;
            
            searchTimeout = setTimeout(() => {
                globalSearchFunc(query);
            }, 500);
        });
        
        globalSearch.addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                globalSearchFunc(this.value.trim());
            }
        });
    }

    async function searchLocations(query) {
        try {
            const response = await fetch(`/api/locations/search?q=${encodeURIComponent(query)}`);
            const data = await response.json();
            
            const resultsContainer = document.getElementById('searchResults');
            resultsContainer.innerHTML = '';
            
            if (data.success && data.locations.length > 0) {
                data.locations.forEach(location => {
                    const item = document.createElement('div');
                    item.className = 'search-result-item';
                    item.innerHTML = `
                        <div style="font-weight: 600;">${location.name}</div>
                        <div style="font-size: 12px; color: #666;">${location.state} ‚Ä¢ ${location.salonCount || 0} salons</div>
                    `;
                    item.onclick = () => {
                        selectCity(location.name);
                        resultsContainer.classList.remove('active');
                        document.getElementById('locationSearch').value = '';
                    };
                    resultsContainer.appendChild(item);
                });
                resultsContainer.classList.add('active');
            }
        } catch (error) {
            console.error('Search error:', error);
        }
    }

    async function globalSearchFunc(query) {
        // This would search across services, salons, and stylists
        alert(`Searching for: ${query}`);
        // Implement comprehensive search
    }

    // Initialize app after location selection
    async function initializeApp() {
        // Show all sections
        document.getElementById('categoriesSidebar').style.display = 'block';
        document.getElementById('servicesSection').style.display = 'block';
        document.getElementById('salonsSection').style.display = 'block';
        
        // Load categories
        await loadCategories();
        
        // Load all services initially
        await loadServices('all');
        
        // Load salons for current location
        await loadSalons();
    }

    // Load categories for sidebar
    async function loadCategories() {
        try {
            const response = await fetch('/api/service-categories');
            const data = await response.json();
            
            const container = document.getElementById('categoriesList');
            if (data.success && data.categories) {
                let html = '';
                data.categories.forEach(cat => {
                    categoriesData[cat.id] = cat;
                    html += `
                        <a class="category-item ${selectedCategory === cat.id ? 'active' : ''}" 
                           href="#" onclick="selectCategory('${cat.id}', event)">
                            <div class="category-icon">${getCategoryIcon(cat.id)}</div>
                            <div class="category-name">${cat.name}</div>
                            <div style="font-size: 12px; color: ${selectedCategory === cat.id ? 'rgba(255,255,255,0.8)' : '#666'};">(${cat.count})</div>
                        </a>
                    `;
                });
                container.innerHTML = html;
            }
        } catch (error) {
            console.error('Error loading categories:', error);
        }
    }

    function getCategoryIcon(categoryId) {
        const icons = {
            'all': '‚ú®',
            'hair': 'üíá',
            'skin': 'üå∏',
            'nails': 'üíÖ',
            'other': 'üíà'
        };
        return icons[categoryId] || 'üíà';
    }

    async function selectCategory(categoryId, event) {
        if (event) event.preventDefault();
        
        selectedCategory = categoryId;
        
        // Update active state in sidebar
        document.querySelectorAll('.category-item').forEach(item => {
            item.classList.remove('active');
        });
        event.target.closest('.category-item').classList.add('active');
        
        // Update services title
        document.getElementById('servicesTitle').textContent = 
            categoryId === 'all' ? 'Popular Services' : `${categoriesData[categoryId]?.name || 'Services'}`;
        
        // Load services for this category
        await loadServices(categoryId);
        
        // If services are selected, reload salons with new category
        if (selectedServices.length > 0) {
            await loadSalons();
        }
    }

    // Load services for current category
    async function loadServices(category = 'all') {
        try {
            const url = category === 'all' 
                ? '/api/services' 
                : `/api/services?category=${category}`;
            
            const response = await fetch(url);
            const data = await response.json();
            
            const container = document.getElementById('servicesGrid');
            if (data.success && data.services) {
                let html = '';
                data.services.forEach(service => {
                    // Create safe ID
                    const safeId = service.id || service.name.toLowerCase()
                        .replace(/[^a-z0-9]+/g, '-')
                        .replace(/'/g, '');
                    
                    serviceData[safeId] = service;
                    const isSelected = selectedServices.includes(safeId);
                    
                    html += `
                        <div class="service-card ${isSelected ? 'selected' : ''}" 
                             data-service-id="${safeId}">
                            <div class="service-icon">${getServiceIcon(service.name)}</div>
                            <div class="service-name">${service.name}</div>
                            <div class="service-price">‚Çπ${service.price}</div>
                            <div class="service-duration">${service.duration || 60} min</div>
                            <div class="service-check">‚úì</div>
                        </div>
                    `;
                });
                container.innerHTML = html;
                
                // Add click event delegation
                container.onclick = function(e) {
                    const card = e.target.closest('.service-card');
                    if (card) {
                        const serviceId = card.getAttribute('data-service-id');
                        toggleService(serviceId);
                    }
                };
            }
        } catch (error) {
            console.error('Error loading services:', error);
        }
    }

    function getServiceIcon(serviceName) {
        const icons = {
            'hair': 'üíá',
            'cut': '‚úÇÔ∏è',
            'color': 'üé®',
            'facial': 'üå∏',
            'skin': '‚ú®',
            'nail': 'üíÖ',
            'wax': 'üß¥',
            'thread': 'üßµ',
            'massage': 'üíÜ',
            'spa': 'üõÅ'
        };
        
        serviceName = serviceName.toLowerCase();
        for (const [key, icon] of Object.entries(icons)) {
            if (serviceName.includes(key)) {
                return icon;
            }
        }
        return 'üíà';
    }

    function toggleService(serviceId) {
        const index = selectedServices.indexOf(serviceId);
        
        if (index === -1) {
            selectedServices.push(serviceId);
        } else {
            selectedServices.splice(index, 1);
        }
        
        // Update UI
        updateServiceCards();
        updateSelectedServicesBar();
        
        // Load salons with selected services
        loadSalons();
    }

    function updateServiceCards() {
        document.querySelectorAll('.service-card').forEach(card => {
            const serviceId = card.getAttribute('data-service-id');
            if (selectedServices.includes(serviceId)) {
                card.classList.add('selected');
            } else {
                card.classList.remove('selected');
            }
        });
    }

    function updateSelectedServicesBar() {
        const bar = document.getElementById('selectedServicesBar');
        const tagsContainer = document.getElementById('selectedTags');
        
        if (selectedServices.length === 0) {
            bar.classList.remove('active');
            return;
        }
        
        let html = '';
        selectedServices.forEach(serviceId => {
            const service = serviceData[serviceId];
            if (service) {
                html += `
                    <div class="selected-tag">
                        ${service.name}
                        <span class="remove-tag" onclick="removeService('${serviceId}')">√ó</span>
                    </div>
                `;
            }
        });
        
        tagsContainer.innerHTML = html;
        bar.classList.add('active');
    }

    function removeService(serviceId) {
        selectedServices = selectedServices.filter(id => id !== serviceId);
        updateSelectedServicesBar();
        updateServiceCards();
        loadSalons();
    }

    // Load salons
    async function loadSalons() {
        if (isLoading) return;
        
        isLoading = true;
        currentPage = 1;
        
        const container = document.getElementById('salonsGrid');
        const title = document.getElementById('salonsTitle');
        const count = document.getElementById('salonsCount');
        
        // Show loading
        container.innerHTML = `
            <div style="grid-column:1/-1; text-align:center; padding:60px 0;">
                <div class="loading" style="width:40px;height:40px;margin:0 auto 20px;"></div>
                <div style="color:#666;">Finding salons for you...</div>
            </div>
        `;
        
        try {
            const params = new URLSearchParams({
                page: currentPage,
                limit: 12,
                services: selectedServices.map(id => serviceData[id]?.name).filter(Boolean).join(','),
                location: userLocation?.city || userLocation?.address,
                sort: 'rating'
            });
            
            const response = await fetch(`/api/salons?${params}`);
            const data = await response.json();
            
            container.innerHTML = '';
            
            if (!data.success || !data.salons || data.salons.length === 0) {
                container.innerHTML = `
                    <div class="no-salons">
                        <div class="no-salons-icon">üîç</div>
                        <h3 class="no-salons-title">No salons found</h3>
                        <p class="no-salons-text">
                            ${selectedServices.length > 0 
                                ? `No salons found for selected services in ${userLocation?.city || userLocation?.address?.split(',')[0] || 'your area'}`
                                : `Select services to find matching salons in ${userLocation?.city || userLocation?.address?.split(',')[0] || 'your area'}`}
                        </p>
                    </div>
                `;
                count.textContent = '0 salons found';
                return;
            }
            
            // Update title and count
            title.textContent = selectedServices.length > 0 
                ? `Salons for ${selectedServices.length} service${selectedServices.length > 1 ? 's' : ''}`
                : 'Salons Near You';
            
            count.textContent = `${data.totalCount || data.salons.length} salons found`;
            
            // Display salons
            data.salons.forEach(salon => {
                const card = document.createElement('div');
                card.className = 'salon-card';
                card.innerHTML = `
                    <div class="salon-image">
                        <img src="${salon.image || '/images/default-salon.jpg'}" 
                             alt="${salon.name}" 
                             onerror="this.src='/images/default-salon.jpg'">
                        <div class="salon-badge ${salon.isAvailableToday ? '' : 'closed'}">
                            ${salon.isAvailableToday ? '‚úì Open Today' : '‚úó Closed Today'}
                        </div>
                    </div>
                    <div class="salon-info">
                        <h3 class="salon-name">${salon.name}</h3>
                        <div class="salon-rating">
                            <span class="stars">${'‚òÖ'.repeat(Math.floor(salon.rating))}${'‚òÜ'.repeat(5-Math.floor(salon.rating))}</span>
                            <span class="rating-number">${salon.rating.toFixed(1)}</span>
                            <span class="review-count">(${salon.reviewCount} reviews)</span>
                        </div>
                        <div class="salon-location">
                            <span>üìç</span>
                            <span>${salon.location || 'Location not specified'}</span>
                        </div>
                        <div class="salon-price">
                            <span class="price-from">From ‚Çπ${salon.startingPrice || salon.minPrice || 0}</span>
                            ${salon.homeService ? '<span class="home-service-badge">üè° Home Service</span>' : ''}
                        </div>
                        <div class="salon-services">
                            ${(salon.topServices || []).slice(0, 3).map(service => 
                                `<span class="salon-service-tag">${service}</span>`
                            ).join('')}
                        </div>
                    </div>
                `;
                
                card.onclick = () => openSalonDetail(salon._id);
                container.appendChild(card);
            });
            
            hasMore = data.hasMore || false;
            
        } catch (error) {
            console.error('Error loading salons:', error);
            container.innerHTML = `
                <div class="no-salons">
                    <div class="no-salons-icon">‚ö†Ô∏è</div>
                    <h3 class="no-salons-title">Error loading salons</h3>
                    <p class="no-salons-text">Please try again later</p>
                </div>
            `;
        } finally {
            isLoading = false;
        }
    }

    function openSalonDetail(salonId) {
        window.location.href = `/book-a-saloon/${salonId}`;
    }

    function openSortFilter() {
        // Implement sort/filter modal
        alert('Sort & Filter options will be implemented here');
    }
</script>
  <!-- Booking Modal -->
  <div class="sbm-modal-overlay" id="bookingModal">
    <div class="sbm-modal-container">
        <div class="sbm-modal-header">
            <div class="sbm-modal-title">Book Your Appointment</div>
            <div class="sbm-modal-subtitle">Glam Studio Salon - Indiranagar</div>
            <button class="sbm-close-btn" onclick="closeBookingModal()">√ó</button>
        </div>

        <div class="sbm-modal-body">
            <!-- Services Section -->
            <div class="sbm-section">
                <div class="sbm-section-title">
                    <div class="sbm-section-icon">‚úÇ</div>
                    Select Services
                </div>
                <div class="sbm-services-grid" id="servicesGrid">
                    <!-- Services will be populated here -->
                </div>
            </div>

            <!-- Date Selection -->
            <div class="sbm-section">
                <div class="sbm-section-title">
                    <div class="sbm-section-icon">üìÖ</div>
                    Choose Date
                </div>
                <div class="sbm-date-selector" id="dateSelector">
                    <!-- Dates will be populated here -->
                </div>
            </div>

            <div class="sbm-modal-body">
                <!-- Service Type Selection -->
                <div class="sbm-section">
                    <div class="sbm-section-title">
                        <div class="sbm-section-icon">üè†</div>
                        Service Location
                    </div>
                    <div class="sbm-service-type-container">
                        <div class="sbm-service-type-option" id="salonVisit"
                            onclick="selectServiceType('salon')">
                            <div class="sbm-service-type-icon">üè¢</div>
                            <div class="sbm-service-type-title">Visit Salon</div>
                            <div class="sbm-service-type-desc">Come to our salon at Indiranagar</div>
                        </div>
                        <div class="sbm-service-type-option" id="homeService"
                            onclick="selectServiceType('home')">
                            <div class="sbm-service-type-icon">üè°</div>
                            <div class="sbm-service-type-title">Home Service</div>
                            <div class="sbm-service-type-desc">Beautician visits your location</div>
                        </div>
                    </div>
                </div>

                <!-- Home Address Section - Add this in your HTML modal body after Service Type Selection -->
                <div class="sbm-section" id="homeAddressSection" style="display: none;">
                    <div class="sbm-section-title">
                        <div class="sbm-section-icon">üìç</div>
                        Service Address
                    </div>
                    <div class="sbm-form-group">
                        <label class="sbm-form-label">Complete Address *</label>
                        <input type="text" class="sbm-form-input" id="userAddress"
                            placeholder="Enter your complete address (House/Flat No, Street, Area)">
                    </div>
                    <div class="sbm-form-group">
                        <label class="sbm-form-label">Landmark / Additional Details</label>
                        <input type="text" class="sbm-form-input" id="addressDetails"
                            placeholder="Nearby landmark or additional directions">
                    </div>
                    <div class="sbm-form-group">
                        <label for="customerAddress" class="sbm-form-label">Google Maps Link</label>
                        <input type="text" id="customerAddress" name="customerAddress"
                            placeholder="Enter your address or paste Google Maps link" class="sbm-form-input" />
                        <small style="color: #777;">
                            Example: https://maps.app.goo.gl/abcd1234
                        </small>
                    </div>
                    <!--  <div class="sbm-form-group">
                        <label class="sbm-form-label">Mark Location on Map</label>
                        <div class="sbm-map-container">
                            <input type="text" class="sbm-form-input" id="mapSearch"
                                placeholder="Search location or click on map" style="margin-bottom: 12px;">
                            <div class="sbm-map-wrapper">
                                <div id="map"></div>
                            </div>
                            <div class="sbm-coordinates">
                                <span style="font-weight: 600;">Selected Location:</span>
                                <span id="selectedLocation">Not selected yet</span>
                            </div>
                        </div>
                    </div>-->
                </div>



                <!-- Time Slots -->
                <div class="sbm-section">
                    <div class="sbm-section-title">
                        <div class="sbm-section-icon">üïê</div>
                        Available Time Slots
                    </div>
                    <div class="sbm-slots-container" id="slotsContainer">
                        <!-- Slots will be populated here -->
                    </div>
                </div>

                <!-- User Details -->
                <div class="sbm-section">
                    <div class="sbm-section-title">
                        <div class="sbm-section-icon">üë§</div>
                        Your Details
                    </div>
                    <div class="sbm-form-row">
                        <div class="sbm-form-group">
                            <label class="sbm-form-label">Full Name *</label>
                            <input type="text" class="sbm-form-input" id="userName"
                                placeholder="Enter your name" required>
                        </div>
                        <div class="sbm-form-group">
                            <label class="sbm-form-label">Phone Number *</label>
                            <input type="tel" class="sbm-form-input" id="userPhone"
                                placeholder="+91 XXXXX XXXXX" required>
                        </div>
                    </div>
                    <div class="sbm-form-group">
                        <label class="sbm-form-label">Email Address</label>
                        <input type="email" class="sbm-form-input" id="userEmail"
                            placeholder="your.email@example.com">
                    </div>
                    <div class="sbm-form-group">
                        <label class="sbm-form-label">Special Requests (Optional)</label>
                        <textarea class="sbm-form-textarea" id="userNotes"
                            placeholder="Any specific requirements or preferences..."></textarea>
                    </div>
                </div>
            </div>

            <div class="sbm-modal-footer">
                <div class="sbm-total-price">
                    Total: <span class="sbm-price-amount" id="totalPrice">‚Çπ0</span>
                </div>
                <button class="sbm-submit-btn" onclick="submitBooking()">Confirm Booking</button>
            </div>
        </div>
    </div>
</div>

<script>
    // Global state
    let userLocation = null;
    let selectedServices = [];
    let selectedCategory = 'all';
    let currentPage = 1;
    let isLoading = false;
    let hasMore = true;
    let totalSalons = 0;
    let serviceData = {};
    let searchTimeout = null;

    // Initialize on page load
    document.addEventListener('DOMContentLoaded', function() {
        // Show location modal by default
        openLocationModal();
        
        // Check for saved location
        const savedLocation = localStorage.getItem('lastLocation');
        if (savedLocation) {
            try {
                userLocation = JSON.parse(savedLocation);
                updateLocationDisplay();
                loadServiceCategories();
                loadServices();
                document.getElementById('servicesSection').classList.add('active');
            } catch (e) {
                console.error('Error parsing saved location:', e);
            }
        }
        
        // Setup location search
        const searchInput = document.getElementById('locationSearch');
        searchInput.addEventListener('input', handleLocationSearch);
        searchInput.addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                searchLocation();
            }
        });
        
        // Load recent locations
        loadRecentLocations();
    });

    // Location Functions
    function openLocationModal() {
        document.getElementById('locationModal').style.display = 'flex';
        document.body.style.overflow = 'hidden';
    }

    function closeLocationModal() {
        document.getElementById('locationModal').style.display = 'none';
        document.body.style.overflow = 'auto';
    }

    function getCurrentLocation() {
        if (navigator.geolocation) {
            const loadingBtn = document.getElementById('confirmLocationBtn');
            const originalText = loadingBtn.innerHTML;
            loadingBtn.innerHTML = '<span class="loading"></span>';
            loadingBtn.disabled = true;
            
            navigator.geolocation.getCurrentPosition(
                async (position) => {
                    const { latitude, longitude } = position.coords;
                    
                    try {
                        // Use OpenStreetMap Nominatim API
                        const response = await fetch(
                            `https://nominatim.openstreetmap.org/reverse?format=json&lat=${latitude}&lon=${longitude}&addressdetails=1`
                        );
                        const data = await response.json();
                        
                        if (data.address) {
                            userLocation = {
                                latitude,
                                longitude,
                                address: data.display_name,
                                city: data.address.city || data.address.town || data.address.village,
                                state: data.address.state,
                                pincode: data.address.postcode || ''
                            };
                            
                            // Check if it's in Kerala
                            if (userLocation.state && userLocation.state.toLowerCase().includes('kerala')) {
                                saveRecentLocation(userLocation);
                                updateLocationDisplay();
                                enableConfirmButton();
                            } else {
                                alert('Our services are currently only available in Kerala. Please select a location in Kerala.');
                                resetLocation();
                            }
                        }
                    } catch (error) {
                        console.error('Geocoding error:', error);
                        alert('Unable to get address. Please try manual search.');
                        resetLocation();
                    }
                    
                    loadingBtn.innerHTML = originalText;
                },
                (error) => {
                    console.error('Geolocation error:', error);
                    alert('Please enable location access or search manually.');
                    loadingBtn.innerHTML = originalText;
                    loadingBtn.disabled = false;
                }
            );
        } else {
            alert('Geolocation is not supported by your browser');
        }
    }

    function handleLocationSearch(e) {
        clearTimeout(searchTimeout);
        const query = e.target.value.trim();
        
        if (query.length < 2) {
            document.getElementById('searchResults').classList.remove('active');
            return;
        }
        
        searchTimeout = setTimeout(() => {
            searchLocation(query);
        }, 500);
    }

    async function searchLocation(query = null) {
        const searchInput = document.getElementById('locationSearch');
        const queryValue = query || searchInput.value.trim();
        
        if (queryValue.length < 2) {
            alert('Please enter at least 2 characters');
            return;
        }
        
        try {
            // Search in Kerala cities
            const keralaCities = [
                'Thiruvananthapuram', 'Kochi', 'Kozhikode', 'Thrissur', 'Kollam',
                'Alappuzha', 'Kannur', 'Kottayam', 'Malappuram', 'Palakkad'
            ];
            
            const filteredCities = keralaCities.filter(city => 
                city.toLowerCase().includes(queryValue.toLowerCase())
            );
            
            const resultsContainer = document.getElementById('searchResults');
            resultsContainer.innerHTML = '';
            
            if (filteredCities.length > 0) {
                filteredCities.forEach(city => {
                    const resultItem = document.createElement('div');
                    resultItem.className = 'search-result-item';
                    resultItem.innerHTML = `
                        <div class="search-result-name">${city}</div>
                        <div class="search-result-details">Kerala, India</div>
                    `;
                    resultItem.onclick = () => {
                        selectCity(city);
                        resultsContainer.classList.remove('active');
                        searchInput.value = '';
                    };
                    resultsContainer.appendChild(resultItem);
                });
                resultsContainer.classList.add('active');
            } else {
                // If no city match, show message
                resultsContainer.innerHTML = `
                    <div class="search-result-item" style="color: #666; font-style: italic;">
                        No cities found. Try popular Kerala cities.
                    </div>
                `;
                resultsContainer.classList.add('active');
            }
        } catch (error) {
            console.error('Search error:', error);
        }
    }

    function selectCity(city) {
        userLocation = {
            city: city,
            address: `${city}, Kerala, India`,
            state: 'Kerala',
            type: 'city'
        };
        
        updateLocationDisplay();
        enableConfirmButton();
    }

    function updateLocationDisplay() {
        const display = document.getElementById('currentLocationDisplay');
        if (userLocation) {
            display.textContent = userLocation.city || userLocation.address.split(',')[0];
        }
    }

    function enableConfirmButton() {
        const confirmBtn = document.getElementById('confirmLocationBtn');
        confirmBtn.disabled = false;
    }

    function resetLocation() {
        userLocation = null;
        const confirmBtn = document.getElementById('confirmLocationBtn');
        confirmBtn.disabled = true;
        document.getElementById('currentLocationDisplay').textContent = 'Select location to view salons';
    }

    async function confirmLocation() {
        if (!userLocation) return;
        
        // Save to localStorage
        localStorage.setItem('lastLocation', JSON.stringify(userLocation));
        
        // Close location modal
        closeLocationModal();
        
        // Show services section
        document.getElementById('servicesSection').classList.add('active');
        
        // Load service categories and services
        await loadServiceCategories();
        await loadServices();
        
        // Hide salons section if it's visible
        document.getElementById('salonsSection').classList.remove('active');
    }

    function saveRecentLocation(location) {
        let recentLocations = JSON.parse(localStorage.getItem('recentLocations') || '[]');
        
        // Remove if already exists
        recentLocations = recentLocations.filter(loc => 
            loc.city !== location.city && loc.address !== location.address
        );
        
        // Add to beginning
        recentLocations.unshift({
            city: location.city,
            address: location.address
        });
        
        // Keep only last 5
        if (recentLocations.length > 5) {
            recentLocations = recentLocations.slice(0, 5);
        }
        
        localStorage.setItem('recentLocations', JSON.stringify(recentLocations));
        loadRecentLocations();
    }

    function loadRecentLocations() {
        const container = document.getElementById('recentLocations');
        const locations = JSON.parse(localStorage.getItem('recentLocations') || '[]');
        
        if (locations.length === 0) {
            container.innerHTML = '';
            return;
        }
        
        let html = '<h4>Recent Locations</h4>';
        locations.forEach(loc => {
            html += `
                <div class="location-option" onclick="selectRecentLocation('${loc.city}', '${loc.address}')">
                    <div class="location-option-icon">üïê</div>
                    <div class="location-option-content">
                        <div class="location-option-title">${loc.city}</div>
                        <div class="location-option-desc">${loc.address}</div>
                    </div>
                </div>
            `;
        });
        
        container.innerHTML = html;
    }

    function selectRecentLocation(city, address) {
        userLocation = {
            city: city,
            address: address,
            state: 'Kerala',
            type: 'recent'
        };
        
        updateLocationDisplay();
        enableConfirmButton();
    }

    // Service Functions
    async function loadServiceCategories() {
        try {
            const response = await fetch('/api/service-categories');
            const data = await response.json();
            
            const container = document.getElementById('categoryFilter');
            if (data.success && data.categories) {
                let html = '<div class="category-item active" onclick="selectCategory(\'all\')">All Services</div>';
                data.categories.forEach(cat => {
                    html += `
                        <div class="category-item" onclick="selectCategory('${cat.id}')">
                            ${cat.name} (${cat.count})
                        </div>
                    `;
                });
                container.innerHTML = html;
            }
        } catch (error) {
            console.error('Error loading categories:', error);
            // Fallback categories
            const container = document.getElementById('categoryFilter');
            container.innerHTML = `
                <div class="category-item active" onclick="selectCategory('all')">All Services</div>
                <div class="category-item" onclick="selectCategory('hair')">Hair Services</div>
                <div class="category-item" onclick="selectCategory('skin')">Skin & Facial</div>
                <div class="category-item" onclick="selectCategory('nails')">Nail Services</div>
                <div class="category-item" onclick="selectCategory('other')">Other Services</div>
            `;
        }
    }

    async function loadServices(category = 'all') {
        try {
            const url = category === 'all' 
                ? '/api/services' 
                : `/api/services?category=${category}`;
            
            const response = await fetch(url);
            const data = await response.json();
            
            const container = document.getElementById('servicesGrid');
            if (data.success && data.services) {
                let html = '';
                data.services.forEach(service => {
                    serviceData[service.id] = service;
                    const isSelected = selectedServices.includes(service.id);
                    html += `
                        <div class="service-card ${isSelected ? 'selected' : ''}" 
                             onclick="toggleService('${service.id}')">
                            <div class="service-icon">${getServiceIcon(service.name)}</div>
                            <div class="service-name">${service.name}</div>
                            <div class="service-price">‚Çπ${service.price}</div>
                            <div class="service-duration">${service.duration || 60} min</div>
                            <div class="service-check">‚úì</div>
                        </div>
                    `;
                });
                container.innerHTML = html;
            } else {
                container.innerHTML = '<p style="grid-column:1/-1; text-align:center; color:#666;">No services found</p>';
            }
        } catch (error) {
            console.error('Error loading services:', error);
            // Fallback services
            const fallbackServices = [
                { id: 'haircut', name: 'Haircut & Styling', price: 300, duration: 45, icon: '‚úÇÔ∏è' },
                { id: 'hair-color', name: 'Hair Coloring', price: 1200, duration: 120, icon: 'üé®' },
                { id: 'facial', name: 'Basic Facial', price: 800, duration: 60, icon: 'üå∏' },
                { id: 'manicure', name: 'Manicure', price: 400, duration: 45, icon: 'üíÖ' },
                { id: 'pedicure', name: 'Pedicure', price: 500, duration: 60, icon: 'ü¶∂' },
                { id: 'waxing', name: 'Body Waxing', price: 600, duration: 45, icon: 'üß¥' },
                { id: 'threading', name: 'Face Threading', price: 150, duration: 30, icon: 'üßµ' },
                { id: 'bleach', name: 'Face Bleach', price: 350, duration: 45, icon: '‚ú®' }
            ];
            
            const container = document.getElementById('servicesGrid');
            let html = '';
            fallbackServices.forEach(service => {
                serviceData[service.id] = service;
                const isSelected = selectedServices.includes(service.id);
                html += `
                    <div class="service-card ${isSelected ? 'selected' : ''}" 
                         onclick="toggleService('${service.id}')">
                        <div class="service-icon">${service.icon}</div>
                        <div class="service-name">${service.name}</div>
                        <div class="service-price">‚Çπ${service.price}</div>
                        <div class="service-duration">${service.duration} min</div>
                        <div class="service-check">‚úì</div>
                    </div>
                `;
            });
            container.innerHTML = html;
        }
    }

    function getServiceIcon(serviceName) {
        const icons = {
            'hair': '‚úÇÔ∏è',
            'cut': '‚úÇÔ∏è',
            'color': 'üé®',
            'styling': 'üíá',
            'facial': 'üå∏',
            'skin': '‚ú®',
            'cleanup': 'üßº',
            'treatment': 'üíÜ',
            'nail': 'üíÖ',
            'manicure': 'üíÖ',
            'pedicure': 'ü¶∂',
            'wax': 'üß¥',
            'threading': 'üßµ',
            'bleach': '‚ú®',
            'massage': 'üíÜ'
        };
        
        serviceName = serviceName.toLowerCase();
        for (const [key, icon] of Object.entries(icons)) {
            if (serviceName.includes(key)) {
                return icon;
            }
        }
        return 'üíà';
    }

    function selectCategory(categoryId) {
        selectedCategory = categoryId;
        
        // Update category buttons
        document.querySelectorAll('.category-item').forEach(item => {
            item.classList.remove('active');
        });
        event.target.classList.add('active');
        
        // Load services for this category
        loadServices(categoryId);
    }

    function toggleService(serviceId) {
        const index = selectedServices.indexOf(serviceId);
        
        if (index === -1) {
            selectedServices.push(serviceId);
        } else {
            selectedServices.splice(index, 1);
        }
        
        // Update UI
        updateServiceCards();
        updateSelectedServices();
        
        // Show/hide selected services section
        const selectedSection = document.getElementById('selectedServices');
        if (selectedServices.length > 0) {
            selectedSection.classList.add('active');
            document.getElementById('findSalonsBtn').disabled = false;
        } else {
            selectedSection.classList.remove('active');
            document.getElementById('findSalonsBtn').disabled = true;
        }
    }

    function updateServiceCards() {
        document.querySelectorAll('.service-card').forEach(card => {
            const serviceId = card.onclick.toString().match(/'([^']+)'/)[1];
            if (selectedServices.includes(serviceId)) {
                card.classList.add('selected');
            } else {
                card.classList.remove('selected');
            }
        });
    }

    function updateSelectedServices() {
        const container = document.getElementById('selectedTags');
        if (selectedServices.length === 0) {
            container.innerHTML = '<div style="color:#999; font-style:italic;">No services selected yet</div>';
            return;
        }
        
        let html = '';
        selectedServices.forEach(serviceId => {
            const service = serviceData[serviceId];
            if (service) {
                html += `
                    <div class="selected-tag" onclick="removeService('${serviceId}')">
                        ${service.name} (‚Çπ${service.price})
                        <span class="remove-tag">√ó</span>
                    </div>
                `;
            }
        });
        container.innerHTML = html;
    }

    function removeService(serviceId) {
        selectedServices = selectedServices.filter(id => id !== serviceId);
        updateSelectedServices();
        updateServiceCards();
        
        if (selectedServices.length === 0) {
            document.getElementById('selectedServices').classList.remove('active');
            document.getElementById('findSalonsBtn').disabled = true;
        }
    }

    // Salon Functions
    async function findSalons() {
        if (!userLocation) {
            alert('Please select a location first');
            openLocationModal();
            return;
        }
        
        if (selectedServices.length === 0) {
            alert('Please select at least one service');
            return;
        }
        
        // Hide services section, show salons section
        document.getElementById('servicesSection').classList.remove('active');
        document.getElementById('salonsSection').classList.add('active');
        document.getElementById('changeFiltersBtn').style.display = 'inline-block';
        
        // Reset pagination
        currentPage = 1;
        hasMore = true;
        totalSalons = 0;
        
        // Clear previous results
        document.getElementById('salonsGrid').innerHTML = '';
        document.getElementById('loadMoreContainer').style.display = 'none';
        
        // Show loading
        const loadingHtml = `
            <div style="grid-column:1/-1; text-align:center; padding:60px 0;">
                <div class="loading" style="width:40px;height:40px;margin:0 auto 20px;"></div>
                <div style="color:#666;">Finding salons for you...</div>
            </div>
        `;
        document.getElementById('salonsGrid').innerHTML = loadingHtml;
        
        // Load salons
        await loadSalons();
    }

    async function loadSalons() {
        if (isLoading || !hasMore) return;
        
        isLoading = true;
        
        try {
            const params = new URLSearchParams({
                page: currentPage,
                limit: 9,
                services: selectedServices.join(','),
                location: userLocation.city || userLocation.address,
                lat: userLocation.latitude || '',
                lng: userLocation.longitude || '',
                sort: 'rating'
            });
            
            const response = await fetch(`/api/salons?${params}`);
            const data = await response.json();
            
            const container = document.getElementById('salonsGrid');
            
            if (currentPage === 1) {
                container.innerHTML = '';
            }
            
            if (!data.success || !data.salons || data.salons.length === 0) {
                hasMore = false;
                
                if (currentPage === 1) {
                    container.innerHTML = `
                        <div class="no-results">
                            <div>üîç</div>
                            <h3>No salons found</h3>
                            <p>We couldn't find any salons matching your criteria in ${userLocation.city || userLocation.address.split(',')[0]}</p>
                            <button class="btn-change-filters" onclick="changeFilters()">
                                Change Services
                            </button>
                        </div>
                    `;
                }
                
                document.getElementById('loadMoreContainer').style.display = 'none';
                return;
            }
            
            // Update count text
            totalSalons = data.totalCount || data.salons.length;
            document.getElementById('salonCountText').textContent = 
                `${totalSalons} Salons in ${userLocation.city || userLocation.address.split(',')[0]}`;
            
            // Update filters text
            const filtersText = document.getElementById('salonFiltersText');
            let filtersHtml = `Showing results for: `;
            selectedServices.forEach(serviceId => {
                const service = serviceData[serviceId];
                if (service) {
                    filtersHtml += `
                        <span class="filter-tag">
                            ${service.name}
                            <span class="remove" onclick="removeServiceFromFilters('${serviceId}')">√ó</span>
                        </span>
                    `;
                }
            });
            filtersText.innerHTML = filtersHtml;
            
            // Add salon cards
            data.salons.forEach(salon => {
                const salonCard = document.createElement('div');
                salonCard.className = 'salon-card';
                salonCard.innerHTML = `
                    <div class="salon-image">
                        <img src="${salon.image || '/images/default-salon.jpg'}" alt="${salon.name}" onerror="this.src='/images/default-salon.jpg'">
                        <div class="availability-badge ${salon.isAvailableToday ? '' : 'unavailable-badge'}">
                            ${salon.isAvailableToday ? '‚úì Available Today' : '‚úó Unavailable Today'}
                        </div>
                    </div>
                    <div class="salon-info">
                        <h3 class="salon-name">${salon.name}</h3>
                        <div class="salon-rating">
                            <span class="stars">${'‚òÖ'.repeat(Math.floor(salon.rating))}${'‚òÜ'.repeat(5-Math.floor(salon.rating))}</span>
                            <span class="rating-number">${salon.rating.toFixed(1)}</span>
                            <span class="review-count">(${salon.reviewCount} reviews)</span>
                        </div>
                        <div class="salon-location">
                            <span>üìç</span>
                            <span>${salon.location || 'Location not specified'}</span>
                        </div>
                        <div class="salon-price">
                            <span>From ‚Çπ${salon.startingPrice || salon.minPrice || 0}</span>
                            ${salon.homeService ? '<span class="home-service-badge">üè° Home Service</span>' : ''}
                        </div>
                        <div class="salon-services">
                            ${(salon.topServices || salon.services || []).slice(0, 3).map(service => 
                                `<span class="service-tag">${service}</span>`
                            ).join('')}
                            ${(salon.topServices || salon.services || []).length > 3 ? 
                                `<span class="service-tag">+${(salon.topServices || salon.services || []).length - 3} more</span>` : ''}
                        </div>
                    </div>
                `;
                
                salonCard.onclick = () => openSalonDetail(salon._id);
                container.appendChild(salonCard);
            });
            
            // Show load more button if there are more results
            hasMore = data.hasMore || data.salons.length === 9;
            if (hasMore) {
                document.getElementById('loadMoreContainer').style.display = 'block';
                currentPage++;
            } else {
                document.getElementById('loadMoreContainer').style.display = 'none';
            }
            
        } catch (error) {
            console.error('Error loading salons:', error);
            const container = document.getElementById('salonsGrid');
            if (currentPage === 1) {
                container.innerHTML = `
                    <div class="no-results">
                        <div>‚ö†Ô∏è</div>
                        <h3>Error Loading Salons</h3>
                        <p>There was an error loading salons. Please try again.</p>
                        <button class="btn-change-filters" onclick="changeFilters()">
                            Change Services
                        </button>
                    </div>
                `;
            }
        } finally {
            isLoading = false;
            document.getElementById('loadMoreBtn').disabled = false;
            document.getElementById('loadMoreBtn').innerHTML = 'Load More Salons';
        }
    }

    async function loadMoreSalons() {
        if (isLoading) return;
        
        const loadMoreBtn = document.getElementById('loadMoreBtn');
        loadMoreBtn.disabled = true;
        loadMoreBtn.innerHTML = '<span class="loading"></span>';
        
        await loadSalons();
    }

    function removeServiceFromFilters(serviceId) {
        removeService(serviceId);
        
        // Reload salons with updated filters
        if (document.getElementById('salonsSection').classList.contains('active')) {
            findSalons();
        }
    }

    function changeFilters() {
        // Go back to services section
        document.getElementById('salonsSection').classList.remove('active');
        document.getElementById('servicesSection').classList.add('active');
        document.getElementById('changeFiltersBtn').style.display = 'none';
    }

    function openSalonDetail(salonId) {
        // Redirect to salon detail page
        window.location.href = `/book-a-saloon/${salonId}`;
    }

    function openSortFilter() {
        // Implement sort/filter modal
        alert('Sort & Filter functionality will be implemented here');
    }
</script>
        <!-- Footer -->
         <footer id="footer" class="footer">
    <div class="footer-wrap">
        <div class="footer-body">
            <div class="container">
                <div class="row">
                    <div class="col-lg-5">
                        <div class="footer-infor">
                            <div class="footer-logo">
                                <a href="/">
                                    <img src="/images/logo/blushley-png-without-shade.png" alt="">
                                </a>
                            </div>
                            <p>Premium beauty products and professional beautician services. Shop skincare,
                                makeup, and hair care essentials, or book appointments with our network of
                                experienced beauticians.</p>
                        </div>
                    </div>
                    <div class="col-lg-4">
                        <div class="footer-menu footer-menu-texts">
                            <div class="footer-col-block">
                                <div class="footer-heading text-button footer-heading-mobile">
                                    Information
                                </div>
                                <div class="tf-collapse-content">
                                    <ul class="footer-menu-list">
                                        <li class="text-caption-1">
                                            <a href="/about" class="footer-menu_item">About Us</a>
                                        </li>
                                        <li class="text-caption-1">
                                            <a href="/contact" class="footer-menu_item">Contact us</a>
                                        </li>
                                        <li class="text-caption-1">
                                            <a href="/user-account" class="footer-menu_item">My Account</a>
                                        </li>
                                        <li class="text-caption-1">
                                            <a href="/terms_and_conditions" class="footer-menu_item">Terms & Conditions</a>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                            <div class="footer-col-block">
                                <div class="footer-heading text-button footer-heading-mobile">
                                    Services
                                </div>
                                <div class="tf-collapse-content">
                                    <ul class="footer-menu-list">
                                        <li class="text-caption-1">
                                            <a href="#" class="footer-menu_item">Shipping</a>
                                        </li>
                                        <li class="text-caption-1">
                                            <a href="#" class="footer-menu_item">Return & Refund</a>
                                        </li>
                                        <li class="text-caption-1">
                                            <a href="/wishlist" class="footer-menu_item">My Wishlist</a>
                                        </li>
                                        <li class="text-caption-1">
                                            <a href="/privacy_policy" class="footer-menu_item">Privacy Policy</a>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-3">
                        <div class="footer-heading text-button footer-heading-mobile">
                            contact us
                        </div>
                        <div class="footer-address">
                            <p>Trivandrum, Kerala</p>
                        </div>
                        <ul class="footer-info">
                            <li>
                                <i class="icon-mail"></i>
                                <p><a  href="mailto:blushleyoffice@gmail.com">blushleyoffice@gmail.com</a></p>
                            </li>
                            <li>
                                <i class="icon-phone"></i>
 <p><a class="ft-number" href="tel:+917994145723">+91 7994 145 723</a></p>
                            </li>
                        </ul>
                          <div class="tf-cur mt-3">
                                    <ul class="tf-social-icon">
                                        <li><a href="#" class="social-facebook"><i class="icon icon-fb"></i></a></li>
                                        <li><a href="#" class="social-twiter"><i class="icon icon-x"></i></a></li>
                                        <li><a href="#" class="social-instagram"><i class="icon icon-instagram"></i></a></li>
                                    </ul>
                                </div>
                    </div>
                 
                </div>
            </div>
        </div>
        <div class="footer-bottom">
            <div class="container">
                <div class="row">
                    <div class="col-12">
                        <div class="footer-bottom-wrap">
                            <div class="left">
                                <p class="text-caption-1">¬©2025 Blushley. All Rights Reserved.| Developed by Trivlogic Private Limited</p>
                              
                            </div>
                            <div class="tf-payment">
                                <p class="text-caption-1">Payment:</p>
                                <ul>
                                    <li><img src="/images/payment/img-1.png" alt=""></li>
                                    <li><img src="/images/payment/img-2.png" alt=""></li>
                                    <li><img src="/images/payment/img-3.png" alt=""></li>
                                    <li><img src="/images/payment/img-4.png" alt=""></li>
                                    <li><img src="/images/payment/img-5.png" alt=""></li>
                                    <li><img src="/images/payment/img-6.png" alt=""></li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</footer>
</div>

<div class="mobile-nav-wrapper" id="mobileNavWrapper">
    <!-- Floating Top Toolbar -->
    <div class="tf-toolbar-top hide" id="mobileTopToolbar">

        <div class="toolbar-item">
          <a href="/saloon-at-home">
            <div class="toolbar-icon">
              <!-- svg -->
            </div>
            <div class="toolbar-label">Salon at Home</div>
          </a>
        </div>

        <div class="toolbar-logo">
          <a href="/" aria-label="Home">
            <img src="/images/logo/Blushley-png-logo.png" alt="Logo" style="width: 30px;">
          </a>
        </div>
      
        <div class="toolbar-item">
          <a href="/book-a-saloon">
            <!-- svg -->
            <div class="toolbar-label">Book a Salon</div>
          </a>
        </div>
      
      </div>
      
    <!-- toolbar-bottom -->
    <div class="tf-toolbar-bottom">
        <div class="toolbar-item">
            <a href="/">
                <div class="toolbar-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24"
                        fill="none" stroke="#4D4E4F" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2h-4a2 2 0 0 1-2-2v-5H9v5a2 2 0 0 1-2 2H3z"></path>
                    </svg>
                </div>
                <div class="toolbar-label">Home</div>
            </a>
        </div>
        <div class="toolbar-item">
            <a href="/shop">
                <div class="toolbar-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24"
                        fill="none" stroke="#4D4E4F" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M6 2l1 7h10l1-7H6zM5 9h14l-1 11H6L5 9z"></path>
                    </svg>
                </div>
                <div class="toolbar-label">Store</div>
            </a>
        </div>
        <div class="toolbar-item">
            <% if (!user || user.role !== "user") { %>
                <!-- NOT LOGGED IN or NOT a normal user -->
                <a href="/userLogin">
                  <div class="toolbar-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24"
                        fill="none" stroke="#4D4E4F" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                      <path d="M20 21v-2a4 4 0 0 0-3-3.87"></path>
                      <path d="M4 21v-2a4 4 0 0 1 3-3.87"></path>
                      <circle cx="12" cy="7" r="4"></circle>
                    </svg>
                  </div>
                  <div class="toolbar-label">Login</div>
                </a>
            <% } else { %>
                <!-- NORMAL USER -->
                <a href="/user-account">
                  <div class="toolbar-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24"
                        fill="none" stroke="#4D4E4F" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                      <path d="M20 21v-2a4 4 0 0 0-3-3.87"></path>
                      <path d="M4 21v-2a4 4 0 0 1 3-3.87"></path>
                      <circle cx="12" cy="7" r="4"></circle>
                    </svg>
                  </div>
                  <div class="toolbar-label">Account</div>
                </a>
            <% } %>
        </div>
          
        <div class="toolbar-item">
            <a href="/user-orders">
                <div class="toolbar-icon">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none"
                        xmlns="http://www.w3.org/2000/svg">
                        <rect x="3" y="3" width="18" height="18" rx="2" stroke="#4D4E4F" stroke-width="2" />
                        <path d="M9 3V6M15 3V6M3 9H21" stroke="#4D4E4F" stroke-width="2"
                            stroke-linecap="round" />
                    </svg>
                </div>
                <div class="toolbar-label">Orders</div>
            </a>
        </div>
        <div class="toolbar-item">
            <a href="/wishlist">
                <div class="toolbar-icon">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none"
                        xmlns="http://www.w3.org/2000/svg">
                        <path
                            d="M20.84 4.61C20.33 4.1 19.72 3.69 19.05 3.42C18.39 3.14 17.67 3 16.95 3C16.23 3 15.51 3.14 14.84 3.42C14.18 3.69 13.57 4.1 13.06 4.61L12 5.67L10.94 4.61C9.91 3.58 8.51 3 7.05 3C5.59 3 4.19 3.58 3.16 4.61C2.13 5.64 1.55 7.04 1.55 8.5C1.55 9.96 2.13 11.36 3.16 12.39L4.22 13.45L12 21.23L19.78 13.45L20.84 12.39C21.35 11.88 21.76 11.27 22.03 10.61C22.31 9.94 22.45 9.22 22.45 8.5C22.45 7.78 22.31 7.06 22.03 6.39C21.76 5.73 21.35 5.12 20.84 4.61Z"
                            stroke="currentColor" stroke-width="2" stroke-linecap="round"
                            stroke-linejoin="round" />
                    </svg>
                </div>
                <div class="toolbar-label">Wishlist</div>
            </a>
        </div>

    </div>
    <!-- /toolbar-bottom -->
</div>
<script>
    document.addEventListener("DOMContentLoaded", () => {
      const topToolbar = document.getElementById("mobileTopToolbar");
      if (!topToolbar) return;
    
      const isMobile = () => window.innerWidth <= 768;
    
      let lastScrollTop = window.pageYOffset || document.documentElement.scrollTop;
      const scrollThreshold = 5;
    
      // start hidden
      topToolbar.classList.add("hide");
      topToolbar.classList.remove("show");
    
      window.addEventListener("scroll", () => {
        if (!isMobile()) return;
    
        const scrollTop = window.pageYOffset || document.documentElement.scrollTop;
    
        // ‚úÖ show only after small scroll (so not in top)
        if (scrollTop < 150) {
          topToolbar.classList.add("hide");
          topToolbar.classList.remove("show");
          lastScrollTop = scrollTop;
          return;
        }
    
        if (Math.abs(scrollTop - lastScrollTop) < scrollThreshold) return;
    
        // ‚úÖ scroll down => show
        if (scrollTop > lastScrollTop) {
          topToolbar.classList.remove("hide");
          topToolbar.classList.add("show");
        }
        // ‚úÖ scroll up => hide
        else {
          topToolbar.classList.add("hide");
          topToolbar.classList.remove("show");
        }
    
        lastScrollTop = scrollTop <= 0 ? 0 : scrollTop;
      }, { passive: true });
    });
    </script>


        <!-- search -->
        <div class="modal fade modal-search" id="search" tabindex="-1" aria-hidden="true">
            <div class="modal-dialog modal-dialog-centered">
              <div class="modal-content p-3">
                <div class="d-flex justify-content-between align-items-center mb-2">
                  <h5 class="m-0">Search</h5>
                  <button type="button" class="btn btn-sm btn-light" data-bs-dismiss="modal" aria-label="Close">&times;</button>
                </div>
          
                <div class="search-bar-wrapper d-flex align-items-center mb-2">
                  <form class="form-search flex-grow-1" onsubmit="return false;" id="searchForm">
                    <fieldset class="text m-0">
                      <input id="searchInput" type="text" placeholder="Start typing (min 3 characters)..." name="text" tabindex="0"
                             aria-required="true" autocomplete="off" class="form-control" />
                    </fieldset>
                  </form>
          
                  <button id="searchFilterToggleBtn" class="btn btn-outline-secondary ms-2" type="button" onclick="Search.toggleFilterSection()">
                      Filters <span id="searchFilterCount" class="badge bg-secondary" style="display:none;">0</span>
                  </button>
                </div>
          
                <!-- Filters (hidden until modal opened and data loaded) -->
                <div id="searchFilterSection" class="card card-body mb-2" style="display:none;">
                  <div class="d-flex justify-content-between mb-2">
                    <strong>Filters</strong>
                    <button class="btn btn-sm btn-link" id="searchClearFiltersBtn" onclick="Search.clearAllFilters()" style="display:none;">Clear All</button>
                  </div>
          
                  <div class="mb-2">
                    <label class="form-label mb-1">Categories</label>
                    <div id="searchCategoryContainer" class="d-flex flex-wrap gap-2"></div>
                  </div>
          
                  <div class="mb-2">
                    <label class="form-label mb-1">Brands</label>
                    <div id="searchBrandContainer" class="d-flex flex-wrap gap-2"></div>
                  </div>
                </div>
          
                <div class="mb-2">
                  <h6 class="mb-1">Suggestions</h6>
                  <div id="searchSuggestions" class="small text-muted">Type 3 characters to see results</div>
                </div>
          
                <div class="mb-2">
                  <h6 class="mb-1">Recently viewed</h6>
                  <div id="searchRecentlyViewed" class="d-flex flex-wrap gap-2"></div>
                </div>
          
                <!-- Results -->
                <div id="searchResultsContainer" class="list-group"></div>
          
                <div class="mt-3 text-end">
                  <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                </div>
              </div>
            </div>
          </div>
        <!-- /search -->
    <!-- mobile menu -->
    <div class="offcanvas offcanvas-start canvas-mb" id="mobileMenu">
        <span class="icon-close icon-close-popup" data-bs-dismiss="offcanvas" aria-label="Close"></span>
        <div class="mb-canvas-content">
            <div class="mb-body">
                <div class="mb-content-top">
                    <form class="form-search">
                        <fieldset class="text">
                            <input type="text" placeholder="What are you looking for?" class="" name="text" tabindex="0"
                                value="" aria-required="true" required="">
                        </fieldset>
                        <button class="" type="submit">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none"
                                xmlns="http://www.w3.org/2000/svg">
                                <path
                                    d="M11 19C15.4183 19 19 15.4183 19 11C19 6.58172 15.4183 3 11 3C6.58172 3 3 6.58172 3 11C3 15.4183 6.58172 19 11 19Z"
                                    stroke="#181818" stroke-linecap="round" stroke-linejoin="round" />
                                <path d="M20.9984 20.9999L16.6484 16.6499" stroke="#181818" stroke-linecap="round"
                                    stroke-linejoin="round" />
                            </svg>
                        </button>
                    </form>
                    <ul class="nav-ul-mb" id="wrapper-menu-navigation">
                        <li class="nav-mb-item active">
                            <a href="/" class="mb-menu-link">
                                <span>Home</span>

                            </a>

                        </li>

                        <li class="nav-mb-item active">
                            <a href="/about" class="mb-menu-link">
                                <span>About</span>
                            </a>
                        </li>
                        <li class="nav-mb-item active">
                            <a href="/shop" class="mb-menu-link">
                                <span>Shop</span>

                            </a>

                        </li>
                        <li class="nav-mb-item active">
                            <a href="/saloon-at-home" class="mb-menu-link">
                                <span>Salon at Home</span>

                            </a>

                        </li>
                        <li class="nav-mb-item active">
                            <a href="/book-a-saloon" class="mb-menu-link">
                                <span>Book a Salon</span>

                            </a>

                        </li>

                        <li class="nav-mb-item active">
                            <a href="/userblogs" class="mb-menu-link">
                                <span>Blogs</span>

                            </a>

                        </li>
                        <li class="nav-mb-item active">
                            <a href="/contact" class="mb-menu-link">
                                <span>Contact</span>

                            </a>

                        </li>


                    </ul>
                </div>
                <div class="mb-other-content">
                    <div class="group-icon">
                        <a href="/wishlist" class="site-nav-icon">
                            <svg class="icon" width="18" height="18" viewBox="0 0 24 24" fill="none"
                                xmlns="http://www.w3.org/2000/svg">
                                <path
                                    d="M20.8401 4.60987C20.3294 4.09888 19.7229 3.69352 19.0555 3.41696C18.388 3.14039 17.6726 2.99805 16.9501 2.99805C16.2276 2.99805 15.5122 3.14039 14.8448 3.41696C14.1773 3.69352 13.5709 4.09888 13.0601 4.60987L12.0001 5.66987L10.9401 4.60987C9.90843 3.57818 8.50915 2.99858 7.05012 2.99858C5.59109 2.99858 4.19181 3.57818 3.16012 4.60987C2.12843 5.64156 1.54883 7.04084 1.54883 8.49987C1.54883 9.95891 2.12843 11.3582 3.16012 12.3899L4.22012 13.4499L12.0001 21.2299L19.7801 13.4499L20.8401 12.3899C21.3511 11.8791 21.7565 11.2727 22.033 10.6052C22.3096 9.93777 22.4519 9.22236 22.4519 8.49987C22.4519 7.77738 22.3096 7.06198 22.033 6.39452C21.7565 5.72706 21.3511 5.12063 20.8401 4.60987V4.60987Z"
                                    stroke="#181818" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
                            </svg>
                            Wishlist
                        </a>

                        <a href="/userLogin" class="site-nav-icon">
                            <svg class="icon" width="18" height="18" viewBox="0 0 24 24" fill="none"
                                xmlns="http://www.w3.org/2000/svg">
                                <path
                                    d="M20 21V19C20 17.9391 19.5786 16.9217 18.8284 16.1716C18.0783 15.4214 17.0609 15 16 15H8C6.93913 15 5.92172 15.4214 5.17157 16.1716C4.42143 16.9217 4 17.9391 4 19V21"
                                    stroke="#181818" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
                                <path
                                    d="M12 11C14.2091 11 16 9.20914 16 7C16 4.79086 14.2091 3 12 3C9.79086 3 8 4.79086 8 7C8 9.20914 9.79086 11 12 11Z"
                                    stroke="#181818" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
                            </svg>
                            Login
                        </a>

                    </div>
                    <div class="mb-notice">
                        <a href="/contact" class="text-need">Need Help?</a>
                    </div>
                    <div class="mb-contact">
                        <p class="text-caption-1">Trivandrum, Kerala</p>
                        <!-- <a href="/contact" class="tf-btn-default text-btn-uppercase">GET DIRECTION<i
                                class="icon-arrowUpRight"></i></a>-->
                    </div>
                    <ul class="mb-info">
                        <li>
                            <i class="icon icon-mail"></i>
                            <p><a  href="mailto:blushleyoffice@gmail.com">blushleyoffice@gmail.com</a></p>
                        </li>
                        <li>
                            <i class="icon icon-phone"></i>
                            <p>+91 7994 145 723</p>
                        </li>
                    </ul>
                </div>
            </div>

        </div>
    </div>
    <!-- /mobile menu -->

    <!-- shoppingCart -->

    <div class="modal fullRight fade modal-shopping-cart" id="shoppingCart">
        <div class="modal-dialog">
            <div class="modal-content">
    
                <div class="d-flex flex-column flex-grow-1 h-100">
                    <div class="header">
                        <h5 class="title">Shopping Cart</h5>
                        <span class="icon-close icon-close-popup" data-bs-dismiss="modal"></span>
                    </div>
    
                    <div class="wrap">
                        <div class="tf-mini-cart-wrap">
    
                            <!-- MAIN CART SCROLL AREA -->
                            <div class="tf-mini-cart-main">
                                <div class="tf-mini-cart-sroll">
    
                                    <!-- *********************************** -->
                                    <!-- THIS IS THE ONLY CHANGE YOU MUST KEEP -->
                                    <!-- *********************************** -->
                                    <div class="tf-mini-cart-items"></div>
                                    <!-- cart.js will dynamically append items here -->
    
                                </div>
                            </div>
    
                            <!-- BOTTOM SECTION -->
                            <div class="tf-mini-cart-bottom">
                                <div class="tf-mini-cart-tool"></div>
    
                                <div class="tf-mini-cart-bottom-wrap">
                                    <div class="tf-cart-totals-discounts">
                                        <h5>Subtotal</h5>
    
                                        <!-- REQUIRED for JS -->
                                        <h5 class="tf-totals-total-value">‚Çπ0</h5>
                                    </div>
    
                                    <div class="tf-cart-checkbox">
                                        <div class="tf-checkbox-wrapp">
                                            <input type="checkbox" id="CartDrawer-Form_agree">
                                            <div><i class="icon-check"></i></div>
                                        </div>
                                        <label for="CartDrawer-Form_agree">
                                            I agree with
                                            <a href="/terms_and_conditions">Terms & Conditions</a>
                                        </label>
                                    </div>
    
                                    <div class="tf-mini-cart-view-checkout">
                                        <a href="/cart" class="tf-btn w-100 btn-white radius-4 has-border">
                                            <span class="text">View cart</span>
                                        </a>
                                        <a href="/cart" class="tf-btn w-100 btn-fill radius-4">
                                            <span class="text">Check Out</span>
                                        </a>
                                    </div>
    
                                    <div class="text-center">
                                        <a class="link text-btn-uppercase" href="/shop">Or continue shopping</a>
                                    </div>
                                </div>
                            </div>
    
                            <!-- EXTRA FEATURES (no change) -->
                            <div class="tf-mini-cart-tool-openable add-note">
                                <div class="tf-mini-cart-tool-content">
                                    <label for="Cart-note" class="tf-mini-cart-tool-text">
                                        <span class="icon">üìù</span>
                                        <span class="text-title">Note</span>
                                    </label>
    
                                    <form class="form-add-note tf-mini-cart-tool-wrap">
                                        <fieldset>
                                            <textarea id="Cart-note"
                                                placeholder="Add special instructions for your order..."></textarea>
                                        </fieldset>
                                        <div class="tf-cart-tool-btns">
                                            <button type="submit" class="btn-style-2 w-100">
                                                <span class="text text-btn-uppercase">Save</span>
                                            </button>
                                            <div class="text-center tf-mini-cart-tool-close">Cancel</div>
                                        </div>
                                    </form>
                                </div>
                            </div>
    
                            <div class="tf-mini-cart-tool-openable estimate-shipping">
                                <div class="tf-mini-cart-tool-content">
                                    <label class="tf-mini-cart-tool-text">
                                        <span class="icon">üöö</span>
                                        <span class="text-title">Estimate shipping rates</span>
                                    </label>
                                    <!-- Shipping form unchanged -->
                                </div>
                            </div>
    
                            <div class="tf-mini-cart-tool-openable add-gift">
                                <form class="tf-product-form-addgift">
                                    <!-- unchanged -->
                                </form>
                            </div>
    
                            <div class="tf-mini-cart-tool-openable add-coupon">
                                <div class="tf-mini-cart-tool-content">
                                    <label class="tf-mini-cart-tool-text">
                                        <span class="icon">üéü</span>
                                        <span class="text-title">Add A Coupon Code</span>
                                    </label>
                                    <form class="form-add-coupon tf-mini-cart-tool-wrap">
                                        <!-- unchanged -->
                                    </form>
                                </div>
                            </div>
    
                        </div>
                    </div>
    
                </div>
    
            </div>
        </div>
    </div>
    <!-- /shoppingCart -->

    <!-- Javascript -->
    <script type="text/javascript" src="/js/cart.js"></script>
    <script type="text/javascript" src="/js/search.js"></script>
    <script type="text/javascript" src="/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="/js/jquery.min.js"></script>
    <script type="text/javascript" src="/js/swiper-bundle.min.js"></script>
    <script type="text/javascript" src="/js/carousel.js"></script>
    <script type="text/javascript" src="/js/bootstrap-select.min.js"></script>
    <script type="text/javascript" src="/js/lazysize.min.js"></script>
    <script type="text/javascript" src="/js/count-down.js"></script>
    <script type="text/javascript" src="/js/wow.min.js"></script>
    <script type="text/javascript" src="/js/multiple-modal.js"></script>
    <script type="text/javascript" src="/js/nouislider.min.js"></script>
    <script type="text/javascript" src="/js/shop.js"></script>
    <script type="text/javascript" src="/js/main.js"></script>

  

 
    <script src="https://maps.googleapis.com/maps/api/js?key=YOUR_GOOGLE_MAPS_API_KEY&libraries=places"></script>



       <script>
    document.addEventListener('DOMContentLoaded', function() {
    const navAccount = document.querySelector('.nav-account');
    const navIconItem = navAccount.querySelector('.nav-icon-item');
    
    // Toggle dropdown on click
    navIconItem.addEventListener('click', function(e) {
        e.preventDefault();
        e.stopPropagation();
        navAccount.classList.toggle('show-dropdown');
    });
    
    // Close dropdown when clicking outside
    document.addEventListener('click', function(e) {
        if (!navAccount.contains(e.target)) {
            navAccount.classList.remove('show-dropdown');
        }
    });
    
    // Prevent dropdown from closing when clicking inside it
    const dropdown = navAccount.querySelector('.dropdown-account');
    dropdown.addEventListener('click', function(e) {
        e.stopPropagation();
    });
});

</script>

       <script>  if (document.querySelector("#sib-form")) { const script = document.createElement('script');script.src = 'js/sibforms.js';script.defer = true;document.body.appendChild(script);}</script>
</body>




</html>